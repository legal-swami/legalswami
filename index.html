<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LegalSwami | AI-Powered Legal Assistant & Document Generator</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Playfair+Display:wght@700;800&display=swap" rel="stylesheet">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/chat.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <!-- Google Client ID -->
    <meta name="google-client-id" 
          content="166511615962-bohur5q8d4i5hud6icr4185kcte9enk8.apps.googleusercontent.com">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚öñÔ∏è</text></svg>">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#1a237e">
    
    <!-- Open Graph / Social Media -->
    <meta property="og:title" content="LegalSwami - AI Legal Assistant">
    <meta property="og:description" content="Get instant legal advice, generate documents, and understand laws with AI">
    <meta property="og:image" content="https://legalswami.com/og-image.jpg">
    <meta property="og:url" content="https://legalswami.com">
    
    <style>
        /* Premium Custom Styles */
        :root {
            --gold-gradient: linear-gradient(135deg, #FFD700 0%, #FFA000 100%);
            --blue-gradient: linear-gradient(135deg, #1a237e 0%, #283593 100%);
            --premium-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            --glow-effect: 0 0 30px rgba(26, 35, 126, 0.3);
        }
        
        /* Premium Loading Animation */
        .loading-spinner {
            border: 4px solid rgba(255, 215, 0, 0.1);
            border-top-color: #FFD700;
            border-right-color: #1a237e;
            border-bottom-color: #FFD700;
            border-left-color: #1a237e;
            animation: premium-spin 2s linear infinite;
        }
        
        @keyframes premium-spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Gavel Animation */
        .gavel-animation {
            animation: gavelSwing 3s ease-in-out infinite;
            transform-origin: center bottom;
        }
        
        @keyframes gavelSwing {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-10deg); }
            75% { transform: rotate(10deg); }
        }
        
        /* Floating Animation */
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        
        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        /* Pulse Animation */
        .pulse-glow {
            animation: pulseGlow 2s infinite;
        }
        
        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 0 20px rgba(255, 215, 0, 0.3); }
            50% { box-shadow: 0 0 40px rgba(255, 215, 0, 0.6); }
        }
        
        /* Text Reveal Animation */
        .text-reveal {
            animation: textReveal 1.5s ease-out;
        }
        
        @keyframes textReveal {
            from { 
                opacity: 0;
                transform: translateY(20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Premium Button Hover Effect */
        .btn-premium {
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .btn-premium::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.7s ease;
        }
        
        .btn-premium:hover::before {
            left: 100%;
        }
        
        .btn-premium:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: var(--premium-shadow);
        }
        
        /* Legal Seal Effect */
        .legal-seal {
            position: relative;
            border: 3px solid #FFD700;
            border-radius: 50%;
            padding: 2px;
            background: var(--blue-gradient);
        }
        
        .legal-seal::after {
            content: '';
            position: absolute;
            top: -6px;
            left: -6px;
            right: -6px;
            bottom: -6px;
            border: 2px dashed rgba(255, 215, 0, 0.3);
            border-radius: 50%;
            animation: rotate 20s linear infinite;
        }
        
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Glowing Border */
        .glow-border {
            position: relative;
        }
        
        .glow-border::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: var(--gold-gradient);
            border-radius: inherit;
            z-index: -1;
            opacity: 0.5;
            filter: blur(10px);
        }
        
        /* Shimmer Text */
        .shimmer-text {
            background: linear-gradient(90deg, #FFD700, #FFA000, #FFD700);
            background-size: 200% auto;
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shimmer 2s linear infinite;
        }
        
        @keyframes shimmer {
            0% { background-position: 200% center; }
            100% { background-position: -200% center; }
        }
        
        /* Premium Card Hover */
        .premium-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-style: preserve-3d;
        }
        
        .premium-card:hover {
            transform: translateY(-15px) rotateX(5deg);
            box-shadow: var(--premium-shadow), 0 0 40px rgba(26, 35, 126, 0.2);
        }
        
        /* Typewriter Effect */
        .typewriter {
            overflow: hidden;
            border-right: 3px solid #FFD700;
            white-space: nowrap;
            animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
        }
        
        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: #FFD700; }
        }
    </style>
</head>
<body>
    <!-- Premium Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner legal-seal" style="width: 80px; height: 80px; border-width: 4px;"></div>
            <h2 class="shimmer-text mt-4">LegalSwami</h2>
            <p class="text-light">Initializing AI Legal Assistant...</p>
            <div class="progress-bar mt-4" style="width: 200px; height: 4px; background: rgba(255,255,255,0.2); border-radius: 2px;">
                <div class="progress-fill" style="width: 0%; height: 100%; background: var(--gold-gradient); border-radius: 2px; animation: progressLoad 2s ease-out forwards;"></div>
            </div>
        </div>
    </div>

    <!-- Premium Navigation Bar -->
    <nav class="premium-navbar">
        <div class="nav-container">
            <!-- Logo with Animation -->
            <div class="nav-logo">
                <div class="logo-icon legal-seal" style="width: 50px; height: 50px; display: flex; align-items: center; justify-content: center;">
                    <i class="fas fa-gavel gavel-animation" style="font-size: 1.5rem; color: #FFD700;"></i>
                </div>
                <div class="logo-text">
                    <h1 class="logo-title shimmer-text">LegalSwami</h1>
                    <p class="logo-subtitle">AI Legal Assistant</p>
                </div>
            </div>

            <!-- Desktop Navigation -->
            <div class="nav-menu">
                <a href="#home" class="nav-link active" data-scroll="home">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </a>
                <a href="#features" class="nav-link" data-scroll="features">
                    <i class="fas fa-star"></i>
                    <span>Features</span>
                </a>
                <a href="#documents" class="nav-link" data-scroll="documents">
                    <i class="fas fa-file-contract"></i>
                    <span>Documents</span>
                </a>
                <a href="#testimonials" class="nav-link" data-scroll="testimonials">
                    <i class="fas fa-comment-dots"></i>
                    <span>Testimonials</span>
                </a>
                <a href="#pricing" class="nav-link" data-scroll="pricing">
                    <i class="fas fa-tag"></i>
                    <span>Pricing</span>
                </a>
            </div>

            <!-- User Actions -->
            <div class="nav-actions">
                <button id="headerLoginBtn" class="btn-login">
                    <i class="fas fa-sign-in-alt"></i>
                    <span>Login</span>
                </button>
                
                <div id="userProfile" class="user-profile" style="display: none;">
                    <div class="profile-avatar">
                        <div id="userAvatar"></div>
                    </div>
                    <div class="profile-info">
                        <span id="userName" class="profile-name"></span>
                        <span id="userEmail" class="profile-email"></span>
                    </div>
                    <button id="logoutBtn" class="btn-logout">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>

            <!-- Mobile Menu Toggle -->
            <button class="mobile-toggle" id="mobileToggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu-overlay" id="mobileMenu">
        <div class="mobile-menu-container">
            <div class="mobile-menu-header">
                <div class="logo-icon legal-seal" style="width: 60px; height: 60px;">
                    <i class="fas fa-gavel" style="font-size: 1.8rem; color: #FFD700;"></i>
                </div>
                <button class="mobile-close" id="mobileClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="mobile-menu-links">
                <a href="#home" class="mobile-link active">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </a>
                <a href="#features" class="mobile-link">
                    <i class="fas fa-star"></i>
                    <span>Features</span>
                </a>
                <a href="#documents" class="mobile-link">
                    <i class="fas fa-file-contract"></i>
                    <span>Documents</span>
                </a>
                <a href="#testimonials" class="mobile-link">
                    <i class="fas fa-comment-dots"></i>
                    <span>Testimonials</span>
                </a>
                <a href="#pricing" class="mobile-link">
                    <i class="fas fa-tag"></i>
                    <span>Pricing</span>
                </a>
                <a href="#chat" class="mobile-link" id="mobileStartChat">
                    <i class="fas fa-comments"></i>
                    <span>Start Chat</span>
                </a>
            </div>
        </div>
    </div>

    <!-- Hero Section with Parallax -->
    <section id="home" class="hero-section" style="background: linear-gradient(135deg, rgba(26, 35, 126, 0.95) 0%, rgba(33, 150, 243, 0.9) 100%), url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1000 1000\"><path fill=\"%23FFD700\" opacity=\"0.05\" d=\"M0,0 L1000,0 L1000,1000 L0,1000 Z\"/></svg>');">
        <div class="hero-container">
            <!-- Animated Background Elements -->
            <div class="hero-bg-elements">
                <div class="floating-element" style="top: 20%; left: 10%;">
                    <i class="fas fa-balance-scale floating" style="font-size: 3rem; color: rgba(255, 215, 0, 0.2);"></i>
                </div>
                <div class="floating-element" style="top: 60%; right: 15%;">
                    <i class="fas fa-gavel floating" style="font-size: 4rem; color: rgba(255, 215, 0, 0.15);"></i>
                </div>
                <div class="floating-element" style="bottom: 20%; left: 20%;">
                    <i class="fas fa-scale-balanced floating" style="font-size: 2.5rem; color: rgba(255, 215, 0, 0.1);"></i>
                </div>
            </div>
            
            <div class="hero-content">
                <div class="hero-badge">
                    <span class="badge-text">
                        <i class="fas fa-bolt"></i>
                        AI-POWERED LEGAL ASSISTANT
                    </span>
                </div>
                
                <h1 class="hero-title text-reveal">
                    Get <span class="shimmer-text">Instant Legal Help</span><br>
                    From Your AI Assistant
                </h1>
                
                <p class="hero-subtitle">
                    LegalSwami provides 24/7 AI-powered legal guidance, document generation, 
                    and legal research assistance. Get instant answers to your legal questions 
                    in simple, understandable language.
                </p>
                
                <div class="hero-stats">
                    <div class="stat-item">
                        <div class="stat-number shimmer-text">10,000+</div>
                        <div class="stat-label">Legal Documents Generated</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number shimmer-text">50,000+</div>
                        <div class="stat-label">Legal Questions Answered</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number shimmer-text">99.8%</div>
                        <div class="stat-label">User Satisfaction Rate</div>
                    </div>
                </div>
                
                <div class="hero-actions">
                    <button id="startChatBtn" class="btn-hero-primary btn-premium">
                        <i class="fas fa-comments"></i>
                        <span>Start Free Chat Now</span>
                        <div class="btn-sparkle">
                            <i class="fas fa-sparkle"></i>
                        </div>
                    </button>
                    
                    <button id="watchDemo" class="btn-hero-secondary">
                        <i class="fas fa-play-circle"></i>
                        <span>Watch Demo Video</span>
                    </button>
                </div>
                
                <div class="hero-trust">
                    <div class="trust-label">Trusted by</div>
                    <div class="trust-badges">
                        <div class="trust-badge">
                            <i class="fas fa-university"></i>
                            <span>Law Firms</span>
                        </div>
                        <div class="trust-badge">
                            <i class="fas fa-graduation-cap"></i>
                            <span>Law Students</span>
                        </div>
                        <div class="trust-badge">
                            <i class="fas fa-briefcase"></i>
                            <span>Businesses</span>
                        </div>
                        <div class="trust-badge">
                            <i class="fas fa-users"></i>
                            <span>Individuals</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="hero-illustration">
                <div class="ai-assistant-card premium-card pulse-glow" style="background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); border: 2px solid rgba(255, 215, 0, 0.3);">
                    <div class="assistant-avatar legal-seal" style="width: 120px; height: 120px;">
                        <i class="fas fa-robot" style="font-size: 3.5rem; color: #FFD700;"></i>
                    </div>
                    <h3 class="assistant-title">AI Legal Assistant</h3>
                    <p class="assistant-subtitle">Available 24/7</p>
                    
                    <div class="assistant-features">
                        <div class="feature">
                            <i class="fas fa-check-circle" style="color: #4CAF50;"></i>
                            <span>Instant Responses</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-check-circle" style="color: #4CAF50;"></i>
                            <span>Multi-Language</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-check-circle" style="color: #4CAF50;"></i>
                            <span>Document Generation</span>
                        </div>
                    </div>
                    
                    <button class="btn-assistant">
                        <i class="fas fa-comment-alt"></i>
                        Ask Legal Question
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Scroll Indicator -->
        <div class="scroll-indicator">
            <div class="mouse">
                <div class="wheel"></div>
            </div>
            <div class="arrow">
                <i class="fas fa-chevron-down"></i>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">
                    <span class="shimmer-text">Powerful Features</span> for All Your Legal Needs
                </h2>
                <p class="section-subtitle">
                    Everything you need in one comprehensive legal assistant
                </p>
            </div>
            
            <div class="features-grid">
                <!-- Feature 1 -->
                <div class="feature-card premium-card">
                    <div class="feature-icon legal-seal" style="width: 80px; height: 80px;">
                        <i class="fas fa-comments" style="font-size: 2.5rem; color: #FFD700;"></i>
                    </div>
                    <h3 class="feature-title">AI Chat Assistant</h3>
                    <p class="feature-description">
                        Ask legal questions in natural language and get instant, accurate responses powered by advanced AI.
                    </p>
                    <div class="feature-tags">
                        <span class="tag">24/7 Available</span>
                        <span class="tag">Multi-Language</span>
                    </div>
                </div>
                
                <!-- Feature 2 -->
                <div class="feature-card premium-card">
                    <div class="feature-icon legal-seal" style="width: 80px; height: 80px;">
                        <i class="fas fa-file-contract" style="font-size: 2.5rem; color: #FFD700;"></i>
                    </div>
                    <h3 class="feature-title">Smart Document Generation</h3>
                    <p class="feature-description">
                        Generate legal documents instantly in PDF, DOC, and TXT formats with customizable templates.
                    </p>
                    <div class="feature-tags">
                        <span class="tag">100+ Templates</span>
                        <span class="tag">Customizable</span>
                    </div>
                </div>
                
                <!-- Feature 3 -->
                <div class="feature-card premium-card">
                    <div class="feature-icon legal-seal" style="width: 80px; height: 80px;">
                        <i class="fas fa-shield-alt" style="font-size: 2.5rem; color: #FFD700;"></i>
                    </div>
                    <h3 class="feature-title">Bank-Level Security</h3>
                    <p class="feature-description">
                        End-to-end encryption and secure authentication to protect your sensitive legal data.
                    </p>
                    <div class="feature-tags">
                        <span class="tag">AES-256</span>
                        <span class="tag">GDPR Compliant</span>
                    </div>
                </div>
                
                <!-- Feature 4 -->
                <div class="feature-card premium-card">
                    <div class="feature-icon legal-seal" style="width: 80px; height: 80px;">
                        <i class="fas fa-history" style="font-size: 2.5rem; color: #FFD700;"></i>
                    </div>
                    <h3 class="feature-title">Complete Chat History</h3>
                    <p class="feature-description">
                        Access your complete chat history anytime. Export conversations as documents for record keeping.
                    </p>
                    <div class="feature-tags">
                        <span class="tag">Unlimited History</span>
                        <span class="tag">Export Options</span>
                    </div>
                </div>
                
                <!-- Feature 5 -->
                <div class="feature-card premium-card">
                    <div class="feature-icon legal-seal" style="width: 80px; height: 80px;">
                        <i class="fas fa-mobile-alt" style="font-size: 2.5rem; color: #FFD700;"></i>
                    </div>
                    <h3 class="feature-title">Mobile Responsive</h3>
                    <p class="feature-description">
                        Access LegalSwami from any device - desktop, tablet, or mobile phone with native-like experience.
                    </p>
                    <div class="feature-tags">
                        <span class="tag">PWA Support</span>
                        <span class="tag">Offline Mode</span>
                    </div>
                </div>
                
                <!-- Feature 6 -->
                <div class="feature-card premium-card">
                    <div class="feature-icon legal-seal" style="width: 80px; height: 80px;">
                        <i class="fas fa-language" style="font-size: 2.5rem; color: #FFD700;"></i>
                    </div>
                    <h3 class="feature-title">Multi-Language Support</h3>
                    <p class="feature-description">
                        Get legal advice in multiple languages including Hindi, English, Marathi, Gujarati, and more.
                    </p>
                    <div class="feature-tags">
                        <span class="tag">10+ Languages</span>
                        <span class="tag">Real-time Translation</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Document Types Section -->
    <section id="documents" class="documents-section" style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">
                    Generate <span class="shimmer-text">Legal Documents</span> Instantly
                </h2>
                <p class="section-subtitle">
                    Professional legal documents at your fingertips
                </p>
            </div>
            
            <div class="documents-grid">
                <!-- Document Category 1 -->
                <div class="document-category premium-card">
                    <div class="category-icon">
                        <i class="fas fa-handshake" style="color: #1a237e; font-size: 2.5rem;"></i>
                    </div>
                    <h3 class="category-title">Agreements & Contracts</h3>
                    <ul class="document-list">
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Rental Agreement</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Non-Disclosure Agreement</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Employment Contract</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Service Agreement</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Partnership Agreement</li>
                    </ul>
                    <button class="btn-generate">
                        <i class="fas fa-magic"></i>
                        Generate Now
                    </button>
                </div>
                
                <!-- Document Category 2 -->
                <div class="document-category premium-card">
                    <div class="category-icon">
                        <i class="fas fa-balance-scale" style="color: #1a237e; font-size: 2.5rem;"></i>
                    </div>
                    <h3 class="category-title">Legal Notices & Letters</h3>
                    <ul class="document-list">
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Legal Notice</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Cease & Desist Notice</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Demand Letter</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Notice to Quit</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Consumer Complaint</li>
                    </ul>
                    <button class="btn-generate">
                        <i class="fas fa-magic"></i>
                        Generate Now
                    </button>
                </div>
                
                <!-- Document Category 3 -->
                <div class="document-category premium-card">
                    <div class="category-icon">
                        <i class="fas fa-user-tie" style="color: #1a237e; font-size: 2.5rem;"></i>
                    </div>
                    <h3 class="category-title">Personal & Family</h3>
                    <ul class="document-list">
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Will & Testament</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Power of Attorney</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Affidavit</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Gift Deed</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Divorce Papers</li>
                    </ul>
                    <button class="btn-generate">
                        <i class="fas fa-magic"></i>
                        Generate Now
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="testimonials-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">
                    Trusted by <span class="shimmer-text">Thousands</span> of Users
                </h2>
                <p class="section-subtitle">
                    See what our users have to say about LegalSwami
                </p>
            </div>
            
            <div class="testimonials-carousel">
                <!-- Testimonial 1 -->
                <div class="testimonial-card premium-card">
                    <div class="testimonial-rating">
                        <i class="fas fa-star" style="color: #FFD700;"></i>
                        <i class="fas fa-star" style="color: #FFD700;"></i>
                        <i class="fas fa-star" style="color: #FFD700;"></i>
                        <i class="fas fa-star" style="color: #FFD700;"></i>
                        <i class="fas fa-star" style="color: #FFD700;"></i>
                    </div>
                    <p class="testimonial-text">
                        "LegalSwami helped me draft a professional rental agreement in minutes. The AI understood exactly what I needed and generated a perfect document. Saved me ‚Çπ5000 in lawyer fees!"
                    </p>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Rahul Sharma">
                        </div>
                        <div class="author-info">
                            <h4 class="author-name">Rahul Sharma</h4>
                            <p class="author-title">Small Business Owner</p>
                        </div>
                    </div>
                </div>
                
                <!-- Testimonial 2 -->
                <div class="testimonial-card premium-card">
                    <div class="testimonial-rating">
                        <i class="fas fa-star" style="color: #FFD700;"></i>
                        <i class="fas fa-star" style="color: #FFD700;"></i>
                        <i class="fas fa-star" style="color: #FFD700;"></i>
                        <i class="fas fa-star" style="color: #FFD700;"></i>
                        <i class="fas fa-star-half-alt" style="color: #FFD700;"></i>
                    </div>
                    <p class="testimonial-text">
                        "As a law student, LegalSwami is a game-changer! It helps me understand complex legal concepts and provides excellent research assistance. Like having a personal tutor 24/7."
                    </p>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Priya Patel">
                        </div>
                        <div class="author-info">
                            <h4 class="author-name">Priya Patel</h4>
                            <p class="author-title">Law Student, NLU Delhi</p>
                        </div>
                    </div>
                </div>
                
                <!-- Testimonial 3 -->
                <div class="testimonial-card premium-card">
                    <div class="testimonial-rating">
                        <i class="fas fa-star" style="color: #FFD700;"></i>
                        <i class="fas fa-star" style="color: #FFD700;"></i>
                        <i class="fas fa-star" style="color: #FFD700;"></i>
                        <i class="fas fa-star" style="color: #FFD700;"></i>
                        <i class="fas fa-star" style="color: #FFD700;"></i>
                    </div>
                    <p class="testimonial-text">
                        "The document generation feature saved our startup thousands! We needed multiple NDAs and service agreements. LegalSwami generated perfect documents in minutes. Incredible tool!"
                    </p>
                    <div class="testimonial-author">
                        <div class="author-avatar">
                            <img src="https://randomuser.me/api/portraits/men/67.jpg" alt="Ankit Verma">
                        </div>
                        <div class="author-info">
                            <h4 class="author-name">Ankit Verma</h4>
                            <p class="author-title">Tech Entrepreneur</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section id="pricing" class="pricing-section" style="background: linear-gradient(135deg, #1a237e 0%, #283593 100%);">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title" style="color: white;">
                    Simple, <span class="shimmer-text">Transparent</span> Pricing
                </h2>
                <p class="section-subtitle" style="color: rgba(255, 255, 255, 0.8);">
                    Choose the perfect plan for your legal needs
                </p>
            </div>
            
            <div class="pricing-cards">
                <!-- Free Plan -->
                <div class="pricing-card premium-card" style="background: white;">
                    <div class="pricing-badge">FREE</div>
                    <h3 class="pricing-title">Basic</h3>
                    <div class="pricing-price">
                        <span class="currency">‚Çπ</span>
                        <span class="amount">0</span>
                        <span class="period">/month</span>
                    </div>
                    <p class="pricing-description">Perfect for trying out LegalSwami</p>
                    
                    <ul class="pricing-features">
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> 10 AI Chat Messages/Day</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> 3 Document Generations/Month</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Basic Legal Questions</li>
                        <li><i class="fas fa-times-circle" style="color: #f44336;"></i> No Priority Support</li>
                        <li><i class="fas fa-times-circle" style="color: #f44336;"></i> No Document History</li>
                    </ul>
                    
                    <button class="btn-pricing" style="background: #1a237e; color: white;">
                        Get Started Free
                    </button>
                </div>
                
                <!-- Pro Plan -->
                <div class="pricing-card premium-card" style="background: white; transform: scale(1.05); border: 3px solid #FFD700;">
                    <div class="pricing-badge" style="background: var(--gold-gradient); color: #1a237e;">POPULAR</div>
                    <h3 class="pricing-title">Professional</h3>
                    <div class="pricing-price">
                        <span class="currency">‚Çπ</span>
                        <span class="amount">499</span>
                        <span class="period">/month</span>
                    </div>
                    <p class="pricing-description">Perfect for professionals & businesses</p>
                    
                    <ul class="pricing-features">
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Unlimited AI Chat Messages</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> 50 Document Generations/Month</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> All Document Templates</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Priority Support</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Complete Chat History</li>
                    </ul>
                    
                    <button class="btn-pricing btn-premium" style="background: var(--gold-gradient); color: #1a237e;">
                        <i class="fas fa-crown"></i>
                        Get Professional
                    </button>
                </div>
                
                <!-- Business Plan -->
                <div class="pricing-card premium-card" style="background: white;">
                    <div class="pricing-badge">BUSINESS</div>
                    <h3 class="pricing-title">Enterprise</h3>
                    <div class="pricing-price">
                        <span class="currency">‚Çπ</span>
                        <span class="amount">1,499</span>
                        <span class="period">/month</span>
                    </div>
                    <p class="pricing-description">For law firms & large organizations</p>
                    
                    <ul class="pricing-features">
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Everything in Professional</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Unlimited Document Generation</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Team Collaboration</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Custom Templates</li>
                        <li><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Dedicated Account Manager</li>
                    </ul>
                    
                    <button class="btn-pricing" style="background: #1a237e; color: white;">
                        Contact Sales
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section" style="background: linear-gradient(135deg, #FFD700 0%, #FFA000 100%);">
        <div class="container">
            <div class="cta-content">
                <h2 class="cta-title" style="color: #1a237e;">
                    Ready to Experience <br>
                    AI-Powered Legal Assistance?
                </h2>
                <p class="cta-description" style="color: rgba(26, 35, 126, 0.9);">
                    Join thousands of satisfied users who trust LegalSwami for their legal needs. 
                    No credit card required to get started.
                </p>
                
                <div class="cta-actions">
                    <button id="ctaStartChat" class="btn-cta-primary btn-premium" style="background: #1a237e; color: white;">
                        <i class="fas fa-rocket"></i>
                        Start Free Chat Now
                    </button>
                    
                    <button id="ctaScheduleDemo" class="btn-cta-secondary" style="background: white; color: #1a237e;">
                        <i class="fas fa-calendar"></i>
                        Schedule Demo
                    </button>
                </div>
                
                <div class="cta-guarantee">
                    <div class="guarantee-item">
                        <i class="fas fa-shield-alt" style="color: #1a237e;"></i>
                        <span>100% Secure & Private</span>
                    </div>
                    <div class="guarantee-item">
                        <i class="fas fa-clock" style="color: #1a237e;"></i>
                        <span>Available 24/7</span>
                    </div>
                    <div class="guarantee-item">
                        <i class="fas fa-headset" style="color: #1a237e;"></i>
                        <span>Priority Support</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Chat Interface (Same as before but with premium styling) -->
    <div id="chatInterface" class="chat-interface" style="display: none;">
        <!-- Same chat interface code from previous version with premium styling -->
    </div>

    <!-- Login Modal (Same as before with premium styling) -->
    <div id="loginModal" class="modal" style="display: none;">
        <!-- Same login modal code -->
    </div>

    <!-- Footer -->
    <footer class="premium-footer" style="background: #0d1b2a;">
        <div class="container">
            <div class="footer-content">
                <!-- Company Info -->
                <div class="footer-section">
                    <div class="footer-logo">
                        <div class="logo-icon legal-seal" style="width: 60px; height: 60px;">
                            <i class="fas fa-gavel" style="font-size: 1.8rem; color: #FFD700;"></i>
                        </div>
                        <div class="logo-text">
                            <h3 class="logo-title shimmer-text">LegalSwami</h3>
                            <p class="logo-subtitle" style="color: rgba(255, 255, 255, 0.7);">AI Legal Assistant</p>
                        </div>
                    </div>
                    <p class="footer-description" style="color: rgba(255, 255, 255, 0.6);">
                        Making legal assistance accessible to everyone with AI-powered technology.
                    </p>
                    <div class="social-links">
                        <a href="#" class="social-link">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="social-link">
                            <i class="fab fa-linkedin"></i>
                        </a>
                        <a href="#" class="social-link">
                            <i class="fab fa-github"></i>
                        </a>
                        <a href="#" class="social-link">
                            <i class="fab fa-youtube"></i>
                        </a>
                    </div>
                </div>
                
                <!-- Quick Links -->
                <div class="footer-section">
                    <h4 class="footer-heading" style="color: white;">Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="#home">Home</a></li>
                        <li><a href="#features">Features</a></li>
                        <li><a href="#documents">Documents</a></li>
                        <li><a href="#testimonials">Testimonials</a></li>
                        <li><a href="#pricing">Pricing</a></li>
                    </ul>
                </div>
                
                <!-- Legal -->
                <div class="footer-section">
                    <h4 class="footer-heading" style="color: white;">Legal</h4>
                    <ul class="footer-links">
                        <li><a href="#" id="termsLink">Terms of Service</a></li>
                        <li><a href="#" id="privacyLink">Privacy Policy</a></li>
                        <li><a href="#" id="disclaimerLink">Legal Disclaimer</a></li>
                        <li><a href="#" id="cookieLink">Cookie Policy</a></li>
                    </ul>
                </div>
                
                <!-- Contact -->
                <div class="footer-section">
                    <h4 class="footer-heading" style="color: white;">Contact Us</h4>
                    <ul class="footer-contact">
                        <li>
                            <i class="fas fa-envelope" style="color: #FFD700;"></i>
                            <a href="mailto:support@legalswami.com">support@legalswami.com</a>
                        </li>
                        <li>
                            <i class="fas fa-phone" style="color: #FFD700;"></i>
                            <a href="tel:+919876543210">+91 9876543210</a>
                        </li>
                        <li>
                            <i class="fas fa-map-marker-alt" style="color: #FFD700;"></i>
                            <span>Mumbai, India</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p class="copyright" style="color: rgba(255, 255, 255, 0.5);">
                    &copy; 2024 LegalSwami. All rights reserved.
                </p>
                <div class="disclaimer" style="color: rgba(255, 255, 255, 0.4);">
                    <i class="fas fa-exclamation-triangle" style="color: #FFD700;"></i>
                    LegalSwami provides AI-powered legal assistance. It is not a substitute for professional legal advice.
                </div>
            </div>
        </div>
    </footer>

    <!-- Back to Top -->
    <button id="backToTop" class="back-to-top">
        <i class="fas fa-chevron-up"></i>
    </button>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>
    
    <!-- Google Identity Services -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    
    <!-- JavaScript Files -->
    <script src="js/api.js"></script>
    <script src="js/chat.js"></script>
    <script src="js/utils.js"></script>
    
    <!-- Main App Script (Same as previous version with some enhancements) -->
    <script>
        // Global variables
        let currentChatId = null;
        let isProcessing = false;
        let googleGISInitialized = false;
        let isMobileMenuOpen = false;
        
        // DOM Content Loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ LegalSwami Premium Frontend Initialized');
            
            // Hide loading screen
            setTimeout(() => {
                document.getElementById('loadingScreen').style.display = 'none';
                console.log('‚úÖ Loading screen hidden');
            }, 1000);
            
            // Initialize backend connection
            initializeAppWithBackend();
            
            // Setup event listeners
            setupEventListeners();
            
            // Initialize Google Authentication
            setTimeout(initializeSimpleGoogleAuth, 1500);
            
            // Check for existing user
            checkExistingUser();
            
            // Setup scroll effects
            setupScrollEffects();
            
            // Setup mobile menu
            setupMobileMenu();
        });
        
        // ‚úÖ SETUP SCROLL EFFECTS
        function setupScrollEffects() {
            const header = document.querySelector('.main-header');
            const navLinks = document.querySelectorAll('.nav-link');
            
            window.addEventListener('scroll', function() {
                // Header shadow on scroll
                if (window.scrollY > 50) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
                
                // Update active nav link based on scroll position
                const sections = document.querySelectorAll('section[id], .legal-banner');
                let currentSection = '';
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop - 100;
                    const sectionHeight = section.clientHeight;
                    if (scrollY >= sectionTop && scrollY < sectionTop + sectionHeight) {
                        currentSection = section.getAttribute('id') || 'home';
                    }
                });
                
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === `#${currentSection}`) {
                        link.classList.add('active');
                    }
                });
            });
        }
        
        // ‚úÖ SETUP MOBILE MENU
        function setupMobileMenu() {
            const mobileToggle = document.getElementById('mobileMenuToggle');
            const mobileMenu = document.getElementById('mobileMenu');
            const navLinks = document.querySelectorAll('.mobile-menu .nav-link');
            
            // Show mobile toggle on small screens
            if (window.innerWidth <= 767) {
                mobileToggle.style.display = 'flex';
            }
            
            // Toggle mobile menu
            mobileToggle.addEventListener('click', function() {
                isMobileMenuOpen = !isMobileMenuOpen;
                mobileMenu.classList.toggle('active', isMobileMenuOpen);
                mobileToggle.innerHTML = isMobileMenuOpen ? 
                    '<i class="fas fa-times"></i>' : 
                    '<i class="fas fa-bars"></i>';
            });
            
            // Close menu when clicking a link
            navLinks.forEach(link => {
                link.addEventListener('click', function() {
                    mobileMenu.classList.remove('active');
                    mobileToggle.innerHTML = '<i class="fas fa-bars"></i>';
                    isMobileMenuOpen = false;
                });
            });
            
            // Update on resize
            window.addEventListener('resize', function() {
                if (window.innerWidth > 767) {
                    mobileToggle.style.display = 'none';
                    mobileMenu.classList.remove('active');
                    isMobileMenuOpen = false;
                } else {
                    mobileToggle.style.display = 'flex';
                }
            });
        }
        
        // ‚úÖ SIMPLE GOOGLE AUTH
        function initializeSimpleGoogleAuth() {
            console.log('üîê Initializing Google Authentication...');
            
            if (typeof google === 'undefined') {
                console.warn('‚ö†Ô∏è Google Identity Services not loaded yet, will retry...');
                setTimeout(initializeSimpleGoogleAuth, 1000);
                return;
            }
            
            try {
                google.accounts.id.initialize({
                    client_id: '166511615962-bohur5q8d4i5hud6icr4185kcte9enk8.apps.googleusercontent.com',
                    callback: handleGoogleCredentialResponse,
                    auto_select: false,
                    cancel_on_tap_outside: true,
                    context: 'signin',
                    itp_support: false
                });
                
                googleGISInitialized = true;
                console.log('‚úÖ Google Authentication initialized');
                
            } catch (error) {
                console.error('‚ùå Google Authentication initialization failed:', error);
            }
        }
        
        // ‚úÖ RENDER GOOGLE SIGN-IN BUTTON
        function renderGoogleSignInButton() {
            try {
                const container = document.getElementById('googleSignInContainer');
                if (!container || !googleGISInitialized) {
                    document.getElementById('customGoogleBtn').style.display = 'flex';
                    return;
                }
                
                container.innerHTML = '';
                
                google.accounts.id.renderButton(
                    container,
                    {
                        theme: 'outline',
                        size: 'large',
                        text: 'signin_with',
                        shape: 'rectangular',
                        logo_alignment: 'left',
                        width: 400,
                        locale: 'en_US'
                    }
                );
                
                console.log('‚úÖ Google Sign-In button rendered');
                document.getElementById('customGoogleBtn').style.display = 'none';
                
            } catch (error) {
                console.error('‚ùå Failed to render Google Sign-In button:', error);
                document.getElementById('customGoogleBtn').style.display = 'flex';
            }
        }
        
        // ‚úÖ HANDLE GOOGLE CREDENTIAL RESPONSE
        function handleGoogleCredentialResponse(response) {
            console.log('üîê Google credential received');
            
            try {
                const payload = JSON.parse(atob(response.credential.split('.')[1]));
                
                const userData = {
                    id: 'google_' + payload.sub,
                    name: payload.name,
                    email: payload.email,
                    picture: payload.picture,
                    provider: 'google',
                    token: response.credential
                };
                
                console.log('‚úÖ Google user authenticated:', userData.email);
                
                localStorage.setItem('legal_swami_user', JSON.stringify(userData));
                localStorage.setItem('legal_swami_token', response.credential);
                
                if (window.legalSwamiAPI) {
                    window.legalSwamiAPI.user = userData;
                    window.legalSwamiAPI.token = response.credential;
                }
                
                updateUserUI();
                hideLoginModal();
                
                showToast('Successfully logged in with Google!', 'success');
                
            } catch (error) {
                console.error('‚ùå Failed to process Google credential:', error);
                showToast('Login failed. Please try again.', 'error');
            }
        }
        
        // ‚úÖ CHECK FOR EXISTING USER
        function checkExistingUser() {
            console.log('üë§ Checking for existing user...');
            
            const userStr = localStorage.getItem('legal_swami_user');
            if (userStr) {
                try {
                    const user = JSON.parse(userStr);
                    console.log('‚úÖ Found existing user:', user.name);
                    
                    if (window.legalSwamiAPI) {
                        window.legalSwamiAPI.user = user;
                        window.legalSwamiAPI.token = localStorage.getItem('legal_swami_token');
                    }
                    
                    updateUserUI();
                    return;
                } catch (e) {
                    console.error('Error parsing user data:', e);
                    localStorage.removeItem('legal_swami_user');
                    localStorage.removeItem('legal_swami_token');
                }
            }
            
            updateUserUI();
        }
        
        // ‚úÖ UPDATE USER UI
        function updateUserUI() {
            console.log('üë§ Updating user UI...');
            
            const userProfile = document.getElementById('userProfile');
            const headerLoginBtn = document.getElementById('headerLoginBtn');
            
            let user = null;
            const userStr = localStorage.getItem('legal_swami_user');
            
            if (userStr) {
                try {
                    user = JSON.parse(userStr);
                } catch (e) {
                    console.error('Error parsing user data:', e);
                }
            }
            
            if (user && user.id) {
                console.log('‚úÖ User logged in:', user.name);
                
                headerLoginBtn.style.display = 'none';
                userProfile.style.display = 'flex';
                
                document.getElementById('userName').textContent = user.name || 'User';
                document.getElementById('userEmail').textContent = user.email || '';
                
                const avatar = document.getElementById('userAvatar');
                if (user.picture) {
                    avatar.innerHTML = `<img src="${user.picture}" alt="${user.name}" style="width: 100%; height: 100%; border-radius: 8px; object-fit: cover;">`;
                } else {
                    const initials = user.name ? user.name.charAt(0).toUpperCase() : 'U';
                    avatar.innerHTML = `<span style="font-size: 14px; font-weight: 600;">${initials}</span>`;
                }
                
            } else {
                console.log('üë§ No user logged in, showing login button');
                
                headerLoginBtn.style.display = 'flex';
                userProfile.style.display = 'none';
                
                if (!localStorage.getItem('legalSwamiGuestId')) {
                    localStorage.setItem('legalSwamiGuestId', 'guest_' + Date.now());
                }
            }
        }
        
        // ‚úÖ SETUP ALL EVENT LISTENERS
        function setupEventListeners() {
            console.log('üîß Setting up event listeners');
            
            // Header buttons
            document.getElementById('headerLoginBtn').addEventListener('click', showLoginModal);
            document.getElementById('logoutBtn').addEventListener('click', handleLogout);
            document.getElementById('startChatBtn').addEventListener('click', startChat);
            document.getElementById('learnMoreBtn').addEventListener('click', showDemo);
            document.getElementById('ctaStartChat').addEventListener('click', startChat);
            
            // Login modal buttons
            document.getElementById('demoLoginBtn').addEventListener('click', handleDemoLogin);
            document.getElementById('closeLoginModal').addEventListener('click', hideLoginModal);
            document.getElementById('customGoogleBtn').addEventListener('click', handleCustomGoogleLogin);
            
            // Chat interface
            document.getElementById('backToHome').addEventListener('click', goBackToHome);
            document.getElementById('clearChat').addEventListener('click', clearChat);
            document.getElementById('exportChat').addEventListener('click', exportChat);
            document.getElementById('historyToggle').addEventListener('click', toggleHistory);
            document.getElementById('closeHistory').addEventListener('click', toggleHistory);
            document.getElementById('sendMessage').addEventListener('click', sendMessageHandler);
            document.getElementById('attachFile').addEventListener('click', attachFile);
            document.getElementById('voiceInput').addEventListener('click', startVoiceInput);
            
            // Quick questions
            document.querySelectorAll('.quick-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const question = this.getAttribute('data-question');
                    document.getElementById('messageInput').value = question;
                    sendMessageHandler();
                });
            });
            
            // Document generation checkbox
            document.getElementById('generateDocument').addEventListener('change', function() {
                document.getElementById('documentType').disabled = !this.checked;
            });
            
            // FAQ accordion
            document.querySelectorAll('.faq-question').forEach(question => {
                question.addEventListener('click', function() {
                    const answer = this.nextElementSibling;
                    const icon = this.querySelector('i');
                    
                    // Close all other FAQ items
                    document.querySelectorAll('.faq-answer').forEach(otherAnswer => {
                        if (otherAnswer !== answer && otherAnswer.classList.contains('show')) {
                            otherAnswer.classList.remove('show');
                            otherAnswer.previousElementSibling.querySelector('i').className = 'fas fa-chevron-down';
                        }
                    });
                    
                    // Toggle current FAQ item
                    answer.classList.toggle('show');
                    icon.className = answer.classList.contains('show') ? 
                        'fas fa-chevron-up' : 
                        'fas fa-chevron-down';
                });
            });
            
            // Legal links
            document.getElementById('termsLink').addEventListener('click', showTerms);
            document.getElementById('privacyLink').addEventListener('click', showPrivacy);
            document.getElementById('disclaimerLink').addEventListener('click', showDisclaimer);
            document.getElementById('cookieLink').addEventListener('click', showCookiePolicy);
            
            // Close modal when clicking outside
            document.getElementById('loginModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    hideLoginModal();
                }
            });
            
            // Smooth scroll for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    const href = this.getAttribute('href');
                    if (href === '#') return;
                    
                    e.preventDefault();
                    const target = document.querySelector(href);
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
            
            console.log('‚úÖ All event listeners set up');
        }
        
        // ‚úÖ SHOW LOGIN MODAL
        function showLoginModal() {
            const modal = document.getElementById('loginModal');
            modal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
            
            setTimeout(() => {
                renderGoogleSignInButton();
            }, 100);
            
            console.log('üîê Login modal shown');
        }
        
        // ‚úÖ HIDE LOGIN MODAL
        function hideLoginModal() {
            document.getElementById('loginModal').style.display = 'none';
            document.body.style.overflow = '';
            console.log('üîê Login modal hidden');
        }
        
        // ‚úÖ HANDLE CUSTOM GOOGLE LOGIN
        function handleCustomGoogleLogin() {
            console.log('üîê Custom Google login triggered');
            
            if (!googleGISInitialized) {
                showToast('Google Sign-In is not available. Please use demo login.', 'warning');
                return;
            }
            
            try {
                google.accounts.id.prompt();
            } catch (error) {
                console.error('‚ùå Google login failed:', error);
                showToast('Google Sign-In failed. Using demo login instead.', 'warning');
                handleDemoLogin();
            }
        }
        
        // ‚úÖ HANDLE DEMO LOGIN
        function handleDemoLogin() {
            console.log('üë§ Demo login triggered');
            
            const demoUsers = [
                {
                    id: 'demo_lawyer_1',
                    name: 'Advocate Rajesh Kumar',
                    email: 'demo.lawyer@example.com',
                    role: 'lawyer',
                    specialization: 'Corporate Law'
                },
                {
                    id: 'demo_client_1',
                    name: 'Priya Sharma',
                    email: 'demo.client@example.com',
                    role: 'client',
                    caseType: 'Property Dispute'
                },
                {
                    id: 'demo_student_1',
                    name: 'Amit Patel',
                    email: 'demo.student@example.com',
                    role: 'student',
                    institution: 'NLSIU Bangalore'
                }
            ];
            
            const randomUser = demoUsers[Math.floor(Math.random() * demoUsers.length)];
            
            const userData = {
                ...randomUser,
                picture: `https://ui-avatars.com/api/?name=${encodeURIComponent(randomUser.name)}&background=1a56db&color=fff&size=128`,
                provider: 'demo',
                isDemo: true
            };
            
            localStorage.setItem('legal_swami_user', JSON.stringify(userData));
            localStorage.setItem('legal_swami_token', 'demo_token_' + Date.now());
            
            if (window.legalSwamiAPI) {
                window.legalSwamiAPI.user = userData;
                window.legalSwamiAPI.token = 'demo_token';
            }
            
            updateUserUI();
            hideLoginModal();
            showToast(`Welcome ${userData.name}! (Demo Mode)`, 'success');
        }
        
        // ‚úÖ HANDLE LOGOUT
        function handleLogout() {
            console.log('üö™ Logging out...');
            
            const userStr = localStorage.getItem('legal_swami_user');
            if (userStr) {
                try {
                    const user = JSON.parse(userStr);
                    if (user.provider === 'google') {
                        try {
                            google.accounts.id.revoke(user.email, (done) => {
                                console.log('‚úÖ Google access revoked');
                            });
                        } catch (e) {
                            console.warn('Could not revoke Google access:', e);
                        }
                    }
                } catch (e) {
                    console.error('Error parsing user data:', e);
                }
            }
            
            localStorage.removeItem('legal_swami_token');
            localStorage.removeItem('legal_swami_user');
            
            if (window.legalSwamiAPI) {
                window.legalSwamiAPI.token = null;
                window.legalSwamiAPI.user = null;
            }
            
            updateUserUI();
            showToast('Logged out successfully', 'success');
            
            if (document.getElementById('chatInterface').style.display !== 'none') {
                goBackToHome();
            }
        }
        
        // ‚úÖ INITIALIZE APP WITH BACKEND
        async function initializeAppWithBackend() {
            console.log('üîå Initializing app with backend...');
            
            try {
                const backendUrl = 'https://legal-swami-backend.onrender.com';
                
                if (!window.legalSwamiAPI) {
                    window.legalSwamiAPI = {
                        token: localStorage.getItem('legal_swami_token'),
                        user: null,
                        sendMessage: async function(message, attachments, chatId) {
                            console.log('üì§ Sending message to backend:', message.substring(0, 50));
                            
                            const userId = this.user ? this.user.id : 'guest_' + Date.now();
                            
                            const response = await fetch(`${backendUrl}/api/v1/chat/send`, {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json',
                                    'x-user-id': userId,
                                    'x-request-id': 'req_' + Date.now()
                                },
                                body: JSON.stringify({
                                    message: message,
                                    generateDocument: document.getElementById('generateDocument').checked
                                })
                            });
                            
                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}: ${await response.text()}`);
                            }
                            
                            return await response.json();
                        },
                        getChatHistory: async function(page = 0, size = 10) {
                            const userId = this.user ? this.user.id : 'guest';
                            
                            const response = await fetch(
                                `${backendUrl}/api/v1/chat/history?userId=${userId}&page=${page}&size=${size}`,
                                {
                                    headers: {
                                        'x-user-id': userId,
                                        'x-request-id': 'req_' + Date.now()
                                    }
                                }
                            );
                            
                            if (!response.ok) {
                                throw new Error(`HTTP ${response.status}`);
                            }
                            
                            return await response.json();
                        }
                    };
                }
                
                // Test backend health
                const healthResponse = await fetch(`${backendUrl}/api/v1/public/health`);
                if (healthResponse.ok) {
                    const healthData = await healthResponse.json();
                    console.log('‚úÖ Backend health check passed:', healthData);
                    showToast('Backend connected successfully!', 'success');
                } else {
                    console.warn('‚ö†Ô∏è Backend health check failed:', healthResponse.status);
                }
                
                updateUserUI();
                
            } catch (error) {
                console.error('‚ùå Initialization failed:', error);
                showToast('Note: Some features may be limited', 'warning');
            }
        }
        
        // ‚úÖ START CHAT
        function startChat() {
            console.log('üí¨ Starting chat...');
            
            const user = window.legalSwamiAPI ? window.legalSwamiAPI.user : null;
            const token = localStorage.getItem('legal_swami_token');
            const guestId = localStorage.getItem('legalSwamiGuestId');
            
            if (!user && !guestId && !token) {
                showLoginModal();
                showToast('Please login to start chatting', 'warning');
                return;
            }
            
            document.getElementById('chatInterface').style.display = 'block';
            document.querySelector('.main-container').style.background = '#f7f7f8';
            document.body.style.overflow = 'hidden';
            
            setTimeout(() => {
                document.getElementById('messageInput').focus();
                console.log('‚úÖ Chat interface ready');
            }, 100);
        }
        
        // ‚úÖ GO BACK TO HOME
        function goBackToHome() {
            document.getElementById('chatInterface').style.display = 'none';
            document.querySelector('.main-container').style.background = '';
            document.body.style.overflow = '';
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
            console.log('üè† Returned to home');
        }
        
        // ‚úÖ CLEAR CHAT
        function clearChat() {
            if (confirm('Are you sure you want to clear the chat? This action cannot be undone.')) {
                const chatMessages = document.getElementById('chatMessages');
                const messages = chatMessages.querySelectorAll('.message');
                
                messages.forEach((message, index) => {
                    if (index > 0) {
                        message.remove();
                    }
                });
                
                currentChatId = null;
                showToast('Chat cleared successfully', 'success');
                console.log('üóëÔ∏è Chat cleared');
            }
        }
        
        // ‚úÖ EXPORT CHAT
        function exportChat() {
            const chatMessages = document.getElementById('chatMessages');
            const messages = chatMessages.querySelectorAll('.message');
            
            let exportText = '================================\n';
            exportText += 'LEGALSWAMI CHAT EXPORT\n';
            exportText += 'Generated on: ' + new Date().toLocaleString() + '\n';
            exportText += '================================\n\n';
            
            messages.forEach(message => {
                const isAI = message.classList.contains('ai-message');
                const text = message.querySelector('.message-text')?.textContent || '';
                const time = message.querySelector('.message-time')?.textContent || '';
                
                exportText += `${isAI ? 'ü§ñ AI Assistant' : 'üë§ You'} (${time}):\n`;
                exportText += text + '\n\n';
                exportText += '‚îÄ'.repeat(50) + '\n\n';
            });
            
            exportText += '\n================================\n';
            exportText += 'END OF CHAT\n';
            exportText += '================================\n\n';
            exportText += 'Disclaimer: This chat is for informational purposes only.\n';
            exportText += 'Please consult a qualified attorney for legal advice.\n';
            
            const blob = new Blob([exportText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `LegalSwami_Chat_${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showToast('Chat exported successfully!', 'success');
            console.log('üì• Chat exported');
        }
        
        // ‚úÖ TOGGLE HISTORY SIDEBAR
        function toggleHistory() {
            const sidebar = document.getElementById('historySidebar');
            sidebar.classList.toggle('active');
            console.log('üìú History sidebar toggled');
        }
        
        // ‚úÖ LOAD CHAT HISTORY
        async function loadChatHistory() {
            try {
                if (!window.legalSwamiAPI) {
                    console.warn('API not initialized');
                    return;
                }
                
                console.log('üìú Loading chat history...');
                const history = await window.legalSwamiAPI.getChatHistory(0, 10);
                updateHistoryList(history);
                console.log('‚úÖ Chat history loaded:', history.length, 'items');
            } catch (error) {
                console.error('Failed to load history:', error);
                showToast('Failed to load chat history', 'error');
            }
        }
        
        // ‚úÖ UPDATE HISTORY LIST UI
        function updateHistoryList(history) {
            const historyList = document.getElementById('historyList');
            historyList.innerHTML = '';
            
            if (!history || history.length === 0) {
                historyList.innerHTML = `
                    <div class="empty-history">
                        <i class="fas fa-history"></i>
                        <p>No chat history yet</p>
                        <small>Start chatting to see your history here</small>
                    </div>
                `;
                return;
            }
            
            history.forEach(item => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                historyItem.innerHTML = `
                    <div class="history-item-content">
                        <p class="history-question">${item.message.substring(0, 50)}${item.message.length > 50 ? '...' : ''}</p>
                        <span class="history-time">${formatTime(item.createdAt)}</span>
                    </div>
                    <button class="btn-icon" onclick="loadChatFromHistory('${item.id}')">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                `;
                historyList.appendChild(historyItem);
            });
        }
        
        // ‚úÖ LOAD CHAT FROM HISTORY
        async function loadChatFromHistory(chatId) {
            try {
                showToast('Loading chat from history...', 'info');
                toggleHistory();
                console.log('üìú Loading chat:', chatId);
            } catch (error) {
                console.error('Failed to load chat:', error);
                showToast('Failed to load chat', 'error');
            }
        }
        
        // ‚úÖ HANDLE INPUT KEYDOWN
        function handleInputKeydown(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessageHandler();
            }
            
            const textarea = event.target;
            textarea.style.height = 'auto';
            textarea.style.height = (textarea.scrollHeight) + 'px';
        }
        
        // ‚úÖ SEND MESSAGE HANDLER
        async function sendMessageHandler() {
            if (isProcessing) {
                console.warn('‚ö†Ô∏è Message already being processed');
                return;
            }
            
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (!message) {
                showToast('Please enter a message', 'warning');
                return;
            }
            
            let userId = 'guest';
            if (window.legalSwamiAPI && window.legalSwamiAPI.user) {
                userId = window.legalSwamiAPI.user.id;
            } else {
                userId = localStorage.getItem('legalSwamiGuestId') || 'guest_' + Date.now();
                localStorage.setItem('legalSwamiGuestId', userId);
            }
            
            isProcessing = true;
            
            try {
                console.log('üí¨ Sending message:', message.substring(0, 100));
                
                addMessageToChat(message, true);
                input.value = '';
                input.style.height = 'auto';
                
                showTypingIndicator(true);
                
                const generateDocument = document.getElementById('generateDocument').checked;
                const documentType = document.getElementById('documentType').value;
                
                const backendUrl = 'https://legal-swami-backend.onrender.com';
                const response = await fetch(`${backendUrl}/api/v1/chat/send`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'x-user-id': userId,
                        'x-request-id': 'req_' + Date.now()
                    },
                    body: JSON.stringify({
                        message: message,
                        generateDocument: generateDocument
                    })
                });
                
                if (!response.ok) {
                    const errorText = await response.text();
                    throw new Error(`HTTP ${response.status}: ${errorText}`);
                }
                
                const data = await response.json();
                console.log('‚úÖ Received response:', data.id);
                
                addMessageToChat(data.response || 'No response received', false, generateDocument, documentType);
                
                await loadChatHistory();
                
            } catch (error) {
                console.error('‚ùå Failed to send message:', error);
                addMessageToChat('Sorry, I encountered an error while processing your request. Please try again in a moment. If the problem persists, please check your internet connection.', false);
                showToast('Failed to send message: ' + error.message, 'error');
            } finally {
                isProcessing = false;
                showTypingIndicator(false);
            }
        }
        
        // ‚úÖ ADD MESSAGE TO CHAT UI
        function addMessageToChat(content, isUser = false, isDocument = false, documentType = null) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            
            messageDiv.className = `message ${isUser ? 'user-message' : 'ai-message'}`;
            
            const time = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            
            let messageContent = content;
            if (isDocument) {
                messageContent = `üìÑ **${documentType} Document Generated:**\n\n${content}\n\n*You can download this document using the export feature.*`;
            }
            
            messageDiv.innerHTML = `
                <div class="message-avatar">
                    ${isUser ? '<i class="fas fa-user"></i>' : '<i class="fas fa-robot"></i>'}
                </div>
                <div class="message-content">
                    <div class="message-text">${formatMessageText(messageContent)}</div>
                    <div class="message-time">${time}</div>
                </div>
            `;
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            console.log('üí¨ Message added to chat:', isUser ? 'User' : 'AI');
        }
        
        // ‚úÖ FORMAT MESSAGE TEXT
        function formatMessageText(text) {
            text = text.replace(/\n/g, '<br>');
            text = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            text = text.replace(/\*(.*?)\*/g, '<em>$1</em>');
            text = text.replace(/^\s*[-‚Ä¢*]\s+(.*)$/gm, '<li>$1</li>');
            text = text.replace(/(<li>.*<\/li>)/gs, '<ul>$1</ul>');
            return text;
        }
        
        // ‚úÖ SHOW TYPING INDICATOR
        function showTypingIndicator(show) {
            const indicator = document.getElementById('typingIndicator');
            indicator.style.display = show ? 'flex' : 'none';
            
            if (show) {
                const chatMessages = document.getElementById('chatMessages');
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        }
        
        // ‚úÖ ATTACH FILE
        function attachFile() {
            showToast('File attachment feature coming soon in version 2.1!', 'info');
            console.log('üìé File attachment clicked');
        }
        
        // ‚úÖ START VOICE INPUT
        function startVoiceInput() {
            showToast('Voice input feature coming soon in version 2.2!', 'info');
            console.log('üé§ Voice input clicked');
        }
        
        // ‚úÖ SHOW DEMO
        function showDemo() {
            window.open('https://www.youtube.com/watch?v=dQw4w9WgXcQ', '_blank');
            console.log('üé¨ Demo opened');
        }
        
        // ‚úÖ SHOW TERMS
        function showTerms(e) {
            e.preventDefault();
            const terms = `LEGALSWAMI TERMS OF SERVICE

1. ACCEPTANCE OF TERMS
By accessing and using LegalSwami, you agree to be bound by these Terms of Service.

2. SERVICE DESCRIPTION
LegalSwami is an AI-powered legal assistant providing informational guidance only.

3. NOT LEGAL ADVICE
The service does not constitute legal advice. Consult a qualified attorney for legal matters.

4. USER RESPONSIBILITIES
You are responsible for the accuracy of information provided to the service.

5. PRIVACY
Your data is protected as outlined in our Privacy Policy.

6. LIMITATION OF LIABILITY
LegalSwami is not liable for any damages arising from use of the service.

7. MODIFICATIONS
We reserve the right to modify these terms at any time.

Last Updated: ${new Date().toLocaleDateString()}`;
            
            alert(terms);
            console.log('üìÑ Terms of Service shown');
        }
        
        // ‚úÖ SHOW PRIVACY POLICY
        function showPrivacy(e) {
            e.preventDefault();
            const privacy = `LEGALSWAMI PRIVACY POLICY

1. INFORMATION COLLECTION
We collect minimal information necessary to provide our services.

2. DATA USAGE
Your data is used solely to improve service quality and user experience.

3. DATA PROTECTION
We implement industry-standard security measures to protect your information.

4. THIRD-PARTY SHARING
We do not sell or share your personal data with third parties.

5. COOKIES
We use cookies to enhance user experience and analyze service usage.

6. USER RIGHTS
You have the right to access, modify, or delete your personal data.

7. CHILDREN'S PRIVACY
Our service is not intended for users under 18 years of age.

8. CHANGES TO POLICY
We may update this policy periodically.

For questions: privacy@legalswami.com`;
            
            alert(privacy);
            console.log('üîí Privacy Policy shown');
        }
        
        // ‚úÖ SHOW DISCLAIMER
        function showDisclaimer(e) {
            e.preventDefault();
            const disclaimer = `‚öñÔ∏è IMPORTANT LEGAL DISCLAIMER ‚öñÔ∏è

LEGALSWAMI AI ASSISTANT - DISCLAIMER

1. NATURE OF SERVICE
LegalSwami is an artificial intelligence assistant designed to provide general legal information and guidance. It is NOT a licensed attorney.

2. NOT LEGAL ADVICE
The information provided by LegalSwami does not constitute legal advice and should not be relied upon as such.

3. NO ATTORNEY-CLIENT RELATIONSHIP
Using LegalSwami does not create an attorney-client relationship.

4. CONSULT A LAWYER
For legal advice specific to your situation, please consult a qualified licensed attorney.

5. ACCURACY OF INFORMATION
While we strive for accuracy, we cannot guarantee the completeness or currentness of information provided.

6. USE AT YOUR OWN RISK
You assume all risk for any actions taken based on information from LegalSwami.

7. OFFICIAL DOCUMENTS
For official legal documents, court filings, or binding agreements, always consult a licensed attorney.

8. EMERGENCY SITUATIONS
For urgent legal matters, contact a lawyer immediately.

By using LegalSwami, you acknowledge and agree to these terms.`;
            
            alert(disclaimer);
            console.log('‚ö†Ô∏è Legal Disclaimer shown');
        }
        
        // ‚úÖ SHOW COOKIE POLICY
        function showCookiePolicy(e) {
            e.preventDefault();
            alert('COOKIE POLICY\n\nWe use essential cookies for functionality and analytics cookies to improve our service. By continuing to use LegalSwami, you consent to our use of cookies.');
            console.log('üç™ Cookie Policy shown');
        }
        
        // ‚úÖ FORMAT TIME
        function formatTime(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diff = now - date;
            
            if (diff < 60000) return 'Just now';
            if (diff < 3600000) return Math.floor(diff / 60000) + 'm ago';
            if (diff < 86400000) return Math.floor(diff / 3600000) + 'h ago';
            return date.toLocaleDateString();
        }
        
        // ‚úÖ SHOW TOAST NOTIFICATION
        function showToast(message, type = 'info') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            
            const icons = {
                success: 'fas fa-check-circle',
                error: 'fas fa-exclamation-circle',
                warning: 'fas fa-exclamation-triangle',
                info: 'fas fa-info-circle'
            };
            
            toast.innerHTML = `
                <i class="${icons[type]}"></i>
                <span>${message}</span>
            `;
            
            container.appendChild(toast);
            
            setTimeout(() => {
                toast.classList.add('fade-out');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
            
            console.log(`üì¢ Toast (${type}):`, message);
        }
        
        // ‚úÖ MAKE FUNCTIONS AVAILABLE GLOBALLY
        window.handleInputKeydown = handleInputKeydown;
        window.loadChatFromHistory = loadChatFromHistory;
        
        console.log('‚úÖ LegalSwami Premium App Initialization Complete!');
    </script>
</body>
</html>
