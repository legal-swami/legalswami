<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LegalSwami | AI-Powered Legal Assistant & Document Generator</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- jsPDF Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <!-- Google Client ID -->
    <meta name="google-client-id" 
          content="166511615962-bohur5q8d4i5hud6icr4185kcte9enk8.apps.googleusercontent.com">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚖️</text></svg>">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#0f172a">
    
    <!-- Apple Mobile Web App Capable -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Open Graph / Social Media -->
    <meta property="og:title" content="LegalSwami - AI Legal Assistant">
    <meta property="og:description" content="Get instant legal advice, generate documents, and understand laws with AI">
    <meta property="og:image" content="https://legalswami.com/og-image.jpg">
    <meta property="og:url" content="https://legalswami.com">
    
    <style>
/* ============================================= */
/* LEGALSWAMI - COMPLETE STYLES WITH FIXES */
/* ============================================= */

:root {
    /* Primary Colors */
    --primary: #10a37f;
    --primary-dark: #0d8c6d;
    --primary-light: #12b886;
    --secondary: #7e57c2;
    --accent: #ec4899;
    
    /* Dark Mode */
    --dark-bg: #343541;
    --dark-surface: #40414f;
    --dark-surface-light: #444654;
    --dark-border: #565869;
    --dark-text: #ececf1;
    --dark-text-secondary: #8e8ea0;
    --dark-text-tertiary: #6e6e80;
    
    /* Light Mode */
    --light-bg: #ffffff;
    --light-surface: #f7f7f8;
    --light-surface-light: #f0f0f0;
    --light-border: #e5e5e5;
    --light-text: #000000;
    --light-text-secondary: #6e6e80;
    --light-text-tertiary: #8e8ea0;
    
    /* Status Colors */
    --success: #10b981;
    --warning: #f59e0b;
    --error: #ef4444;
    --info: #3b82f6;
}

/* ============================================= */
/* RESET & BASE STYLES */
/* ============================================= */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
    background: var(--dark-bg);
    color: var(--dark-text);
    line-height: 1.5;
    min-height: 100vh;
    overflow-x: hidden;
    transition: background 0.3s ease;
}

body.light-mode {
    background: var(--light-bg);
    color: var(--light-text);
}

/* ============================================= */
/* MAIN CONTAINERS */
/* ============================================= */

.main-container {
    display: block;
    width: 100%;
    min-height: 100vh;
    transition: opacity 0.3s ease;
}

.container {
    width: 100%;
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 20px;
}

/* ============================================= */
/* CHAT INTERFACE - COMPLETELY FIXED */
/* ============================================= */

#chatInterface {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background: var(--dark-bg);
    z-index: 999999;
    display: none;
    flex-direction: column;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s;
}

#chatInterface.active {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* When chat is active, hide main content */
body.chat-active .main-container {
    display: none !important;
}

body.chat-active #chatInterface {
    display: flex !important;
    opacity: 1 !important;
    visibility: visible !important;
}

/* Force chat container to be visible */
#chatInterface .container {
    display: flex;
    flex-direction: column;
    height: 100vh;
    width: 100%;
    background: var(--dark-bg);
}

#chatInterface .chat-container {
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 100%;
    background: var(--dark-bg);
}

/* Chat Header */
#chatInterface header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem 1rem;
    background: var(--dark-surface);
    border-bottom: 1px solid var(--dark-border);
    flex-shrink: 0;
    position: relative;
    z-index: 100;
}

#chatInterface .logo {
    display: flex;
    align-items: center;
    gap: 10px;
}

#chatInterface .logo-icon {
    width: 32px;
    height: 32px;
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1rem;
}

#chatInterface .logo h1 {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--dark-text);
}

#chatInterface .header-actions {
    display: flex;
    gap: 8px;
    align-items: center;
    flex-wrap: wrap;
}

.header-btn {
    background: var(--dark-surface-light);
    color: var(--dark-text);
    border: 1px solid var(--dark-border);
    border-radius: 6px;
    padding: 0.5rem 0.75rem;
    cursor: pointer;
    font-size: 0.85rem;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: 6px;
    min-height: 36px;
    font-weight: 500;
    border: none;
}

.header-btn:hover {
    background: var(--dark-border);
}

.status-indicator {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 0.4rem 0.75rem;
    background: rgba(16, 163, 127, 0.1);
    border: 1px solid rgba(16, 163, 127, 0.3);
    border-radius: 6px;
    font-size: 0.85rem;
    min-height: 36px;
    font-weight: 500;
}

.status-dot {
    width: 8px;
    height: 8px;
    background-color: var(--success);
    border-radius: 50%;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

.theme-toggle {
    background: var(--dark-surface-light);
    border: 1px solid var(--dark-border);
    border-radius: 6px;
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s;
    border: none;
}

.theme-toggle:hover {
    transform: rotate(15deg);
}

/* Chat Main Content */
#chatInterface .main-content {
    display: flex;
    flex: 1;
    overflow: hidden;
    position: relative;
    height: calc(100vh - 140px);
}

/* Chat Sidebar */
#chatInterface .sidebar {
    width: 260px;
    background: var(--dark-surface);
    border-right: 1px solid var(--dark-border);
    display: flex;
    flex-direction: column;
    flex-shrink: 0;
    position: relative;
    z-index: 90;
    height: 100%;
}

#chatInterface .sidebar-tabs {
    display: flex;
    border-bottom: 1px solid var(--dark-border);
    background: var(--dark-surface);
}

.sidebar-tab {
    flex: 1;
    padding: 0.875rem 0.5rem;
    background: transparent;
    border: none;
    color: var(--dark-text-secondary);
    font-size: 0.85rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
    text-align: center;
}

.sidebar-tab:hover {
    color: var(--dark-text);
    background: var(--dark-surface-light);
}

.sidebar-tab.active {
    color: var(--primary);
    background: var(--dark-surface-light);
}

.tab-content {
    flex: 1;
    overflow-y: auto;
    display: none;
    height: calc(100% - 50px);
}

.tab-content.active {
    display: block;
}

/* Chat Messages Area - FIXED SCROLLING */
#chatInterface .chat-messages {
    flex: 1;
    overflow-y: auto;
    padding: 1.25rem 1rem;
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
    background: var(--dark-bg);
    position: relative;
    z-index: 10;
    height: 100%;
}

.message {
    display: flex;
    gap: 0.75rem;
    max-width: 100%;
    padding: 0 0.75rem;
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.user-message {
    background: var(--dark-surface);
    border-radius: 8px;
    padding: 1rem;
    max-width: 100%;
}

.ai-message {
    background: transparent;
}

.avatar {
    width: 32px;
    height: 32px;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.85rem;
    flex-shrink: 0;
    margin-top: 4px;
}

.user-message .avatar {
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
}

.ai-message .avatar {
    background: linear-gradient(135deg, var(--secondary) 0%, #5e35b1 100%);
}

.message-content {
    flex: 1;
    position: relative;
    width: 100%;
    min-width: 0;
}

.message-text {
    padding: 0;
    border-radius: 0;
    font-size: 0.9375rem;
    line-height: 1.6;
    word-wrap: break-word;
    overflow-wrap: break-word;
    overflow: hidden;
    color: var(--dark-text);
}

.user-message .message-text {
    color: white;
}

/* Welcome Message */
.welcome-message {
    text-align: center;
    max-width: 600px;
    margin: 1.5rem auto;
    padding: 1.25rem;
    background: linear-gradient(135deg, rgba(16, 163, 127, 0.1) 0%, rgba(30, 64, 175, 0.1) 100%);
    border: 1px solid var(--dark-border);
    border-radius: 12px;
    width: 90%;
}

.welcome-message h2 {
    font-size: 1.5rem;
    margin-bottom: 0.75rem;
    color: var(--primary);
}

.welcome-message p {
    margin-bottom: 0.75rem;
    color: var(--dark-text-secondary);
}

.draft-templates {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
    margin-top: 1rem;
}

.draft-template {
    background: var(--dark-surface);
    padding: 0.875rem;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
    border: 1px solid var(--dark-border);
}

.draft-template:hover {
    background: var(--dark-surface-light);
    transform: translateY(-2px);
    border-color: var(--primary);
}

.draft-template i {
    font-size: 1.25rem;
    color: var(--primary);
    margin-bottom: 0.5rem;
}

.draft-template h4 {
    font-size: 0.875rem;
    margin-bottom: 0.25rem;
}

.draft-template p {
    font-size: 0.75rem;
    color: var(--dark-text-secondary);
    margin: 0;
}

.welcome-features {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    margin-top: 1.5rem;
}

.welcome-features .feature {
    text-align: center;
    padding: 1rem;
    background: var(--dark-surface);
    border-radius: 8px;
    border: 1px solid var(--dark-border);
}

.welcome-features .feature i {
    font-size: 1.5rem;
    color: var(--primary);
    margin-bottom: 0.5rem;
}

.welcome-features .feature h4 {
    font-size: 0.875rem;
    margin-bottom: 0.25rem;
}

.welcome-features .feature p {
    font-size: 0.75rem;
    color: var(--dark-text-secondary);
    margin: 0;
}

/* Chat Input Area */
.input-container {
    padding: 0.875rem;
    background: var(--dark-bg);
    border-top: 1px solid var(--dark-border);
    flex-shrink: 0;
    position: relative;
    z-index: 100;
}

.input-area {
    max-width: 800px;
    margin: 0 auto;
    position: relative;
    width: 100%;
}

.input-area textarea {
    width: 100%;
    padding: 0.875rem 6.5rem 0.875rem 1rem;
    background: var(--dark-surface);
    border: 1px solid var(--dark-border);
    border-radius: 12px;
    color: var(--dark-text);
    font-size: 0.9375rem;
    resize: none;
    min-height: 52px;
    max-height: 150px;
    transition: all 0.2s;
    line-height: 1.5;
    font-family: inherit;
    border: none;
    outline: none;
}

.input-area textarea:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 1px var(--primary);
}

.input-buttons {
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    gap: 6px;
}

.emoji-picker-btn,
.attachment-btn,
.input-microphone-btn,
.send-button {
    background: transparent;
    border: none;
    color: var(--dark-text-secondary);
    cursor: pointer;
    padding: 8px;
    border-radius: 6px;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
}

.emoji-picker-btn:hover,
.attachment-btn:hover,
.input-microphone-btn:hover {
    background: var(--dark-surface-light);
    color: var(--dark-text);
}

.send-button {
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    color: white;
    padding: 8px 16px;
    font-weight: 500;
}

.send-button:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(16, 163, 127, 0.3);
}

.send-button:disabled {
    background: var(--dark-border);
    cursor: not-allowed;
    opacity: 0.5;
}

/* Light Mode Adjustments */
.light-mode #chatInterface {
    background: var(--light-bg);
}

.light-mode #chatInterface .container {
    background: var(--light-bg);
}

.light-mode #chatInterface .chat-messages {
    background: var(--light-bg);
}

.light-mode #chatInterface .chat-container {
    background: var(--light-bg);
}

.light-mode #chatInterface header {
    background: var(--light-surface);
    border-bottom-color: var(--light-border);
}

.light-mode #chatInterface .header-btn {
    background: var(--light-surface-light);
    color: var(--light-text);
    border-color: var(--light-border);
}

.light-mode #chatInterface .header-btn:hover {
    background: var(--light-border);
}

.light-mode #chatInterface .status-indicator {
    background: rgba(16, 163, 127, 0.08);
    border-color: rgba(16, 163, 127, 0.2);
}

.light-mode #chatInterface .sidebar {
    background: var(--light-surface);
    border-right-color: var(--light-border);
}

.light-mode #chatInterface .sidebar-tabs {
    background: var(--light-surface);
    border-bottom-color: var(--light-border);
}

.light-mode .sidebar-tab {
    color: var(--light-text-secondary);
}

.light-mode .sidebar-tab:hover {
    color: var(--light-text);
    background: var(--light-surface-light);
}

.light-mode .sidebar-tab.active {
    color: var(--primary);
    background: var(--light-surface-light);
}

.light-mode .message-text {
    color: var(--light-text);
}

.light-mode .user-message {
    background: var(--light-surface);
}

.light-mode .user-message .message-text {
    color: var(--light-text);
}

.light-mode .input-area textarea {
    background: var(--light-surface);
    border-color: var(--light-border);
    color: var(--light-text);
}

.light-mode .draft-template {
    background: var(--light-surface);
    border-color: var(--light-border);
}

.light-mode .draft-template:hover {
    background: var(--light-surface-light);
}

.light-mode .welcome-features .feature {
    background: var(--light-surface);
    border-color: var(--light-border);
}

/* ============================================= */
/* HOMEPAGE STYLES */
/* ============================================= */

/* Premium Navigation */
.premium-navbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: rgba(52, 53, 65, 0.95);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid var(--dark-border);
    z-index: 1000;
}

.light-mode .premium-navbar {
    background: rgba(255, 255, 255, 0.95);
    border-bottom-color: var(--light-border);
}

.nav-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.875rem 1rem;
    max-width: 1400px;
    margin: 0 auto;
}

.nav-logo {
    display: flex;
    align-items: center;
    gap: 10px;
}

.logo-icon {
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.25rem;
}

.logo-text {
    display: flex;
    flex-direction: column;
}

.logo-title {
    font-size: 1.25rem;
    font-weight: 700;
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.logo-subtitle {
    font-size: 0.75rem;
    color: var(--dark-text-secondary);
    margin-top: -2px;
}

.light-mode .logo-subtitle {
    color: var(--light-text-secondary);
}

.nav-menu {
    display: flex;
    gap: 1.5rem;
    align-items: center;
}

.nav-link {
    display: flex;
    align-items: center;
    gap: 6px;
    color: var(--dark-text-secondary);
    text-decoration: none;
    font-weight: 500;
    font-size: 0.875rem;
    padding: 0.5rem 0.75rem;
    border-radius: 6px;
    transition: all 0.2s;
}

.nav-link:hover {
    color: var(--dark-text);
    background: var(--dark-surface);
}

.nav-link.active {
    color: var(--primary);
    background: var(--dark-surface);
}

.light-mode .nav-link {
    color: var(--light-text-secondary);
}

.light-mode .nav-link:hover {
    color: var(--light-text);
    background: var(--light-surface);
}

.light-mode .nav-link.active {
    color: var(--primary);
    background: var(--light-surface);
}

.nav-actions {
    display: flex;
    align-items: center;
    gap: 10px;
}

.btn-login {
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    color: white;
    border: none;
    border-radius: 6px;
    padding: 0.5rem 1rem;
    font-weight: 500;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: all 0.2s;
}

.btn-login:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(16, 163, 127, 0.3);
}

.user-profile {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 0.375rem 0.75rem;
    background: var(--dark-surface);
    border-radius: 8px;
    border: 1px solid var(--dark-border);
}

.light-mode .user-profile {
    background: var(--light-surface);
    border-color: var(--light-border);
}

.profile-avatar {
    width: 32px;
    height: 32px;
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 0.875rem;
}

.profile-info {
    display: flex;
    flex-direction: column;
}

.profile-name {
    font-size: 0.8125rem;
    font-weight: 500;
}

.profile-email {
    font-size: 0.75rem;
    color: var(--dark-text-secondary);
}

.light-mode .profile-email {
    color: var(--light-text-secondary);
}

.btn-logout {
    background: transparent;
    border: none;
    color: var(--dark-text-secondary);
    cursor: pointer;
    padding: 4px;
    border-radius: 4px;
    transition: all 0.2s;
}

.btn-logout:hover {
    color: var(--error);
    background: var(--dark-surface-light);
}

.mobile-toggle {
    display: none;
    background: transparent;
    border: none;
    color: var(--dark-text);
    font-size: 1.25rem;
    cursor: pointer;
    padding: 8px;
}

.light-mode .mobile-toggle {
    color: var(--light-text);
}

/* Hero Section */
.hero-section {
    padding-top: 100px;
    min-height: 100vh;
    display: flex;
    align-items: center;
    position: relative;
    overflow: hidden;
}

.hero-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 3rem;
    align-items: center;
}

.hero-bg-elements {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
}

.floating-element {
    position: absolute;
    font-size: 2rem;
    color: rgba(255, 255, 255, 0.1);
}

.light-mode .floating-element {
    color: rgba(0, 0, 0, 0.1);
}

.floating-icon-1 { top: 20%; left: 10%; animation: float 6s ease-in-out infinite; }
.floating-icon-2 { top: 60%; right: 15%; animation: float 8s ease-in-out infinite reverse; }
.floating-icon-3 { bottom: 20%; left: 20%; animation: float 7s ease-in-out infinite; }

@keyframes float {
    0%, 100% { transform: translateY(0) rotate(0deg); }
    50% { transform: translateY(-20px) rotate(5deg); }
}

.hero-content {
    z-index: 1;
}

.hero-badge {
    display: inline-block;
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    padding: 0.5rem 1rem;
    border-radius: 20px;
    margin-bottom: 1.5rem;
}

.badge-text {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.75rem;
    font-weight: 600;
    color: white;
}

.hero-title {
    font-size: 3.5rem;
    font-weight: 800;
    line-height: 1.1;
    margin-bottom: 1.5rem;
}

.light-mode .hero-title {
    color: var(--light-text);
}

.text-reveal {
    position: relative;
    overflow: hidden;
}

.shimmer-text {
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 50%, var(--accent) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    background-size: 200% auto;
    animation: shimmer 3s ease-in-out infinite;
}

@keyframes shimmer {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}

.hero-subtitle {
    font-size: 1.125rem;
    color: var(--dark-text-secondary);
    margin-bottom: 2rem;
    line-height: 1.6;
}

.light-mode .hero-subtitle {
    color: var(--light-text-secondary);
}

.hero-stats {
    display: flex;
    gap: 2rem;
    margin-bottom: 2rem;
}

.stat-item {
    text-align: center;
}

.stat-number {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 0.25rem;
}

.stat-label {
    font-size: 0.875rem;
    color: var(--dark-text-secondary);
}

.light-mode .stat-label {
    color: var(--light-text-secondary);
}

.hero-actions {
    display: flex;
    gap: 1rem;
    margin-bottom: 2rem;
}

.btn-hero-primary {
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    color: white;
    border: none;
    border-radius: 8px;
    padding: 1rem 2rem;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s;
    position: relative;
    overflow: hidden;
}

.btn-hero-primary:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 25px rgba(16, 163, 127, 0.4);
}

.btn-hero-secondary {
    background: transparent;
    color: var(--dark-text);
    border: 2px solid var(--dark-border);
    border-radius: 8px;
    padding: 1rem 2rem;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s;
}

.light-mode .btn-hero-secondary {
    color: var(--light-text);
    border-color: var(--light-border);
}

.btn-hero-secondary:hover {
    border-color: var(--primary);
    color: var(--primary);
}

.hero-trust {
    margin-top: 2rem;
}

.trust-label {
    font-size: 0.875rem;
    color: var(--dark-text-secondary);
    margin-bottom: 1rem;
}

.light-mode .trust-label {
    color: var(--light-text-secondary);
}

.trust-badges {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.trust-badge {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 0.5rem 0.75rem;
    background: var(--dark-surface);
    border-radius: 6px;
    font-size: 0.8125rem;
}

.light-mode .trust-badge {
    background: var(--light-surface);
}

.trust-badge i {
    color: var(--primary);
}

.hero-illustration {
    position: relative;
    z-index: 1;
}

.ai-assistant-card {
    background: linear-gradient(135deg, var(--dark-surface) 0%, var(--dark-surface-light) 100%);
    border-radius: 16px;
    padding: 2rem;
    border: 1px solid var(--dark-border);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    text-align: center;
    position: relative;
    overflow: hidden;
}

.light-mode .ai-assistant-card {
    background: linear-gradient(135deg, var(--light-surface) 0%, var(--light-surface-light) 100%);
    border-color: var(--light-border);
}

.assistant-avatar {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 2rem;
    margin: 0 auto 1rem;
}

.assistant-title {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
}

.assistant-subtitle {
    color: var(--dark-text-secondary);
    margin-bottom: 1.5rem;
}

.light-mode .assistant-subtitle {
    color: var(--light-text-secondary);
}

.assistant-features {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin-bottom: 1.5rem;
}

.feature {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.875rem;
}

.feature i {
    color: var(--success);
}

.btn-assistant {
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    color: white;
    border: none;
    border-radius: 8px;
    padding: 0.875rem 1.5rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    width: 100%;
    transition: all 0.2s;
}

.btn-assistant:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(16, 163, 127, 0.3);
}

.scroll-indicator {
    position: absolute;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
}

.mouse {
    width: 30px;
    height: 50px;
    border: 2px solid var(--dark-border);
    border-radius: 15px;
    position: relative;
    margin: 0 auto;
}

.light-mode .mouse {
    border-color: var(--light-border);
}

.wheel {
    width: 4px;
    height: 8px;
    background: var(--primary);
    border-radius: 2px;
    position: absolute;
    top: 8px;
    left: 50%;
    transform: translateX(-50%);
    animation: scroll 2s infinite;
}

@keyframes scroll {
    0% { top: 8px; opacity: 1; }
    100% { top: 30px; opacity: 0; }
}

.arrow {
    margin-top: 0.5rem;
    animation: bounce 2s infinite;
}

@keyframes bounce {
    0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
    40% { transform: translateY(-10px); }
    60% { transform: translateY(-5px); }
}

/* Mobile Menu */
.mobile-menu-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.8);
    z-index: 1001;
}

.mobile-menu-container {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    width: 85vw;
    max-width: 300px;
    background: var(--dark-bg);
    padding: 1rem;
    overflow-y: auto;
}

.light-mode .mobile-menu-container {
    background: var(--light-bg);
}

.mobile-menu-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--dark-border);
}

.light-mode .mobile-menu-header {
    border-bottom-color: var(--light-border);
}

.mobile-close {
    background: transparent;
    border: none;
    color: var(--dark-text);
    font-size: 1.5rem;
    cursor: pointer;
}

.light-mode .mobile-close {
    color: var(--light-text);
}

.mobile-menu-links {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.mobile-link {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 1rem;
    color: var(--dark-text);
    text-decoration: none;
    border-radius: 8px;
    transition: all 0.2s;
}

.mobile-link:hover {
    background: var(--dark-surface);
}

.mobile-link.active {
    background: var(--dark-surface);
    color: var(--primary);
}

.light-mode .mobile-link {
    color: var(--light-text);
}

.light-mode .mobile-link:hover {
    background: var(--light-surface);
}

.light-mode .mobile-link.active {
    background: var(--light-surface);
    color: var(--primary);
}

/* Features Section */
.features-section {
    padding: 5rem 0;
    background: var(--dark-bg);
}

.light-mode .features-section {
    background: var(--light-bg);
}

.section-header {
    text-align: center;
    margin-bottom: 3rem;
}

.section-title {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
}

.light-mode .section-title {
    color: var(--light-text);
}

.section-subtitle {
    font-size: 1.125rem;
    color: var(--dark-text-secondary);
    max-width: 600px;
    margin: 0 auto;
}

.light-mode .section-subtitle {
    color: var(--light-text-secondary);
}

.features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
}

.feature-card {
    background: var(--dark-surface);
    border-radius: 16px;
    padding: 2rem;
    border: 1px solid var(--dark-border);
    transition: all 0.3s;
}

.light-mode .feature-card {
    background: var(--light-surface);
    border-color: var(--light-border);
}

.feature-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    border-color: var(--primary);
}

.feature-icon {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
    margin-bottom: 1.5rem;
}

.feature-title {
    font-size: 1.25rem;
    margin-bottom: 1rem;
}

.feature-description {
    color: var(--dark-text-secondary);
    margin-bottom: 1.5rem;
    line-height: 1.6;
}

.light-mode .feature-description {
    color: var(--light-text-secondary);
}

.feature-tags {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.tag {
    background: rgba(16, 163, 127, 0.1);
    color: var(--primary);
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 500;
}

/* Database Section */
.database-section {
    padding: 5rem 0;
    background: linear-gradient(135deg, rgba(16, 163, 127, 0.05) 0%, rgba(126, 87, 194, 0.05) 100%);
}

.light-mode .database-section {
    background: linear-gradient(135deg, rgba(16, 163, 127, 0.02) 0%, rgba(126, 87, 194, 0.02) 100%);
}

.database-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
}

.database-card {
    background: var(--dark-surface);
    border-radius: 16px;
    padding: 2rem;
    border: 1px solid var(--dark-border);
    transition: all 0.3s;
}

.light-mode .database-card {
    background: var(--light-surface);
    border-color: var(--light-border);
}

.database-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
}

.database-icon {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, var(--secondary) 0%, #5e35b1 100%);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
    margin-bottom: 1.5rem;
}

.database-title {
    font-size: 1.25rem;
    margin-bottom: 1rem;
}

.database-list {
    list-style: none;
    margin-bottom: 2rem;
}

.database-list li {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 0.5rem 0;
    color: var(--dark-text-secondary);
}

.light-mode .database-list li {
    color: var(--light-text-secondary);
}

.database-list li i {
    color: var(--primary);
}

.btn-database {
    background: linear-gradient(135deg, var(--secondary) 0%, #5e35b1 100%);
    color: white;
    border: none;
    border-radius: 8px;
    padding: 0.875rem 1.5rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    width: 100%;
    justify-content: center;
    transition: all 0.2s;
}

.btn-database:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(126, 87, 194, 0.3);
}

/* Documents Section */
.documents-section {
    padding: 5rem 0;
    background: var(--dark-bg);
}

.light-mode .documents-section {
    background: var(--light-bg);
}

.documents-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
}

.document-category {
    background: var(--dark-surface);
    border-radius: 16px;
    padding: 2rem;
    border: 1px solid var(--dark-border);
    transition: all 0.3s;
}

.light-mode .document-category {
    background: var(--light-surface);
    border-color: var(--light-border);
}

.document-category:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    border-color: var(--primary);
}

.category-icon {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, var(--accent) 0%, #db2777 100%);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
    margin-bottom: 1.5rem;
}

.category-title {
    font-size: 1.25rem;
    margin-bottom: 1rem;
}

.document-list {
    list-style: none;
    margin-bottom: 2rem;
}

.document-list li {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 0.5rem 0;
    color: var(--dark-text-secondary);
}

.light-mode .document-list li {
    color: var(--light-text-secondary);
}

.document-list li i {
    color: var(--success);
}

.btn-generate {
    background: linear-gradient(135deg, var(--accent) 0%, #db2777 100%);
    color: white;
    border: none;
    border-radius: 8px;
    padding: 0.875rem 1.5rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    width: 100%;
    justify-content: center;
    transition: all 0.2s;
}

.btn-generate:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(236, 72, 153, 0.3);
}

/* Lawyer Section */
.lawyer-section {
    padding: 5rem 0;
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(16, 163, 127, 0.05) 100%);
}

.light-mode .lawyer-section {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.02) 0%, rgba(16, 163, 127, 0.02) 100%);
}

.lawyer-search {
    max-width: 800px;
    margin: 0 auto 3rem;
}

.search-container {
    display: flex;
    align-items: center;
    background: var(--dark-surface);
    border-radius: 12px;
    padding: 0.5rem;
    border: 1px solid var(--dark-border);
    margin-bottom: 1rem;
}

.light-mode .search-container {
    background: var(--light-surface);
    border-color: var(--light-border);
}

.search-container i {
    padding: 0 1rem;
    color: var(--dark-text-secondary);
}

.light-mode .search-container i {
    color: var(--light-text-secondary);
}

#lawyerSearch {
    flex: 1;
    background: transparent;
    border: none;
    color: var(--dark-text);
    font-size: 1rem;
    padding: 0.75rem 0;
    outline: none;
}

.light-mode #lawyerSearch {
    color: var(--light-text);
}

.btn-search {
    background: linear-gradient(135deg, var(--info) 0%, #1d4ed8 100%);
    color: white;
    border: none;
    border-radius: 8px;
    padding: 0.75rem 1.5rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.2s;
}

.btn-search:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(59, 130, 246, 0.3);
}

.specialization-filters {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    justify-content: center;
}

.filter-btn {
    background: var(--dark-surface);
    color: var(--dark-text-secondary);
    border: 1px solid var(--dark-border);
    border-radius: 20px;
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
    cursor: pointer;
    transition: all 0.2s;
}

.light-mode .filter-btn {
    background: var(--light-surface);
    color: var(--light-text-secondary);
    border-color: var(--light-border);
}

.filter-btn:hover {
    border-color: var(--primary);
    color: var(--primary);
}

.filter-btn.active {
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    color: white;
    border-color: var(--primary);
}

.lawyers-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 1.5rem;
}

.lawyer-card {
    background: var(--dark-surface);
    border-radius: 12px;
    padding: 1.5rem;
    text-align: center;
    border: 1px solid var(--dark-border);
    transition: all 0.3s;
}

.light-mode .lawyer-card {
    background: var(--light-surface);
    border-color: var(--light-border);
}

.lawyer-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
}

.lawyer-avatar {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, var(--info) 0%, #1d4ed8 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 2rem;
    margin: 0 auto 1rem;
}

.lawyer-name {
    font-size: 1.125rem;
    margin-bottom: 0.5rem;
}

.lawyer-specialization {
    color: var(--primary);
    font-size: 0.875rem;
    margin-bottom: 0.25rem;
}

.lawyer-experience {
    color: var(--dark-text-secondary);
    font-size: 0.8125rem;
    margin-bottom: 1rem;
}

.light-mode .lawyer-experience {
    color: var(--light-text-secondary);
}

.btn-consult {
    background: linear-gradient(135deg, var(--info) 0%, #1d4ed8 100%);
    color: white;
    border: none;
    border-radius: 8px;
    padding: 0.75rem 1.5rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    width: 100%;
    justify-content: center;
    transition: all 0.2s;
}

.btn-consult:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(59, 130, 246, 0.3);
}

/* Guides Section */
.guides-section {
    padding: 5rem 0;
    background: var(--dark-bg);
}

.light-mode .guides-section {
    background: var(--light-bg);
}

.guides-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
}

.guide-card {
    background: var(--dark-surface);
    border-radius: 16px;
    padding: 2rem;
    border: 1px solid var(--dark-border);
    transition: all 0.3s;
}

.light-mode .guide-card {
    background: var(--light-surface);
    border-color: var(--light-border);
}

.guide-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
}

.guide-icon {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, var(--warning) 0%, #d97706 100%);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
    margin-bottom: 1.5rem;
}

.guide-title {
    font-size: 1.25rem;
    margin-bottom: 1rem;
}

.guide-description {
    color: var(--dark-text-secondary);
    margin-bottom: 1.5rem;
    line-height: 1.6;
}

.light-mode .guide-description {
    color: var(--light-text-secondary);
}

.guide-steps {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-bottom: 2rem;
}

.step {
    background: rgba(245, 158, 11, 0.1);
    color: var(--warning);
    padding: 0.5rem 0.75rem;
    border-radius: 6px;
    font-size: 0.875rem;
    text-align: center;
}

.btn-guide {
    background: linear-gradient(135deg, var(--warning) 0%, #d97706 100%);
    color: white;
    border: none;
    border-radius: 8px;
    padding: 0.875rem 1.5rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    width: 100%;
    justify-content: center;
    transition: all 0.2s;
}

.btn-guide:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(245, 158, 11, 0.3);
}

/* Testimonials Section */
.testimonials-section {
    padding: 5rem 0;
    background: linear-gradient(135deg, rgba(236, 72, 153, 0.05) 0%, rgba(16, 163, 127, 0.05) 100%);
}

.light-mode .testimonials-section {
    background: linear-gradient(135deg, rgba(236, 72, 153, 0.02) 0%, rgba(16, 163, 127, 0.02) 100%);
}

.testimonials-carousel {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
}

.testimonial-card {
    background: var(--dark-surface);
    border-radius: 16px;
    padding: 2rem;
    border: 1px solid var(--dark-border);
    transition: all 0.3s;
}

.light-mode .testimonial-card {
    background: var(--light-surface);
    border-color: var(--light-border);
}

.testimonial-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
}

.testimonial-rating {
    color: var(--warning);
    margin-bottom: 1rem;
}

.testimonial-text {
    color: var(--dark-text-secondary);
    font-style: italic;
    margin-bottom: 1.5rem;
    line-height: 1.6;
}

.light-mode .testimonial-text {
    color: var(--light-text-secondary);
}

.testimonial-author {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.author-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    overflow: hidden;
}

.author-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.author-name {
    font-size: 1rem;
    margin-bottom: 0.25rem;
}

.author-title {
    font-size: 0.875rem;
    color: var(--dark-text-secondary);
}

.light-mode .author-title {
    color: var(--light-text-secondary);
}

/* Pricing Section */
.pricing-section {
    padding: 5rem 0;
    background: var(--dark-bg);
}

.light-mode .pricing-section {
    background: var(--light-bg);
}

.pricing-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    max-width: 1200px;
    margin: 0 auto;
}

.pricing-card {
    background: var(--dark-surface);
    border-radius: 16px;
    padding: 2.5rem 2rem;
    border: 1px solid var(--dark-border);
    transition: all 0.3s;
    position: relative;
}

.light-mode .pricing-card {
    background: var(--light-surface);
    border-color: var(--light-border);
}

.pricing-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
}

.pricing-card.premium-plan {
    border: 2px solid var(--primary);
    transform: scale(1.05);
}

.pricing-card.premium-plan:hover {
    transform: scale(1.05) translateY(-5px);
}

.pricing-badge {
    position: absolute;
    top: -12px;
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    color: white;
    padding: 0.25rem 1.5rem;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 600;
}

.pricing-badge.popular {
    background: linear-gradient(135deg, var(--accent) 0%, #db2777 100%);
}

.pricing-title {
    font-size: 1.5rem;
    text-align: center;
    margin-bottom: 1.5rem;
}

.pricing-price {
    text-align: center;
    margin-bottom: 1rem;
}

.currency {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--dark-text-secondary);
}

.light-mode .currency {
    color: var(--light-text-secondary);
}

.amount {
    font-size: 3rem;
    font-weight: 800;
    color: var(--primary);
    margin: 0 0.25rem;
}

.period {
    font-size: 1rem;
    color: var(--dark-text-secondary);
}

.light-mode .period {
    color: var(--light-text-secondary);
}

.pricing-description {
    text-align: center;
    color: var(--dark-text-secondary);
    margin-bottom: 2rem;
    font-size: 0.9375rem;
}

.light-mode .pricing-description {
    color: var(--light-text-secondary);
}

.pricing-features {
    list-style: none;
    margin-bottom: 2rem;
}

.pricing-features li {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 0.75rem 0;
    color: var(--dark-text-secondary);
    font-size: 0.9375rem;
}

.light-mode .pricing-features li {
    color: var(--light-text-secondary);
}

.pricing-features li i.fa-check-circle {
    color: var(--success);
}

.pricing-features li i.fa-times-circle {
    color: var(--error);
}

.btn-pricing {
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    color: white;
    border: none;
    border-radius: 8px;
    padding: 1rem 2rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    width: 100%;
    justify-content: center;
    transition: all 0.2s;
}

.btn-pricing:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(16, 163, 127, 0.3);
}

/* CTA Section */
.cta-section {
    padding: 5rem 0;
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    color: white;
    text-align: center;
}

.cta-content {
    max-width: 800px;
    margin: 0 auto;
}

.cta-title {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 1.5rem;
    line-height: 1.2;
}

.cta-description {
    font-size: 1.125rem;
    opacity: 0.9;
    margin-bottom: 2.5rem;
    line-height: 1.6;
}

.cta-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    margin-bottom: 3rem;
}

.btn-cta-primary {
    background: white;
    color: var(--primary);
    border: none;
    border-radius: 8px;
    padding: 1rem 2rem;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s;
}

.btn-cta-primary:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 25px rgba(255, 255, 255, 0.3);
}

.btn-cta-secondary {
    background: transparent;
    color: white;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 8px;
    padding: 1rem 2rem;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s;
}

.btn-cta-secondary:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: white;
}

.cta-guarantee {
    display: flex;
    justify-content: center;
    gap: 2rem;
    flex-wrap: wrap;
}

.guarantee-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.9375rem;
    opacity: 0.9;
}

/* Footer */
.premium-footer {
    background: var(--dark-bg);
    padding: 4rem 0 2rem;
    border-top: 1px solid var(--dark-border);
}

.light-mode .premium-footer {
    background: var(--light-bg);
    border-top-color: var(--light-border);
}

.footer-content {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 3rem;
    margin-bottom: 3rem;
}

.footer-section {
    display: flex;
    flex-direction: column;
}

.footer-logo {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 1.5rem;
}

.footer-description {
    color: var(--dark-text-secondary);
    margin-bottom: 1.5rem;
    line-height: 1.6;
}

.light-mode .footer-description {
    color: var(--light-text-secondary);
}

.social-links {
    display: flex;
    gap: 1rem;
}

.social-link {
    width: 40px;
    height: 40px;
    background: var(--dark-surface);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--dark-text);
    text-decoration: none;
    transition: all 0.2s;
}

.light-mode .social-link {
    background: var(--light-surface);
    color: var(--light-text);
}

.social-link:hover {
    background: var(--primary);
    color: white;
    transform: translateY(-3px);
}

.footer-heading {
    font-size: 1.125rem;
    margin-bottom: 1.5rem;
    font-weight: 600;
}

.footer-links {
    list-style: none;
}

.footer-links li {
    margin-bottom: 0.75rem;
}

.footer-links a {
    color: var(--dark-text-secondary);
    text-decoration: none;
    transition: color 0.2s;
}

.light-mode .footer-links a {
    color: var(--light-text-secondary);
}

.footer-links a:hover {
    color: var(--primary);
}

.footer-contact {
    list-style: none;
}

.footer-contact li {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 1rem;
    color: var(--dark-text-secondary);
}

.light-mode .footer-contact li {
    color: var(--light-text-secondary);
}

.footer-contact a {
    color: var(--dark-text-secondary);
    text-decoration: none;
    transition: color 0.2s;
}

.light-mode .footer-contact a {
    color: var(--light-text-secondary);
}

.footer-contact a:hover {
    color: var(--primary);
}

.footer-contact i {
    color: var(--primary);
    width: 20px;
}

.footer-bottom {
    padding-top: 2rem;
    border-top: 1px solid var(--dark-border);
    text-align: center;
}

.light-mode .footer-bottom {
    border-top-color: var(--light-border);
}

.copyright {
    color: var(--dark-text-secondary);
    margin-bottom: 1rem;
}

.light-mode .copyright {
    color: var(--light-text-secondary);
}

.disclaimer {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    color: var(--warning);
    font-size: 0.875rem;
    max-width: 600px;
    margin: 0 auto;
}

/* Back to Top */
.back-to-top {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    color: white;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    align-items: center;
    justify-content: center;
    font-size: 1.25rem;
    transition: all 0.3s;
    z-index: 100;
    box-shadow: 0 4px 15px rgba(16, 163, 127, 0.4);
}

.back-to-top:hover {
    transform: translateY(-5px) scale(1.1);
    box-shadow: 0 8px 25px rgba(16, 163, 127, 0.6);
}

/* Loading Screen */
.loading-screen {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--dark-bg);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
}

.loading-content {
    text-align: center;
}

.loading-spinner {
    width: 80px;
    height: 80px;
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 2rem;
    animation: spin 2s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.progress-bar {
    width: 200px;
    height: 4px;
    background: var(--dark-surface);
    border-radius: 2px;
    overflow: hidden;
    margin: 1rem auto;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    animation: progress 2s ease-in-out infinite;
}

@keyframes progress {
    0% { width: 0%; }
    50% { width: 60%; }
    100% { width: 100%; }
}

/* Modal */
.modal-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    z-index: 2000;
    align-items: center;
    justify-content: center;
    padding: 16px;
}

.modal-overlay.active {
    display: flex;
}

.modal {
    background: var(--dark-surface);
    border-radius: 16px;
    padding: 2rem;
    max-width: 500px;
    width: 100%;
    border: 1px solid var(--dark-border);
    max-height: 90vh;
    overflow-y: auto;
}

.light-mode .modal {
    background: var(--light-surface);
    border-color: var(--light-border);
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--dark-border);
}

.light-mode .modal-header {
    border-bottom-color: var(--light-border);
}

.modal-close {
    background: transparent;
    border: none;
    color: var(--dark-text);
    font-size: 1.25rem;
    cursor: pointer;
    padding: 0.25rem;
    border-radius: 4px;
    transition: all 0.2s;
}

.light-mode .modal-close {
    color: var(--light-text);
}

.modal-close:hover {
    background: var(--dark-surface-light);
}

.download-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
    margin-top: 1.5rem;
}

.download-option {
    background: var(--dark-bg);
    border-radius: 12px;
    padding: 1.5rem;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s;
    border: 1px solid var(--dark-border);
}

.light-mode .download-option {
    background: var(--light-bg);
    border-color: var(--light-border);
}

.download-option:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    border-color: var(--primary);
}

.download-option i {
    font-size: 2.5rem;
    margin-bottom: 1rem;
    color: var(--primary);
}

.download-option h3 {
    font-size: 1rem;
    margin-bottom: 0.5rem;
}

.download-option p {
    color: var(--dark-text-secondary);
    font-size: 0.875rem;
}

.light-mode .download-option p {
    color: var(--light-text-secondary);
}

/* Toast */
.toast {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: var(--dark-surface);
    color: var(--dark-text);
    padding: 0.875rem 1rem;
    border-radius: 8px;
    border: 1px solid var(--dark-border);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
    display: flex;
    align-items: center;
    gap: 8px;
    transform: translateY(100px);
    opacity: 0;
    transition: all 0.3s ease;
    z-index: 1000;
    max-width: 300px;
}

.light-mode .toast {
    background: var(--light-surface);
    color: var(--light-text);
    border-color: var(--light-border);
}

.toast.show {
    transform: translateY(0);
    opacity: 1;
}

.toast.success i {
    color: var(--success);
}

.toast.error i {
    color: var(--error);
}

.toast.warning i {
    color: var(--warning);
}

.toast.info i {
    color: var(--info);
}

/* Message Actions */
.message-actions {
    display: flex;
    gap: 8px;
    margin-top: 0.75rem;
    flex-wrap: wrap;
}

.action-btn {
    background: var(--dark-surface-light);
    color: var(--dark-text-secondary);
    border: 1px solid var(--dark-border);
    border-radius: 6px;
    padding: 0.375rem 0.75rem;
    cursor: pointer;
    font-size: 0.8125rem;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: 6px;
    min-height: 32px;
    font-weight: 500;
    border: none;
}

.light-mode .action-btn {
    background: var(--light-surface-light);
    color: var(--light-text-secondary);
    border-color: var(--light-border);
}

.action-btn:hover {
    background: var(--dark-border);
    color: var(--dark-text);
}

.light-mode .action-btn:hover {
    background: var(--light-border);
    color: var(--light-text);
}

.action-btn.copy:hover {
    background: var(--info);
    color: white;
}

.action-btn.like:hover {
    background: var(--success);
    color: white;
}

/* Scroll to Bottom Button */
.scroll-to-bottom-btn {
    position: fixed;
    bottom: 90px;
    right: 20px;
    width: 40px;
    height: 40px;
    background: var(--dark-surface);
    border: 1px solid var(--dark-border);
    border-radius: 50%;
    color: var(--dark-text);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    z-index: 900;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    opacity: 0;
    transform: translateY(20px);
    border: none;
}

.light-mode .scroll-to-bottom-btn {
    background: var(--light-surface);
    border-color: var(--light-border);
    color: var(--light-text);
}

.scroll-to-bottom-btn.visible {
    opacity: 1;
    transform: translateY(0);
}

.scroll-to-bottom-btn:hover {
    background: var(--primary);
    border-color: var(--primary);
    color: white;
    transform: translateY(-3px);
    box-shadow: 0 6px 16px rgba(16, 163, 127, 0.3);
}

/* Responsive Design */
@media (max-width: 1024px) {
    .hero-title {
        font-size: 2.5rem;
    }
    
    .section-title {
        font-size: 2rem;
    }
    
    .hero-container {
        grid-template-columns: 1fr;
        text-align: center;
    }
    
    .hero-stats {
        justify-content: center;
    }
    
    .hero-actions {
        justify-content: center;
    }
    
    .cta-actions {
        flex-direction: column;
        align-items: center;
    }
    
    .btn-cta-primary,
    .btn-cta-secondary {
        width: 100%;
        max-width: 300px;
        justify-content: center;
    }
}

@media (max-width: 768px) {
    .nav-menu {
        display: none;
    }
    
    .mobile-toggle {
        display: block;
    }
    
    .hero-title {
        font-size: 2rem;
    }
    
    .section-title {
        font-size: 1.75rem;
    }
    
    .hero-stats {
        flex-direction: column;
        gap: 1.5rem;
    }
    
    .hero-actions {
        flex-direction: column;
        align-items: center;
    }
    
    .btn-hero-primary,
    .btn-hero-secondary {
        width: 100%;
        max-width: 300px;
        justify-content: center;
    }
    
    .trust-badges {
        justify-content: center;
    }
    
    .cta-title {
        font-size: 2rem;
    }
    
    .cta-guarantee {
        flex-direction: column;
        gap: 1rem;
    }
    
    /* Mobile sidebar for chat */
    #chatInterface .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        bottom: 0;
        width: 85vw;
        max-width: 280px;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
    }
    
    #chatInterface .sidebar.active {
        transform: translateX(0);
    }
    
    .sidebar-toggle {
        display: flex;
    }
    
    .sidebar-close {
        display: block;
    }
    
    .sidebar-overlay {
        display: block;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 99;
    }
    
    .header-actions .hide-on-mobile {
        display: none;
    }
    
    .input-buttons .hide-on-mobile {
        display: none;
    }
}

@media (max-width: 480px) {
    .hero-title {
        font-size: 1.75rem;
    }
    
    .section-title {
        font-size: 1.5rem;
    }
    
    .features-grid,
    .database-grid,
    .documents-grid,
    .guides-grid {
        grid-template-columns: 1fr;
    }
    
    .pricing-cards {
        grid-template-columns: 1fr;
    }
    
    .pricing-card.premium-plan {
        transform: none;
    }
    
    .pricing-card.premium-plan:hover {
        transform: translateY(-5px);
    }
    
    .testimonials-carousel {
        grid-template-columns: 1fr;
    }
}

/* Utility Classes */
.hide-on-mobile {
    display: none;
}

@media (min-width: 769px) {
    .hide-on-mobile {
        display: flex;
    }
    
    .show-on-mobile {
        display: none;
    }
}

/* Scrollbar Styles */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: var(--dark-bg);
}

::-webkit-scrollbar-thumb {
    background: var(--dark-border);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--dark-surface-light);
}

.light-mode ::-webkit-scrollbar-track {
    background: var(--light-bg);
}

.light-mode ::-webkit-scrollbar-thumb {
    background: var(--light-border);
}

.light-mode ::-webkit-scrollbar-thumb:hover {
    background: var(--light-surface-light);
}

/* Animation Classes */
.pulse-glow {
    animation: pulseGlow 2s ease-in-out infinite;
}

@keyframes pulseGlow {
    0%, 100% { box-shadow: 0 0 20px rgba(16, 163, 127, 0.3); }
    50% { box-shadow: 0 0 30px rgba(16, 163, 127, 0.5); }
}

.legal-seal {
    position: relative;
}

.legal-seal::after {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    border-radius: inherit;
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s;
}

.legal-seal:hover::after {
    opacity: 1;
}

.premium-card {
    position: relative;
    overflow: hidden;
}

.premium-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
}

.btn-premium {
    position: relative;
    overflow: hidden;
}

.btn-premium::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
        to right,
        rgba(255, 255, 255, 0) 0%,
        rgba(255, 255, 255, 0.1) 50%,
        rgba(255, 255, 255, 0) 100%
    );
    transform: rotate(30deg);
    transition: transform 0.5s;
}

.btn-premium:hover::after {
    transform: rotate(30deg) translateX(100%);
}
    </style>
</head>
<body>
    <!-- Premium Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner legal-seal">
                <i class="fas fa-gavel"></i>
            </div>
            <h2 class="shimmer-text mt-4">LegalSwami</h2>
            <p class="text-light">Initializing AI Legal Assistant...</p>
            <div class="progress-bar mt-4">
                <div class="progress-fill"></div>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Premium Navigation Bar -->
        <nav class="premium-navbar">
            <div class="nav-container">
                <!-- Logo with Animation -->
                <div class="nav-logo">
                    <div class="logo-icon legal-seal">
                        <i class="fas fa-gavel gavel-animation"></i>
                    </div>
                    <div class="logo-text">
                        <h1 class="logo-title shimmer-text">LegalSwami</h1>
                        <p class="logo-subtitle">AI Legal Assistant</p>
                    </div>
                </div>

                <!-- Desktop Navigation -->
                <div class="nav-menu">
                    <a href="#home" class="nav-link active" data-scroll="home">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#features" class="nav-link" data-scroll="features">
                        <i class="fas fa-star"></i>
                        <span>Features</span>
                    </a>
                    <a href="#documents" class="nav-link" data-scroll="documents">
                        <i class="fas fa-file-contract"></i>
                        <span>Documents</span>
                    </a>
                    <a href="#legalDatabase" class="nav-link" data-scroll="legalDatabase">
                        <i class="fas fa-database"></i>
                        <span>Legal Database</span>
                    </a>
                    <a href="#lawyerDirectory" class="nav-link" data-scroll="lawyerDirectory">
                        <i class="fas fa-user-tie"></i>
                        <span>Find Lawyers</span>
                    </a>
                    <a href="#pricing" class="nav-link" data-scroll="pricing">
                        <i class="fas fa-tag"></i>
                        <span>Pricing</span>
                    </a>
                </div>

                <!-- User Actions -->
                <div class="nav-actions">
                    <button id="headerLoginBtn" class="btn-login">
                        <i class="fas fa-sign-in-alt"></i>
                        <span>Login</span>
                    </button>
                    
                    <!-- User Profile (Hidden by default) -->
                    <div id="homeUserProfile" class="user-profile" style="display: none;">
                        <div class="profile-avatar">
                            <div id="homeUserAvatar"></div>
                        </div>
                        <div class="profile-info">
                            <span id="homeUserName" class="profile-name"></span>
                            <span id="homeUserEmail" class="profile-email"></span>
                        </div>
                        <button id="homeLogoutBtn" class="btn-logout">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>
                </div>

                <!-- Mobile Menu Toggle -->
                <button class="mobile-toggle" id="mobileToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </nav>

        <!-- Mobile Menu -->
        <div class="mobile-menu-overlay" id="mobileMenu">
            <div class="mobile-menu-container">
                <div class="mobile-menu-header">
                    <div class="logo-icon legal-seal">
                        <i class="fas fa-gavel"></i>
                    </div>
                    <button class="mobile-close" id="mobileClose">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="mobile-menu-links">
                    <a href="#home" class="mobile-link active">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#features" class="mobile-link">
                        <i class="fas fa-star"></i>
                        <span>Features</span>
                    </a>
                    <a href="#documents" class="mobile-link">
                        <i class="fas fa-file-contract"></i>
                        <span>Documents</span>
                    </a>
                    <a href="#legalDatabase" class="mobile-link">
                        <i class="fas fa-database"></i>
                        <span>Legal Database</span>
                    </a>
                    <a href="#lawyerDirectory" class="mobile-link">
                        <i class="fas fa-user-tie"></i>
                        <span>Find Lawyers</span>
                    </a>
                    <a href="#legalGuides" class="mobile-link">
                        <i class="fas fa-book"></i>
                        <span>Legal Guides</span>
                    </a>
                    <a href="#pricing" class="mobile-link">
                        <i class="fas fa-tag"></i>
                        <span>Pricing</span>
                    </a>
                    <a href="#chat" class="mobile-link" id="mobileStartChat">
                        <i class="fas fa-comments"></i>
                        <span>Start Chat</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Hero Section -->
        <section id="home" class="hero-section">
            <div class="hero-container container">
                <!-- Animated Background Elements -->
                <div class="hero-bg-elements">
                    <div class="floating-element floating-icon-1">
                        <i class="fas fa-balance-scale floating"></i>
                    </div>
                    <div class="floating-element floating-icon-2">
                        <i class="fas fa-gavel floating"></i>
                    </div>
                    <div class="floating-element floating-icon-3">
                        <i class="fas fa-scale-balanced floating"></i>
                    </div>
                </div>
                
                <div class="hero-content">
                    <div class="hero-badge">
                        <span class="badge-text">
                            <i class="fas fa-bolt"></i>
                            AI-POWERED LEGAL ASSISTANT
                        </span>
                    </div>
                    
                    <h1 class="hero-title text-reveal">
                        Get <span class="shimmer-text">Instant Legal Help</span><br>
                        From Your AI Assistant
                    </h1>
                    
                    <p class="hero-subtitle">
                        LegalSwami provides 24/7 AI-powered legal guidance, document generation, 
                        and legal research assistance. Get instant answers to your legal questions 
                        in simple, understandable language.
                    </p>
                    
                    <div class="hero-stats">
                        <div class="stat-item">
                            <div class="stat-number shimmer-text">10,000+</div>
                            <div class="stat-label">Legal Documents Generated</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number shimmer-text">50,000+</div>
                            <div class="stat-label">Legal Questions Answered</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number shimmer-text">99.8%</div>
                            <div class="stat-label">User Satisfaction Rate</div>
                        </div>
                    </div>
                    
                    <div class="hero-actions">
                        <button id="startChatBtn" class="btn-hero-primary btn-premium">
                            <i class="fas fa-comments"></i>
                            <span>Start Free Chat Now</span>
                            <div class="btn-sparkle">
                                <i class="fas fa-sparkle"></i>
                            </div>
                        </button>
                        
                        <button id="watchDemo" class="btn-hero-secondary">
                            <i class="fas fa-play-circle"></i>
                            <span>Watch Demo Video</span>
                        </button>
                    </div>
                    
                    <div class="hero-trust">
                        <div class="trust-label">Trusted by</div>
                        <div class="trust-badges">
                            <div class="trust-badge">
                                <i class="fas fa-university"></i>
                                <span>Law Firms</span>
                            </div>
                            <div class="trust-badge">
                                <i class="fas fa-graduation-cap"></i>
                                <span>Law Students</span>
                            </div>
                            <div class="trust-badge">
                                <i class="fas fa-briefcase"></i>
                                <span>Businesses</span>
                            </div>
                            <div class="trust-badge">
                                <i class="fas fa-users"></i>
                                <span>Individuals</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="hero-illustration">
                    <div class="ai-assistant-card premium-card pulse-glow">
                        <div class="assistant-avatar legal-seal">
                            <i class="fas fa-robot"></i>
                        </div>
                        <h3 class="assistant-title">AI Legal Assistant</h3>
                        <p class="assistant-subtitle">Available 24/7</p>
                        
                        <div class="assistant-features">
                            <div class="feature">
                                <i class="fas fa-check-circle"></i>
                                <span>Instant Responses</span>
                            </div>
                            <div class="feature">
                                <i class="fas fa-check-circle"></i>
                                <span>Multi-Language</span>
                            </div>
                            <div class="feature">
                                <i class="fas fa-check-circle"></i>
                                <span>Document Generation</span>
                            </div>
                        </div>
                        
                        <button class="btn-assistant" id="heroAssistantBtn">
                            <i class="fas fa-comment-alt"></i>
                            Ask Legal Question
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Scroll Indicator -->
            <div class="scroll-indicator">
                <div class="mouse">
                    <div class="wheel"></div>
                </div>
                <div class="arrow">
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="features-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">
                        <span class="shimmer-text">Powerful Features</span> for All Your Legal Needs
                    </h2>
                    <p class="section-subtitle">
                        Everything you need in one comprehensive legal assistant
                    </p>
                </div>
                
                <div class="features-grid">
                    <!-- Feature 1 -->
                    <div class="feature-card premium-card">
                        <div class="feature-icon legal-seal">
                            <i class="fas fa-comments"></i>
                        </div>
                        <h3 class="feature-title">AI Chat Assistant</h3>
                        <p class="feature-description">
                            Ask legal questions in natural language and get instant, accurate responses powered by advanced AI.
                        </p>
                        <div class="feature-tags">
                            <span class="tag">24/7 Available</span>
                            <span class="tag">Multi-Language</span>
                        </div>
                    </div>
                    
                    <!-- Feature 2 -->
                    <div class="feature-card premium-card">
                        <div class="feature-icon legal-seal">
                            <i class="fas fa-file-contract"></i>
                        </div>
                        <h3 class="feature-title">Smart Document Generation</h3>
                        <p class="feature-description">
                            Generate legal documents instantly in PDF, DOC, and TXT formats with customizable templates.
                        </p>
                        <div class="feature-tags">
                            <span class="tag">100+ Templates</span>
                            <span class="tag">Customizable</span>
                        </div>
                    </div>
                    
                    <!-- Feature 3 -->
                    <div class="feature-card premium-card">
                        <div class="feature-icon legal-seal">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h3 class="feature-title">Bank-Level Security</h3>
                        <p class="feature-description">
                            End-to-end encryption and secure authentication to protect your sensitive legal data.
                        </p>
                        <div class="feature-tags">
                            <span class="tag">AES-256</span>
                            <span class="tag">GDPR Compliant</span>
                        </div>
                    </div>
                    
                    <!-- Feature 4 -->
                    <div class="feature-card premium-card">
                        <div class="feature-icon legal-seal">
                            <i class="fas fa-history"></i>
                        </div>
                        <h3 class="feature-title">Complete Chat History</h3>
                        <p class="feature-description">
                            Access your complete chat history anytime. Export conversations as documents for record keeping.
                        </p>
                        <div class="feature-tags">
                            <span class="tag">Unlimited History</span>
                            <span class="tag">Export Options</span>
                        </div>
                    </div>
                    
                    <!-- Feature 5 -->
                    <div class="feature-card premium-card">
                        <div class="feature-icon legal-seal">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <h3 class="feature-title">Mobile Responsive</h3>
                        <p class="feature-description">
                            Access LegalSwami from any device - desktop, tablet, or mobile phone with native-like experience.
                        </p>
                        <div class="feature-tags">
                            <span class="tag">PWA Support</span>
                            <span class="tag">Offline Mode</span>
                        </div>
                    </div>
                    
                    <!-- Feature 6 -->
                    <div class="feature-card premium-card">
                        <div class="feature-icon legal-seal">
                            <i class="fas fa-language"></i>
                        </div>
                        <h3 class="feature-title">Multi-Language Support</h3>
                        <p class="feature-description">
                            Get legal advice in multiple languages including Hindi, English, Marathi, Gujarati, and more.
                        </p>
                        <div class="feature-tags">
                            <span class="tag">10+ Languages</span>
                            <span class="tag">Real-time Translation</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Legal Database Section -->
        <section id="legalDatabase" class="database-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">
                        <span class="shimmer-text">Legal Database</span> & Research Tools
                    </h2>
                    <p class="section-subtitle">
                        Access comprehensive legal resources and research materials
                    </p>
                </div>
                
                <div class="database-grid">
                    <!-- Legal Acts Database -->
                    <div class="database-card premium-card">
                        <div class="database-icon">
                            <i class="fas fa-book"></i>
                        </div>
                        <h3 class="database-title">Acts & Statutes</h3>
                        <ul class="database-list">
                            <li><i class="fas fa-search"></i> IPC (Indian Penal Code)</li>
                            <li><i class="fas fa-search"></i> CrPC (Criminal Procedure Code)</li>
                            <li><i class="fas fa-search"></i> CPC (Civil Procedure Code)</li>
                            <li><i class="fas fa-search"></i> Constitution of India</li>
                            <li><i class="fas fa-search"></i> Consumer Protection Act</li>
                        </ul>
                        <button class="btn-database">
                            <i class="fas fa-search"></i>
                            Search Acts
                        </button>
                    </div>
                    
                    <!-- Case Laws Database -->
                    <div class="database-card premium-card">
                        <div class="database-icon">
                            <i class="fas fa-gavel"></i>
                        </div>
                        <h3 class="database-title">Case Laws Database</h3>
                        <ul class="database-list">
                            <li><i class="fas fa-balance-scale"></i> Supreme Court Judgments</li>
                            <li><i class="fas fa-balance-scale"></i> High Court Judgments</li>
                            <li><i class="fas fa-balance-scale"></i> Landmark Cases</li>
                            <li><i class="fas fa-balance-scale"></i> Recent Judgments</li>
                            <li><i class="fas fa-balance-scale"></i> Case Citations</li>
                        </ul>
                        <button class="btn-database">
                            <i class="fas fa-gavel"></i>
                            Search Case Laws
                        </button>
                    </div>
                    
                    <!-- Legal Calculator -->
                    <div class="database-card premium-card">
                        <div class="database-icon">
                            <i class="fas fa-calculator"></i>
                        </div>
                        <h3 class="database-title">Legal Calculators</h3>
                        <ul class="database-list">
                            <li><i class="fas fa-calculator"></i> Court Fee Calculator</li>
                            <li><i class="fas fa-calculator"></i> Stamp Duty Calculator</li>
                            <li><i class="fas fa-calculator"></i> Compensation Calculator</li>
                            <li><i class="fas fa-calculator"></i> Interest Calculator</li>
                            <li><i class="fas fa-calculator"></i> Tax Calculator</li>
                        </ul>
                        <button class="btn-database">
                            <i class="fas fa-calculator"></i>
                            Open Calculator
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Document Types Section -->
        <section id="documents" class="documents-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">
                        Generate <span class="shimmer-text">Legal Documents</span> Instantly
                    </h2>
                    <p class="section-subtitle">
                        Professional legal documents at your fingertips
                    </p>
                </div>
                
                <div class="documents-grid">
                    <!-- Document Category 1 -->
                    <div class="document-category premium-card">
                        <div class="category-icon">
                            <i class="fas fa-handshake"></i>
                        </div>
                        <h3 class="category-title">Agreements & Contracts</h3>
                        <ul class="document-list">
                            <li><i class="fas fa-check-circle"></i> Rental Agreement</li>
                            <li><i class="fas fa-check-circle"></i> Non-Disclosure Agreement</li>
                            <li><i class="fas fa-check-circle"></i> Employment Contract</li>
                            <li><i class="fas fa-check-circle"></i> Service Agreement</li>
                            <li><i class="fas fa-check-circle"></i> Partnership Agreement</li>
                        </ul>
                        <button class="btn-generate">
                            <i class="fas fa-magic"></i>
                            Generate Now
                        </button>
                    </div>
                    
                    <!-- Document Category 2 -->
                    <div class="document-category premium-card">
                        <div class="category-icon">
                            <i class="fas fa-balance-scale"></i>
                        </div>
                        <h3 class="category-title">Legal Notices & Letters</h3>
                        <ul class="document-list">
                            <li><i class="fas fa-check-circle"></i> Legal Notice</li>
                            <li><i class="fas fa-check-circle"></i> Cease & Desist Notice</li>
                            <li><i class="fas fa-check-circle"></i> Demand Letter</li>
                            <li><i class="fas fa-check-circle"></i> Notice to Quit</li>
                            <li><i class="fas fa-check-circle"></i> Consumer Complaint</li>
                        </ul>
                        <button class="btn-generate">
                            <i class="fas fa-magic"></i>
                            Generate Now
                        </button>
                    </div>
                    
                    <!-- Document Category 3 -->
                    <div class="document-category premium-card">
                        <div class="category-icon">
                            <i class="fas fa-user-tie"></i>
                        </div>
                        <h3 class="category-title">Personal & Family</h3>
                        <ul class="document-list">
                            <li><i class="fas fa-check-circle"></i> Will & Testament</li>
                            <li><i class="fas fa-check-circle"></i> Power of Attorney</li>
                            <li><i class="fas fa-check-circle"></i> Affidavit</li>
                            <li><i class="fas fa-check-circle"></i> Gift Deed</li>
                            <li><i class="fas fa-check-circle"></i> Divorce Papers</li>
                        </ul>
                        <button class="btn-generate">
                            <i class="fas fa-magic"></i>
                            Generate Now
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Lawyer Directory Section -->
        <section id="lawyerDirectory" class="lawyer-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">
                        Find <span class="shimmer-text">Qualified Lawyers</span>
                    </h2>
                    <p class="section-subtitle">
                        Connect with experienced legal professionals
                    </p>
                </div>
                
                <div class="lawyer-search">
                    <div class="search-container">
                        <i class="fas fa-search"></i>
                        <input type="text" id="lawyerSearch" placeholder="Search by specialization, location, or name...">
                        <button class="btn-search">
                            <i class="fas fa-search"></i>
                            Search
                        </button>
                    </div>
                    
                    <div class="specialization-filters">
                        <button class="filter-btn active" data-specialization="all">All</button>
                        <button class="filter-btn" data-specialization="criminal">Criminal</button>
                        <button class="filter-btn" data-specialization="civil">Civil</button>
                        <button class="filter-btn" data-specialization="corporate">Corporate</button>
                        <button class="filter-btn" data-specialization="family">Family</button>
                        <button class="filter-btn" data-specialization="property">Property</button>
                    </div>
                </div>
                
                <div class="lawyers-grid" id="lawyersGrid">
                    <!-- Lawyers will be dynamically loaded here -->
                    <div class="lawyer-card premium-card">
                        <div class="lawyer-avatar">
                            <i class="fas fa-user-tie"></i>
                        </div>
                        <h3 class="lawyer-name">Adv. Rajesh Kumar</h3>
                        <p class="lawyer-specialization">Criminal Law Expert</p>
                        <p class="lawyer-experience">15+ Years Experience</p>
                        <button class="btn-consult">
                            <i class="fas fa-comments"></i> Consult Now
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Legal Procedure Guides Section -->
        <section id="legalGuides" class="guides-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">
                        <span class="shimmer-text">Step-by-Step</span> Legal Guides
                    </h2>
                    <p class="section-subtitle">
                        Understand legal procedures with easy-to-follow guides
                    </p>
                </div>
                
                <div class="guides-grid">
                    <div class="guide-card premium-card">
                        <div class="guide-icon">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <h3 class="guide-title">How to File a Case</h3>
                        <p class="guide-description">
                            Complete step-by-step guide for filing different types of cases in Indian courts.
                        </p>
                        <div class="guide-steps">
                            <span class="step">1. Document Preparation</span>
                            <span class="step">2. Court Selection</span>
                            <span class="step">3. Fee Payment</span>
                            <span class="step">4. Case Number</span>
                        </div>
                        <button class="btn-guide">
                            <i class="fas fa-book-open"></i>
                            View Guide
                        </button>
                    </div>
                    
                    <div class="guide-card premium-card">
                        <div class="guide-icon">
                            <i class="fas fa-file-contract"></i>
                        </div>
                        <h3 class="guide-title">Document Registration Process</h3>
                        <p class="guide-description">
                            Learn how to register legal documents with proper procedures and fees.
                        </p>
                        <div class="guide-steps">
                            <span class="step">1. Stamp Duty</span>
                            <span class="step">2. Witness Arrangement</span>
                            <span class="step">3. Registration Office</span>
                            <span class="step">4. Final Registration</span>
                        </div>
                        <button class="btn-guide">
                            <i class="fas fa-book-open"></i>
                            View Guide
                        </button>
                    </div>
                    
                    <div class="guide-card premium-card">
                        <div class="guide-icon">
                            <i class="fas fa-balance-scale"></i>
                        </div>
                        <h3 class="guide-title">Consumer Complaint Process</h3>
                        <p class="guide-description">
                            Guide to filing consumer complaints with proper documentation and procedures.
                        </p>
                        <div class="guide-steps">
                            <span class="step">1. Complaint Drafting</span>
                            <span class="step">2. Evidence Collection</span>
                            <span class="step">3. Forum Selection</span>
                            <span class="step">4. Hearing Process</span>
                        </div>
                        <button class="btn-guide">
                            <i class="fas fa-book-open"></i>
                            View Guide
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section id="testimonials" class="testimonials-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">
                        Trusted by <span class="shimmer-text">Thousands</span> of Users
                    </h2>
                    <p class="section-subtitle">
                        See what our users have to say about LegalSwami
                    </p>
                </div>
                
                <div class="testimonials-carousel">
                    <!-- Testimonial 1 -->
                    <div class="testimonial-card premium-card">
                        <div class="testimonial-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p class="testimonial-text">
                            "LegalSwami helped me draft a professional rental agreement in minutes. The AI understood exactly what I needed and generated a perfect document. Saved me ₹5000 in lawyer fees!"
                        </p>
                        <div class="testimonial-author">
                            <div class="author-avatar">
                                <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Rahul Sharma">
                            </div>
                            <div class="author-info">
                                <h4 class="author-name">Rahul Sharma</h4>
                                <p class="author-title">Small Business Owner</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Testimonial 2 -->
                    <div class="testimonial-card premium-card">
                        <div class="testimonial-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <p class="testimonial-text">
                            "As a law student, LegalSwami is a game-changer! It helps me understand complex legal concepts and provides excellent research assistance. Like having a personal tutor 24/7."
                        </p>
                        <div class="testimonial-author">
                            <div class="author-avatar">
                                <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Priya Patel">
                            </div>
                            <div class="author-info">
                                <h4 class="author-name">Priya Patel</h4>
                                <p class="author-title">Law Student, NLU Delhi</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Testimonial 3 -->
                    <div class="testimonial-card premium-card">
                        <div class="testimonial-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p class="testimonial-text">
                            "The document generation feature saved our startup thousands! We needed multiple NDAs and service agreements. LegalSwami generated perfect documents in minutes. Incredible tool!"
                        </p>
                        <div class="testimonial-author">
                            <div class="author-avatar">
                                <img src="https://randomuser.me/api/portraits/men/67.jpg" alt="Ankit Verma">
                            </div>
                            <div class="author-info">
                                <h4 class="author-name">Ankit Verma</h4>
                                <p class="author-title">Tech Entrepreneur</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Pricing Section -->
        <section id="pricing" class="pricing-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">
                        Simple, <span class="shimmer-text">Transparent</span> Pricing
                    </h2>
                    <p class="section-subtitle">
                        Choose the perfect plan for your legal needs
                    </p>
                </div>
                
                <div class="pricing-cards">
                    <!-- Free Plan -->
                    <div class="pricing-card premium-card">
                        <div class="pricing-badge">FREE</div>
                        <h3 class="pricing-title">Basic</h3>
                        <div class="pricing-price">
                            <span class="currency">₹</span>
                            <span class="amount">0</span>
                            <span class="period">/month</span>
                        </div>
                        <p class="pricing-description">Perfect for trying out LegalSwami</p>
                        
                        <ul class="pricing-features">
                            <li><i class="fas fa-check-circle"></i> 10 AI Chat Messages/Day</li>
                            <li><i class="fas fa-check-circle"></i> 3 Document Generations/Month</li>
                            <li><i class="fas fa-check-circle"></i> Basic Legal Questions</li>
                            <li><i class="fas fa-times-circle"></i> No Priority Support</li>
                            <li><i class="fas fa-times-circle"></i> No Document History</li>
                        </ul>
                        
                        <button class="btn-pricing">
                            Get Started Free
                        </button>
                    </div>
                    
                    <!-- Pro Plan -->
                    <div class="pricing-card premium-card premium-plan">
                        <div class="pricing-badge popular">POPULAR</div>
                        <h3 class="pricing-title">Professional</h3>
                        <div class="pricing-price">
                            <span class="currency">₹</span>
                            <span class="amount">499</span>
                            <span class="period">/month</span>
                        </div>
                        <p class="pricing-description">Perfect for professionals & businesses</p>
                        
                        <ul class="pricing-features">
                            <li><i class="fas fa-check-circle"></i> Unlimited AI Chat Messages</li>
                            <li><i class="fas fa-check-circle"></i> 50 Document Generations/Month</li>
                            <li><i class="fas fa-check-circle"></i> All Document Templates</li>
                            <li><i class="fas fa-check-circle"></i> Priority Support</li>
                            <li><i class="fas fa-check-circle"></i> Complete Chat History</li>
                        </ul>
                        
                        <button class="btn-pricing btn-premium">
                            <i class="fas fa-crown"></i>
                            Get Professional
                        </button>
                    </div>
                    
                    <!-- Business Plan -->
                    <div class="pricing-card premium-card">
                        <div class="pricing-badge">BUSINESS</div>
                        <h3 class="pricing-title">Enterprise</h3>
                        <div class="pricing-price">
                            <span class="currency">₹</span>
                            <span class="amount">1,499</span>
                            <span class="period">/month</span>
                        </div>
                        <p class="pricing-description">For law firms & large organizations</p>
                        
                        <ul class="pricing-features">
                            <li><i class="fas fa-check-circle"></i> Everything in Professional</li>
                            <li><i class="fas fa-check-circle"></i> Unlimited Document Generation</li>
                            <li><i class="fas fa-check-circle"></i> Team Collaboration</li>
                            <li><i class="fas fa-check-circle"></i> Custom Templates</li>
                            <li><i class="fas fa-check-circle"></i> Dedicated Account Manager</li>
                        </ul>
                        
                        <button class="btn-pricing">
                            Contact Sales
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section class="cta-section">
            <div class="container">
                <div class="cta-content">
                    <h2 class="cta-title">
                        Ready to Experience <br>
                        AI-Powered Legal Assistance?
                    </h2>
                    <p class="cta-description">
                        Join thousands of satisfied users who trust LegalSwami for their legal needs. 
                        No credit card required to get started.
                    </p>
                    
                    <div class="cta-actions">
                        <button id="ctaStartChat" class="btn-cta-primary btn-premium">
                            <i class="fas fa-rocket"></i>
                            Start Free Chat Now
                        </button>
                        
                        <button id="ctaScheduleDemo" class="btn-cta-secondary">
                            <i class="fas fa-calendar"></i>
                            Schedule Demo
                        </button>
                    </div>
                    
                    <div class="cta-guarantee">
                        <div class="guarantee-item">
                            <i class="fas fa-shield-alt"></i>
                            <span>100% Secure & Private</span>
                        </div>
                        <div class="guarantee-item">
                            <i class="fas fa-clock"></i>
                            <span>Available 24/7</span>
                        </div>
                        <div class="guarantee-item">
                            <i class="fas fa-headset"></i>
                            <span>Priority Support</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CHATGPT-LIKE CHAT INTERFACE -->
        <div id="chatInterface" class="chat-interface">
            <div class="container">
                <div class="chat-container">
                    <header>
                        <div class="logo">
                            <button class="sidebar-toggle" id="sidebarToggle">
                                <i class="fas fa-bars"></i>
                            </button>
                            <div class="logo-icon">
                                <i class="fas fa-scale-balanced"></i>
                            </div>
                            <h1>LegalSwami</h1>
                        </div>
                        
                        <div class="header-actions">
                            <button id="backToHomeBtn" class="header-btn">
                                <i class="fas fa-home"></i>
                                <span class="hide-on-mobile">Back to Home</span>
                            </button>
                            
                            <div class="status-indicator">
                                <div class="status-dot"></div>
                                <span class="hide-on-mobile">AI Assistant Ready</span>
                            </div>
                            
                            <!-- Search Counter Display -->
                            <div class="search-counter" id="searchCounter">
                                <i class="fas fa-search"></i>
                                <span class="hide-on-mobile">Free searches: 500/500</span>
                            </div>
                            
                            <!-- Login Button -->
                            <button class="login-btn" id="chatHeaderLoginBtn">
                                <i class="fas fa-sign-in-alt"></i>
                                <span class="hide-on-mobile">Login</span>
                            </button>
                            
                            <button class="header-btn voice-search-btn" id="voiceSearchBtn" title="Voice Search">
                                <i class="fas fa-microphone"></i>
                            </button>
                            <button class="header-btn theme-toggle" id="themeToggle" title="Toggle Theme">
                                <i class="fas fa-sun"></i>
                            </button>
                            <button class="header-btn" id="clearChatBtn">
                                <i class="fas fa-broom"></i>
                                <span class="hide-on-mobile">Clear Chat</span>
                            </button>
                            <button class="header-btn" id="downloadCurrentBtn">
                                <i class="fas fa-download"></i>
                                <span class="hide-on-mobile">Download Chat</span>
                            </button>
                            <button class="header-btn" id="suggestionsBtn">
                                <i class="fas fa-lightbulb"></i>
                                <span class="hide-on-mobile">Suggestions</span>
                            </button>
                        </div>
                    </header>
                    
                    <div class="main-content">
                        <!-- Down Arrow Button (Scroll to Bottom) -->
                        <button class="scroll-to-bottom-btn" id="scrollToBottomBtn" title="Scroll to bottom">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        
                        <aside class="sidebar" id="sidebar">
                            <!-- Sidebar Tabs -->
                            <div class="sidebar-tabs">
                                <button class="sidebar-tab active" data-tab="legal-topics">
                                    <i class="fas fa-book"></i>
                                    <span class="hide-on-mobile">Legal Topics</span>
                                </button>
                                <button class="sidebar-tab" data-tab="chat-history">
                                    <i class="fas fa-history"></i>
                                    <span class="hide-on-mobile">Chat History</span>
                                </button>
                            </div>
                            
                            <!-- Legal Topics Tab Content -->
                            <div class="tab-content active" id="legal-topics-content">
                                <div class="sidebar-header">
                                    <h2><i class="fas fa-book"></i> Legal Topics</h2>
                                </div>
                                
                                <div class="sidebar-section">
                                    <h3><i class="fas fa-gavel"></i> Common Legal Areas</h3>
                                    <div class="topic-list">
                                        <button class="topic-item" data-topic="contract">
                                            <i class="fas fa-file-contract"></i>
                                            <span>Contract Law</span>
                                        </button>
                                        <button class="topic-item" data-topic="employment">
                                            <i class="fas fa-briefcase"></i>
                                            <span>Employment Law</span>
                                        </button>
                                        <button class="topic-item" data-topic="intellectual">
                                            <i class="fas fa-lightbulb"></i>
                                            <span>Intellectual Property</span>
                                        </button>
                                        <button class="topic-item" data-topic="realestate">
                                            <i class="fas fa-house"></i>
                                            <span>Real Estate Law</span>
                                        </button>
                                        <button class="topic-item" data-topic="family">
                                            <i class="fas fa-heart"></i>
                                            <span>Family Law</span>
                                        </button>
                                        <button class="topic-item" data-topic="criminal">
                                            <i class="fas fa-gavel"></i>
                                            <span>Criminal Law</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Chat History Tab Content -->
                            <div class="tab-content" id="chat-history-content">
                                <div class="history-header">
                                    <h2><i class="fas fa-history"></i> Chat History</h2>
                                    <button class="new-chat-btn" id="newChatBtn">
                                        <i class="fas fa-plus"></i>
                                        <span class="hide-on-mobile">New Chat</span>
                                    </button>
                                </div>
                                
                                <div class="history-list" id="historyList">
                                    <div class="empty-history">
                                        <i class="fas fa-comments"></i>
                                        <p>No chat history yet</p>
                                        <p style="font-size: 0.8125rem; margin-top: 0.5rem;">Start a conversation to see it here</p>
                                    </div>
                                </div>
                            </div>
                        </aside>
                        
                        <main id="chatContent">
                            <div class="chat-messages" id="chatMessages">
                                <!-- Welcome Message will be added dynamically -->
                            </div>
                            
                            <div class="input-container">
                                <div class="input-area">
                                    <textarea 
                                        id="userInput" 
                                        placeholder="Ask any legal question or attach files (images, PDF, TXT)... (Press Enter for new line, Ctrl+Enter to send)"
                                        rows="1"
                                    ></textarea>
                                    
                                    <div class="input-buttons">
                                        <!-- Emoji Picker Button -->
                                        <button class="emoji-picker-btn" id="emojiPickerBtn" title="Insert emoji">
                                            <i class="far fa-smile"></i>
                                        </button>
                                        
                                        <!-- Attachment Button -->
                                        <button class="attachment-btn" id="attachmentBtn" title="Attach files (images, PDF, TXT)">
                                            <i class="fas fa-paperclip"></i>
                                        </button>
                                        
                                        <!-- Voice Input Button -->
                                        <button class="input-microphone-btn" id="inputMicrophoneBtn" title="Voice input">
                                            <i class="fas fa-microphone"></i>
                                        </button>
                                        
                                        <!-- Send/Stop Button -->
                                        <button class="send-button" id="sendButton">
                                            <i class="fas fa-paper-plane"></i> <span class="hide-on-mobile">Send</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </main>
                    </div>
                    
                    <!-- Download Modal -->
                    <div class="modal-overlay" id="downloadModal">
                        <div class="modal">
                            <div class="modal-header">
                                <h2><i class="fas fa-download"></i> Download Chat</h2>
                                <button class="modal-close" id="closeDownloadModal">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div class="modal-content">
                                <p>Select the format you want to download your chat in:</p>
                                
                                <div class="download-options">
                                    <div class="download-option" data-format="doc">
                                        <i class="fas fa-file-word"></i>
                                        <h3>Word Document</h3>
                                        <p>.doc format</p>
                                    </div>
                                    <div class="download-option" data-format="pdf">
                                        <i class="fas fa-file-pdf"></i>
                                        <h3>PDF Document</h3>
                                        <p>.pdf format</p>
                                    </div>
                                    <div class="download-option" data-format="txt">
                                        <i class="fas fa-file-alt"></i>
                                        <h3>Text File</h3>
                                        <p>.txt format</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Toast Notifications -->
                    <div class="toast" id="toast">
                        <i class="fas fa-check-circle"></i>
                        <span id="toast-message">Message sent successfully</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <footer class="premium-footer">
            <div class="container">
                <div class="footer-content">
                    <!-- Company Info -->
                    <div class="footer-section">
                        <div class="footer-logo">
                            <div class="logo-icon legal-seal">
                                <i class="fas fa-gavel"></i>
                            </div>
                            <div class="logo-text">
                                <h3 class="logo-title shimmer-text">LegalSwami</h3>
                                <p class="logo-subtitle">AI Legal Assistant</p>
                            </div>
                        </div>
                        <p class="footer-description">
                            Making legal assistance accessible to everyone with AI-powered technology.
                        </p>
                        <div class="social-links">
                            <a href="#" class="social-link">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a href="#" class="social-link">
                                <i class="fab fa-linkedin"></i>
                            </a>
                            <a href="#" class="social-link">
                                <i class="fab fa-github"></i>
                            </a>
                            <a href="#" class="social-link">
                                <i class="fab fa-youtube"></i>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Quick Links -->
                    <div class="footer-section">
                        <h4 class="footer-heading">Quick Links</h4>
                        <ul class="footer-links">
                            <li><a href="#home">Home</a></li>
                            <li><a href="#features">Features</a></li>
                            <li><a href="#documents">Documents</a></li>
                            <li><a href="#legalDatabase">Legal Database</a></li>
                            <li><a href="#lawyerDirectory">Find Lawyers</a></li>
                            <li><a href="#legalGuides">Legal Guides</a></li>
                            <li><a href="#testimonials">Testimonials</a></li>
                            <li><a href="#pricing">Pricing</a></li>
                        </ul>
                    </div>
                    
                    <!-- Legal -->
                    <div class="footer-section">
                        <h4 class="footer-heading">Legal</h4>
                        <ul class="footer-links">
                            <li><a href="#" id="termsLink">Terms of Service</a></li>
                            <li><a href="#" id="privacyLink">Privacy Policy</a></li>
                            <li><a href="#" id="disclaimerLink">Legal Disclaimer</a></li>
                            <li><a href="#" id="cookieLink">Cookie Policy</a></li>
                        </ul>
                    </div>
                    
                    <!-- Contact -->
                    <div class="footer-section">
                        <h4 class="footer-heading">Contact Us</h4>
                        <ul class="footer-contact">
                            <li>
                                <i class="fas fa-envelope"></i>
                                <a href="mailto:support@legalswami.com">support@legalswami.com</a>
                            </li>
                            <li>
                                <i class="fas fa-phone"></i>
                                <a href="tel:+919876543210">+91 9876543210</a>
                            </li>
                            <li>
                                <i class="fas fa-map-marker-alt"></i>
                                <span>Mumbai, India</span>
                            </li>
                        </ul>
                    </div>
                </div>
                
                <div class="footer-bottom">
                    <p class="copyright">
                        &copy; 2024 LegalSwami. All rights reserved.
                    </p>
                    <div class="disclaimer">
                        <i class="fas fa-exclamation-triangle"></i>
                        LegalSwami provides AI-powered legal assistance. It is not a substitute for professional legal advice.
                    </div>
                </div>
            </div>
        </footer>

        <!-- Back to Top -->
        <button id="backToTop" class="back-to-top">
            <i class="fas fa-chevron-up"></i>
        </button>
    </div>

    <!-- Google Identity Services -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    
    <!-- Main App Script -->
    <script>
// =============================================
// LEGALSWAMI - COMPLETE UPDATED SCRIPT
// =============================================

// Global variables
let chatHistory = [];
let currentChatId = null;
let conversationHistory = [];
let isListening = false;
let recognition = null;
let isLightMode = false;
let currentUser = null;
let isLoggedIn = false;
let searchCount = 0;
const MAX_FREE_SEARCHES = 500;
let chatInitialized = false;

// Welcome message HTML
const WELCOME_MESSAGE_HTML = `
    <div class="welcome-message">
        <h2>Welcome to LegalSwami</h2>
        <p>Your AI-powered legal assistant for accurate, comprehensive legal information and guidance.</p>
        <p style="color: var(--primary); margin-top: 10px; font-size: 0.875rem;">
            <i class="fas fa-language"></i> Supports multiple Indian languages including Marathi, Hindi, and more!
        </p>
        <div style="margin-top: 1.5rem;">
            <h3 style="color: var(--primary); margin-bottom: 0.875rem; font-size: 1rem;">Ready-to-Use Legal Documents:</h3>
            <div class="draft-templates">
                <div class="draft-template" data-template="nda">
                    <i class="fas fa-file-signature"></i>
                    <h4>Non-Disclosure Agreement</h4>
                    <p>Confidentiality agreement template</p>
                </div>
                <div class="draft-template" data-template="employment">
                    <i class="fas fa-briefcase"></i>
                    <h4>Employment Contract</h4>
                    <p>Employee agreement template</p>
                </div>
                <div class="draft-template" data-template="rental">
                    <i class="fas fa-house"></i>
                    <h4>Rental Agreement</h4>
                    <p>Tenancy agreement template</p>
                </div>
                <div class="draft-template" data-template="loan">
                    <i class="fas fa-money-bill-wave"></i>
                    <h4>Loan Agreement</h4>
                    <p>Money lending agreement</p>
                </div>
            </div>
        </div>
        <div class="welcome-features">
            <div class="feature">
                <i class="fas fa-bolt"></i>
                <h4>Instant Responses</h4>
                <p>Get immediate legal insights powered by advanced AI</p>
            </div>
            <div class="feature">
                <i class="fas fa-shield-alt"></i>
                <h4>Confidential & Secure</h4>
                <p>Your conversations are private and encrypted</p>
            </div>
            <div class="feature">
                <i class="fas fa-language"></i>
                <h4>Multi-Language</h4>
                <p>Responds in same language as your query</p>
            </div>
        </div>
    </div>
`;

// =============================================
// CHAT FUNCTIONS - COMPLETELY FIXED
// =============================================

function openChat() {
    console.log("🚀 Opening chat...");
    
    // Add chat-active class
    document.body.classList.add('chat-active');
    
    // Show chat interface
    const chatInterface = document.getElementById('chatInterface');
    if (chatInterface) {
        chatInterface.style.display = 'flex';
        chatInterface.style.visibility = 'visible';
        chatInterface.style.opacity = '1';
        chatInterface.classList.add('active');
    }
    
    // Initialize chat if not already
    if (!chatInitialized) {
        setTimeout(() => {
            initializeChatApp();
            chatInitialized = true;
            console.log("✅ Chat initialized");
        }, 100);
    }
    
    // Focus on input
    setTimeout(() => {
        const userInput = document.getElementById('userInput');
        if (userInput) {
            userInput.focus();
        }
    }, 300);
    
    // Scroll to bottom
    setTimeout(() => {
        const chatMessages = document.getElementById('chatMessages');
        if (chatMessages) {
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
    }, 500);
}

function closeChat() {
    console.log("🔙 Closing chat...");
    
    // Remove body class
    document.body.classList.remove('chat-active');
    
    // Hide chat interface
    const chatInterface = document.getElementById('chatInterface');
    if (chatInterface) {
        chatInterface.classList.remove('active');
        chatInterface.style.display = 'none';
        chatInterface.style.visibility = 'hidden';
        chatInterface.style.opacity = '0';
    }
}

// =============================================
// INITIALIZATION FUNCTIONS
// =============================================

function initializeAppForGuest() {
    console.log("👤 Initializing in guest mode...");
    currentUser = {
        id: 'guest_' + Date.now(),
        name: 'Guest User',
        email: 'Local Browser Mode',
        isGuest: true,
        picture: null
    };
    isLoggedIn = false;
    updateUserUI();
    loadUserChatHistory();
    showToast('Welcome to LegalSwami! You have 500 free searches per day.', 'info');
}

function updateUserUI() {
    // Update homepage UI
    if (isLoggedIn && currentUser) {
        const headerLoginBtn = document.getElementById('headerLoginBtn');
        const homeUserProfile = document.getElementById('homeUserProfile');
        const homeUserName = document.getElementById('homeUserName');
        const homeUserEmail = document.getElementById('homeUserEmail');
        const homeUserAvatar = document.getElementById('homeUserAvatar');
        
        if (headerLoginBtn) headerLoginBtn.style.display = 'none';
        if (homeUserProfile) homeUserProfile.style.display = 'flex';
        if (homeUserName) homeUserName.textContent = currentUser.name;
        if (homeUserEmail) homeUserEmail.textContent = currentUser.email;
        
        if (homeUserAvatar) {
            if (currentUser.picture) {
                homeUserAvatar.innerHTML = `<img src="${currentUser.picture}" alt="${currentUser.name}" style="width: 100%; height: 100%; border-radius: 8px;">`;
            } else {
                homeUserAvatar.innerHTML = '<i class="fas fa-user"></i>';
            }
        }
    } else {
        const headerLoginBtn = document.getElementById('headerLoginBtn');
        const homeUserProfile = document.getElementById('homeUserProfile');
        if (headerLoginBtn) headerLoginBtn.style.display = 'flex';
        if (homeUserProfile) homeUserProfile.style.display = 'none';
    }
}

// =============================================
// CHAT HISTORY FUNCTIONS
// =============================================

function loadUserChatHistory() {
    const userId = currentUser ? currentUser.id : 'guest';
    const storageKey = `legalSwamiChatHistory_${userId}`;
    try {
        const savedHistory = localStorage.getItem(storageKey);
        if (savedHistory) {
            chatHistory = JSON.parse(savedHistory);
        }
        const savedChatId = localStorage.getItem(`legalSwamiCurrentChatId_${userId}`);
        if (savedChatId) {
            currentChatId = savedChatId;
            const currentChat = chatHistory.find(chat => chat.id === currentChatId);
            if (currentChat) {
                conversationHistory = [...currentChat.messages];
            }
        }
    } catch (error) {
        console.error('Error loading chat history:', error);
        chatHistory = [];
    }
}

function saveUserChatHistory() {
    const userId = currentUser ? currentUser.id : 'guest';
    const storageKey = `legalSwamiChatHistory_${userId}`;
    try {
        localStorage.setItem(storageKey, JSON.stringify(chatHistory));
        localStorage.setItem(`legalSwamiCurrentChatId_${userId}`, currentChatId);
    } catch (error) {
        console.error('Error saving chat history:', error);
    }
}

// =============================================
// MAIN CHAT APP INITIALIZATION
// =============================================

function initializeChatApp() {
    console.log("🤖 Initializing chat app...");
    
    try {
        const chatMessages = document.getElementById('chatMessages');
        const userInput = document.getElementById('userInput');
        const sendButton = document.getElementById('sendButton');
        const clearChatBtn = document.getElementById('clearChatBtn');
        const downloadCurrentBtn = document.getElementById('downloadCurrentBtn');
        const suggestionsBtn = document.getElementById('suggestionsBtn');
        const voiceSearchBtn = document.getElementById('voiceSearchBtn');
        const inputMicrophoneBtn = document.getElementById('inputMicrophoneBtn');
        const themeToggle = document.getElementById('themeToggle');
        const topicItems = document.querySelectorAll('.topic-item');
        const sidebarTabs = document.querySelectorAll('.sidebar-tab');
        const newChatBtn = document.getElementById('newChatBtn');
        const backToHomeBtn = document.getElementById('backToHomeBtn');
        const emojiPickerBtn = document.getElementById('emojiPickerBtn');

        // Load preferences
        loadThemePreference();
        
        // Load or create chat
        if (!currentChatId || conversationHistory.length === 0) {
            createNewChat();
        } else {
            loadCurrentChatMessages();
        }

        // Send button click
        if (sendButton) {
            sendButton.addEventListener('click', sendMessage);
        }
        
        // User input keydown
        if (userInput) {
            userInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && e.ctrlKey) {
                    e.preventDefault();
                    sendMessage();
                }
                if (e.key === 'Enter' && !e.ctrlKey) {
                    setTimeout(() => {
                        this.style.height = 'auto';
                        this.style.height = Math.min(this.scrollHeight, 150) + 'px';
                    }, 10);
                }
            });
            
            userInput.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = Math.min(this.scrollHeight, 150) + 'px';
                sendButton.disabled = this.value.trim() === '';
            });
        }

        // Voice recognition setup
        if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            recognition = new SpeechRecognition();
            recognition.continuous = false;
            recognition.interimResults = true;
            recognition.lang = 'en-IN,hi-IN,mr-IN';
            
            recognition.onstart = function() {
                isListening = true;
                showToast('Listening... Speak now 🎤', 'info');
            };
            
            recognition.onresult = function(event) {
                const transcript = event.results[0][0].transcript;
                if (event.results[0].isFinal && userInput) {
                    userInput.value = transcript;
                    userInput.style.height = Math.min(userInput.scrollHeight, 180) + 'px';
                    sendButton.disabled = false;
                }
            };
            
            recognition.onerror = function(event) {
                console.error('Speech recognition error:', event.error);
                isListening = false;
                showToast('Voice recognition failed. Please try again. ❌', 'error');
            };
            
            recognition.onend = function() {
                isListening = false;
            };
            
            if (voiceSearchBtn) {
                voiceSearchBtn.addEventListener('click', function() {
                    if (isListening) {
                        recognition.stop();
                    } else {
                        recognition.start();
                    }
                });
            }
            
            if (inputMicrophoneBtn) {
                inputMicrophoneBtn.addEventListener('click', function() {
                    if (isListening) {
                        recognition.stop();
                    } else {
                        recognition.start();
                    }
                });
            }
        } else {
            if (voiceSearchBtn) voiceSearchBtn.style.display = 'none';
            if (inputMicrophoneBtn) inputMicrophoneBtn.style.display = 'none';
        }

        // Theme toggle
        if (themeToggle) {
            themeToggle.addEventListener('click', function() {
                const themeIcon = document.querySelector('.theme-toggle i');
                if (isLightMode) {
                    document.body.classList.remove('light-mode');
                    if (themeIcon) themeIcon.className = 'fas fa-sun';
                    localStorage.setItem('legalSwamiTheme', 'dark');
                    isLightMode = false;
                } else {
                    document.body.classList.add('light-mode');
                    if (themeIcon) themeIcon.className = 'fas fa-moon';
                    localStorage.setItem('legalSwamiTheme', 'light');
                    isLightMode = true;
                }
            });
        }
        
        // Sidebar tab switching
        sidebarTabs.forEach(tab => {
            tab.addEventListener('click', function() {
                const tabId = this.dataset.tab;
                sidebarTabs.forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                const tabContent = document.getElementById(`${tabId}-content`);
                if (tabContent) tabContent.classList.add('active');
                if (tabId === 'chat-history') {
                    loadHistoryList();
                }
            });
        });
        
        // New chat button
        if (newChatBtn) newChatBtn.addEventListener('click', createNewChat);
        
        // Clear chat button
        if (clearChatBtn) {
            clearChatBtn.addEventListener('click', function() {
                if (confirm('Are you sure you want to clear the current chat?')) {
                    const chatMessages = document.getElementById('chatMessages');
                    if (chatMessages) chatMessages.innerHTML = '';
                    conversationHistory = [];
                    createNewChat();
                    showToast('Current chat cleared 🗑️', 'success');
                }
            });
        }
        
        // Download chat button
        if (downloadCurrentBtn) {
            downloadCurrentBtn.addEventListener('click', function() {
                if (conversationHistory.length === 0) {
                    showToast('No chat content to download 📄', 'warning');
                    return;
                }
                const downloadModal = document.getElementById('downloadModal');
                if (downloadModal) downloadModal.classList.add('active');
            });
        }
        
        // Suggestions button
        if (suggestionsBtn) {
            suggestionsBtn.addEventListener('click', function() {
                const suggestions = [
                    "Create a non-disclosure agreement draft 📝",
                    "I need an employment contract template 💼",
                    "Generate a rental agreement for me 🏠",
                    "Draft a loan agreement document 💰",
                    "What are the essential elements of a valid contract? ⚖️"
                ];
                addMessageToChat(
                    `<h3>Suggested Questions:</h3>
                    <ul>
                        ${suggestions.map(q => `<li style="cursor: pointer; padding: 6px; border-radius: 6px; transition: background 0.3s;" 
                            onmouseover="this.style.background='var(--dark-surface-light)'" 
                            onmouseout="this.style.background='transparent'"
                            onclick="document.getElementById('userInput').value = '${q}'; document.getElementById('userInput').focus(); document.getElementById('userInput').style.height = Math.min(document.getElementById('userInput').scrollHeight, 180) + 'px'; document.getElementById('sendButton').disabled = false;">
                            ${q}
                        </li>`).join('')}
                    </ul>
                    <p>Click any question to add it to the input field. 👆</p>`,
                    false
                );
            });
        }
        
        // Topic click handlers
        topicItems.forEach(item => {
            item.addEventListener('click', function() {
                const topic = this.dataset.topic;
                const topicName = this.querySelector('span').textContent;
                const questions = {
                    'contract': 'What are the essential elements of a valid contract under Indian law? ⚖️',
                    'employment': 'What are the rights of employees regarding workplace harassment in India? 💼',
                    'intellectual': 'How does copyright protection work for software in India? 🧠',
                    'realestate': 'What documents are required for property registration in India? 🏠',
                    'family': 'What are the grounds for divorce under Hindu Marriage Act? 👨‍👩‍👧',
                    'criminal': 'What is the difference between bailable and non-bailable offenses? ⚖️'
                };
                if (userInput) {
                    userInput.value = questions[topic] || `Tell me about ${topicName.toLowerCase()} in Indian law. ⚖️`;
                    userInput.focus();
                    userInput.style.height = Math.min(userInput.scrollHeight, 180) + 'px';
                }
                if (sendButton) sendButton.disabled = false;
                showToast(`${topicName} topic selected 📂`, 'success');
            });
        });
        
        // Back to home button
        if (backToHomeBtn) {
            backToHomeBtn.addEventListener('click', closeChat);
        }
        
        // Emoji picker button
        if (emojiPickerBtn) {
            emojiPickerBtn.addEventListener('click', function() {
                const userInput = document.getElementById('userInput');
                if (userInput) {
                    const emojis = ['⚖️', '📝', '🔍', '💼', '🏠', '💰', '👨‍👩‍👧', '⚡', '📚', '🔐'];
                    const emoji = emojis[Math.floor(Math.random() * emojis.length)];
                    const cursorPos = userInput.selectionStart;
                    const textBefore = userInput.value.substring(0, cursorPos);
                    const textAfter = userInput.value.substring(cursorPos);
                    userInput.value = textBefore + emoji + textAfter;
                    userInput.focus();
                    userInput.selectionStart = cursorPos + emoji.length;
                    userInput.selectionEnd = cursorPos + emoji.length;
                    userInput.style.height = Math.min(userInput.scrollHeight, 180) + 'px';
                    sendButton.disabled = false;
                }
            });
        }
        
        // Download modal close
        const closeDownloadModal = document.getElementById('closeDownloadModal');
        if (closeDownloadModal) {
            closeDownloadModal.addEventListener('click', function() {
                const downloadModal = document.getElementById('downloadModal');
                if (downloadModal) downloadModal.classList.remove('active');
            });
        }
        
        // Download options
        const downloadOptions = document.querySelectorAll('.download-option');
        downloadOptions.forEach(option => {
            option.addEventListener('click', function() {
                const format = this.dataset.format;
                downloadChat(format);
                const downloadModal = document.getElementById('downloadModal');
                if (downloadModal) downloadModal.classList.remove('active');
            });
        });
        
        // Focus input on load
        setTimeout(() => {
            if (userInput) userInput.focus();
        }, 300);
        
        console.log("✅ Chat app initialized successfully");
        chatInitialized = true;
        
    } catch (error) {
        console.error("❌ Error initializing chat app:", error);
    }
}

function loadThemePreference() {
    const savedTheme = localStorage.getItem('legalSwamiTheme');
    if (savedTheme === 'light') {
        document.body.classList.add('light-mode');
        const themeIcon = document.querySelector('.theme-toggle i');
        if (themeIcon) themeIcon.className = 'fas fa-moon';
        isLightMode = true;
    }
}

// =============================================
// CHAT MESSAGE FUNCTIONS
// =============================================

function loadCurrentChatMessages() {
    const chatMessages = document.getElementById('chatMessages');
    if (!chatMessages) return;
    
    chatMessages.innerHTML = '';
    
    if (conversationHistory.length === 0) {
        const welcomeContainer = document.createElement('div');
        welcomeContainer.innerHTML = WELCOME_MESSAGE_HTML;
        chatMessages.appendChild(welcomeContainer);
        return;
    }
    
    conversationHistory.forEach(msg => {
        addMessageToChat(msg.content, msg.role === 'user', true);
    });
}

function createNewChat() {
    currentChatId = 'chat_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
    conversationHistory = [];
    const chatMessages = document.getElementById('chatMessages');
    if (chatMessages) {
        const welcomeContainer = document.createElement('div');
        welcomeContainer.innerHTML = WELCOME_MESSAGE_HTML;
        chatMessages.innerHTML = '';
        chatMessages.appendChild(welcomeContainer);
    }
    showToast('New chat started 💬', 'success');
}

function addMessageToChat(content, isUser, fromHistory = false) {
    const chatMessages = document.getElementById('chatMessages');
    if (!fromHistory && isUser && chatMessages) {
        const welcomeMessage = document.querySelector('.welcome-message');
        if (welcomeMessage) {
            welcomeMessage.remove();
        }
    }
    const messageDiv = document.createElement('div');
    messageDiv.className = `message ${isUser ? 'user-message' : 'ai-message'}`;
    const messageId = 'msg_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
    messageDiv.id = messageId;
    
    const avatar = document.createElement('div');
    avatar.className = 'avatar';
    if (isUser) {
        avatar.innerHTML = '<i class="fas fa-user"></i>';
    } else {
        avatar.innerHTML = '<i class="fas fa-scale-balanced"></i>';
    }
    
    const messageContent = document.createElement('div');
    messageContent.className = 'message-content';
    
    const messageText = document.createElement('div');
    messageText.className = 'message-text';
    messageText.innerHTML = content.replace(/\n/g, '<br>');
    
    messageContent.appendChild(messageText);
    
    if (!isUser && !fromHistory) {
        const messageActions = document.createElement('div');
        messageActions.className = 'message-actions';
        messageActions.innerHTML = `
            <button class="action-btn copy" onclick="copyMessage(this)" title="Copy response">
                <i class="fas fa-copy"></i> Copy
            </button>
            <button class="action-btn like" onclick="likeMessage(this)" title="Mark as helpful">
                <i class="far fa-thumbs-up"></i> Helpful
            </button>
        `;
        messageContent.appendChild(messageActions);
    }
    
    messageDiv.appendChild(avatar);
    messageDiv.appendChild(messageContent);
    
    if (chatMessages) {
        chatMessages.appendChild(messageDiv);
        // Scroll to bottom
        setTimeout(() => {
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }, 100);
    }
    
    return messageId;
}

function sendMessage() {
    const userInput = document.getElementById('userInput');
    const sendButton = document.getElementById('sendButton');
    
    if (!userInput || !sendButton) return;
    
    const message = userInput.value.trim();
    
    if (!message) {
        showToast('Please enter a message 📝', 'warning');
        return;
    }
    
    if (isListening && recognition) {
        recognition.stop();
    }
    
    const messageId = addMessageToChat(message, true);
    userInput.value = '';
    userInput.style.height = '52px';
    sendButton.disabled = true;
    
    // Add user message to history
    const userMessage = {
        role: 'user',
        content: message,
        timestamp: new Date().toISOString()
    };
    conversationHistory.push(userMessage);
    
    // Show typing indicator
    const typingIndicator = addMessageToChat('Thinking...', false);
    
    // Simulate AI response after delay
    setTimeout(() => {
        // Remove typing indicator
        const typingElement = document.getElementById(typingIndicator);
        if (typingElement) typingElement.remove();
        
        // Generate response
        const aiResponse = generateAIResponse(message);
        const aiMessageId = addMessageToChat(aiResponse, false);
        
        // Add AI message to history
        const aiMessage = {
            role: 'assistant',
            content: aiResponse,
            timestamp: new Date().toISOString()
        };
        conversationHistory.push(aiMessage);
        
        // Save chat
        saveCurrentChat();
        
    }, 1000 + Math.random() * 1000);
}

function generateAIResponse(message) {
    const responses = [
        "Based on Indian law, I can provide you with the following information: \n\n**Key Points:**\n1. Always consult a qualified lawyer for specific legal advice\n2. Documents should be reviewed by a legal professional\n3. Laws vary by state and specific circumstances\n\n**Disclaimer:** This is AI-generated information, not legal advice. ⚖️",
        
        "I understand you're asking about legal matters. Here's some general guidance:\n\n• Maintain proper documentation\n• Understand relevant statutes\n• Consider jurisdiction aspects\n• Be aware of limitation periods\n\n**Note:** For personalized advice, please consult a licensed attorney. 👨‍⚖️",
        
        "Thank you for your legal query. I can help you understand:\n\n✓ Basic legal concepts\n✓ Document requirements\n✓ General procedures\n✓ Common legal terms\n\n**Important:** I'm an AI assistant, not a substitute for professional legal counsel. 📚"
    ];
    
    if (message.toLowerCase().includes('contract') || message.toLowerCase().includes('agreement')) {
        return `**Contract Law Information**\n\nEssential elements of a valid contract in India:\n1. Offer and acceptance\n2. Intention to create legal relations\n3. Lawful consideration\n4. Capacity of parties\n5. Free consent\n6. Lawful object\n7. Certainty and possibility of performance\n\n**Sample Clause:**\n"The parties hereby agree to the terms outlined herein, which shall be governed by Indian law."\n\n⚠️ *Consult a lawyer for contract drafting.*`;
    }
    
    if (message.toLowerCase().includes('rental') || message.toLowerCase().includes('lease')) {
        return `**Rental Agreement Guide**\n\nKey components for a rental agreement in India:\n• Parties' details\n• Property description\n• Rent amount and due date\n• Security deposit\n• Duration and termination clauses\n• Maintenance responsibilities\n• Utilities and charges\n\n**Important:** Stamp duty varies by state. Get agreement registered if term exceeds 11 months. 🏠`;
    }
    
    return responses[Math.floor(Math.random() * responses.length)];
}

function saveCurrentChat() {
    if (!currentChatId || conversationHistory.length === 0) return;
    
    let title = 'New Chat';
    let preview = 'No messages yet';
    
    if (conversationHistory.length > 0) {
        const firstUserMessage = conversationHistory.find(msg => msg.role === 'user');
        if (firstUserMessage) {
            title = firstUserMessage.content.substring(0, 30);
            if (firstUserMessage.content.length > 30) {
                title += '...';
            }
        }
        const lastMessage = conversationHistory[conversationHistory.length - 1];
        if (lastMessage) {
            preview = lastMessage.content.substring(0, 50);
            if (lastMessage.content.length > 50) {
                preview += '...';
            }
        }
    }
    
    const chatData = {
        id: currentChatId,
        title: title,
        preview: preview,
        date: new Date().toISOString(),
        messages: [...conversationHistory],
        userId: currentUser ? currentUser.id : 'guest'
    };
    
    const chatIndex = chatHistory.findIndex(chat => chat.id === currentChatId);
    if (chatIndex !== -1) {
        chatHistory[chatIndex] = chatData;
    } else {
        chatHistory.unshift(chatData);
    }
    
    saveUserChatHistory();
}

function loadHistoryList() {
    const historyList = document.getElementById('historyList');
    if (!historyList) return;
    
    if (chatHistory.length === 0) {
        historyList.innerHTML = `
            <div class="empty-history">
                <i class="fas fa-comments"></i>
                <p>No chat history yet</p>
                <p style="font-size: 0.75rem; margin-top: 0.4rem;">Start a conversation to see it here</p>
            </div>
        `;
        return;
    }
    
    let html = '';
    chatHistory.forEach(chat => {
        const isActive = chat.id === currentChatId;
        const date = new Date(chat.date);
        const formattedDate = date.toLocaleDateString() + ' ' + date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        html += `
            <div class="history-item ${isActive ? 'active' : ''}" data-chat-id="${chat.id}">
                <div class="history-title">${chat.title}</div>
                <div class="history-preview">${chat.preview}</div>
                <div class="history-date">${formattedDate}</div>
            </div>
        `;
    });
    
    historyList.innerHTML = html;
    
    document.querySelectorAll('.history-item').forEach(item => {
        item.addEventListener('click', function() {
            const chatId = this.dataset.chatId;
            loadChatFromHistory(chatId);
        });
    });
}

function loadChatFromHistory(chatId) {
    const chat = chatHistory.find(c => c.id === chatId);
    if (!chat) return;
    
    currentChatId = chatId;
    conversationHistory = [...chat.messages];
    
    const chatMessages = document.getElementById('chatMessages');
    if (chatMessages) {
        chatMessages.innerHTML = '';
        chat.messages.forEach(msg => {
            addMessageToChat(msg.content, msg.role === 'user', true);
        });
    }
    
    loadHistoryList();
    showToast('Chat loaded from history 📚', 'success');
}

function downloadChat(format) {
    let content = `LegalSwami Chat History\n`;
    content += `Date: ${new Date().toLocaleString()}\n\n`;
    content += '='.repeat(50) + '\n\n';
    
    conversationHistory.forEach((msg, index) => {
        const role = msg.role === 'user' ? 'You' : 'LegalSwami';
        const time = msg.timestamp ? new Date(msg.timestamp).toLocaleTimeString() : new Date().toLocaleTimeString();
        content += `${role} (${time}):\n`;
        content += msg.content.replace(/<br>/g, '\n').replace(/<\/?[^>]+(>|$)/g, '') + '\n\n';
        content += '-'.repeat(30) + '\n\n';
    });
    
    const fileName = `legalswami-chat-${formatDateForFilename(new Date())}`;
    
    if (format === 'txt') {
        downloadAsTXT(content, fileName);
    } else if (format === 'pdf') {
        try {
            downloadAsPDF(content, fileName);
        } catch (error) {
            console.error('PDF error:', error);
            downloadAsTXT(content, fileName);
        }
    } else if (format === 'doc') {
        downloadAsDOC(content, fileName);
    }
}

function downloadAsTXT(content, filename) {
    const blob = new Blob([content], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `${filename}.txt`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    showToast('Text file downloaded 📥', 'success');
}

function downloadAsPDF(content, filename) {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();
    const lines = doc.splitTextToSize(content, 180);
    doc.setFontSize(12);
    doc.text(lines, 10, 20);
    doc.setFontSize(10);
    doc.text('Generated by LegalSwami AI Assistant ⚖️', 10, 280);
    doc.save(`${filename}.pdf`);
    showToast('PDF downloaded 📥', 'success');
}

function downloadAsDOC(content, filename) {
    const htmlContent = `
        <!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>${filename}</title>
        </head>
        <body>
            <h1>LegalSwami Chat Export</h1>
            <p>Generated on: ${new Date().toLocaleString()}</p>
            <hr>
            <pre>${content}</pre>
        </body>
        </html>
    `;
    const blob = new Blob([htmlContent], { type: 'application/msword' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `${filename}.doc`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    showToast('Word document downloaded 📥', 'success');
}

function formatDateForFilename(date) {
    return date.toISOString()
        .replace(/[:\-]/g, '')
        .replace('T', '_')
        .split('.')[0];
}

// Global functions for message actions
window.copyMessage = function(button) {
    const messageText = button.closest('.message-content').querySelector('.message-text');
    let textToCopy = messageText.textContent;
    navigator.clipboard.writeText(textToCopy).then(() => {
        showToast('Response copied to clipboard! 📋', 'success');
    });
};

window.likeMessage = function(button) {
    button.innerHTML = '<i class="fas fa-thumbs-up"></i> Thank you!';
    button.style.background = 'var(--success)';
    button.style.color = 'white';
    button.disabled = true;
    showToast('Thank you for your feedback! 👍', 'success');
};

// =============================================
// TOAST NOTIFICATION
// =============================================

function showToast(message, type = 'success') {
    const toast = document.getElementById('toast');
    const toastMessage = document.getElementById('toast-message');
    if (toast && toastMessage) {
        toastMessage.textContent = message;
        toast.className = `toast ${type} show`;
        setTimeout(() => {
            toast.classList.remove('show');
        }, 3000);
    }
}

// =============================================
// EVENT LISTENERS SETUP
// =============================================

document.addEventListener('DOMContentLoaded', function() {
    console.log('🚀 LegalSwami AI Legal Assistant Initialized');
    
    // Start chat buttons
    const startChatBtn = document.getElementById('startChatBtn');
    if (startChatBtn) {
        startChatBtn.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            openChat();
        });
    }

    const ctaStartChat = document.getElementById('ctaStartChat');
    if (ctaStartChat) {
        ctaStartChat.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            openChat();
        });
    }

    const mobileStartChat = document.getElementById('mobileStartChat');
    if (mobileStartChat) {
        mobileStartChat.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            openChat();
            const mobileMenu = document.getElementById('mobileMenu');
            if (mobileMenu) mobileMenu.style.display = 'none';
        });
    }

    // Hero assistant button
    const heroAssistantBtn = document.getElementById('heroAssistantBtn');
    if (heroAssistantBtn) {
        heroAssistantBtn.addEventListener('click', openChat);
    }

    // Mobile menu toggle
    const mobileToggle = document.getElementById('mobileToggle');
    const mobileMenu = document.getElementById('mobileMenu');
    const mobileClose = document.getElementById('mobileClose');
    
    if (mobileToggle && mobileMenu) {
        mobileToggle.addEventListener('click', function() {
            mobileMenu.style.display = 'block';
        });
    }
    
    if (mobileClose && mobileMenu) {
        mobileClose.addEventListener('click', function() {
            mobileMenu.style.display = 'none';
        });
    }

    // Document generation buttons
    document.querySelectorAll('.btn-generate').forEach(button => {
        button.addEventListener('click', function() {
            openChat();
        });
    });

    // Database search buttons
    document.querySelectorAll('.btn-database').forEach(button => {
        button.addEventListener('click', function() {
            openChat();
        });
    });

    // Guide view buttons
    document.querySelectorAll('.btn-guide').forEach(button => {
        button.addEventListener('click', function() {
            openChat();
        });
    });

    // Initialize app for guest
    setTimeout(() => {
        initializeAppForGuest();
        
        // Hide loading screen
        const loadingScreen = document.getElementById('loadingScreen');
        if (loadingScreen) {
            setTimeout(() => {
                loadingScreen.style.display = 'none';
            }, 1000);
        }
    }, 500);

    // Back to top button
    const backToTopBtn = document.getElementById('backToTop');
    if (backToTopBtn) {
        backToTopBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
        
        window.addEventListener('scroll', function() {
            if (window.pageYOffset > 300) {
                backToTopBtn.style.display = 'flex';
            } else {
                backToTopBtn.style.display = 'none';
            }
        });
    }

    // Smooth scrolling for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            if (this.getAttribute('href') === '#') return;
            
            e.preventDefault();
            const targetId = this.getAttribute('href');
            const targetElement = document.querySelector(targetId);
            
            if (targetElement) {
                window.scrollTo({
                    top: targetElement.offsetTop - 80,
                    behavior: 'smooth'
                });
                
                // Close mobile menu if open
                const mobileMenu = document.getElementById('mobileMenu');
                if (mobileMenu && mobileMenu.style.display === 'block') {
                    mobileMenu.style.display = 'none';
                }
            }
        });
    });

    // Handle escape key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            // Close chat if open
            if (document.body.classList.contains('chat-active')) {
                closeChat();
            }
            
            // Close mobile menu
            const mobileMenu = document.getElementById('mobileMenu');
            if (mobileMenu && mobileMenu.style.display === 'block') {
                mobileMenu.style.display = 'none';
            }
        }
    });

    console.log('✅ App ready to use');
});
    </script>
</body>
</html>
