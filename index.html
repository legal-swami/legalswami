<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LegalSwami | AI-Powered Legal Assistant & Document Generator</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- jsPDF Library for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" crossorigin="anonymous"></script>
    
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            background: #0f172a;
            color: #f8fafc;
            line-height: 1.6;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0f172a;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.3s ease;
        }

        .loading-content {
            text-align: center;
            max-width: 400px;
            padding: 2rem;
        }

        .loading-spinner {
            width: 80px;
            height: 80px;
            margin: 0 auto;
            border-radius: 50%;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            display: flex;
            align-items: center;
            justify-content: center;
            animation: pulse 2s infinite;
        }

        .loading-spinner i {
            font-size: 2rem;
            color: white;
        }

        .shimmer-text {
            background: linear-gradient(90deg, #60a5fa, #8b5cf6, #60a5fa);
            background-size: 200% 100%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: shimmer 3s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #1e293b;
            border-radius: 3px;
            overflow: hidden;
            margin-top: 1rem;
        }

        .progress-fill {
            width: 0;
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            animation: progress 1.5s ease-in-out forwards;
        }

        @keyframes progress {
            to { width: 100%; }
        }

        /* Main Container */
        .main-container {
            min-height: 100vh;
            position: relative;
        }

        /* Premium Navigation */
        .premium-navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 1000;
            padding: 0.75rem 0;
            transition: all 0.3s ease;
        }

        .premium-navbar.scrolled {
            background: rgba(15, 23, 42, 0.98);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .nav-logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-icon i {
            font-size: 1.25rem;
            color: white;
            animation: gavelSwing 3s infinite ease-in-out;
        }

        @keyframes gavelSwing {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-5deg); }
            75% { transform: rotate(5deg); }
        }

        .logo-text h1 {
            font-size: 1.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, #60a5fa, #a78bfa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo-subtitle {
            font-size: 0.75rem;
            color: #94a3b8;
            letter-spacing: 1px;
        }

        .nav-menu {
            display: flex;
            gap: 1.5rem;
            align-items: center;
        }

        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }
        }

        .nav-link {
            color: #cbd5e1;
            text-decoration: none;
            font-weight: 500;
            font-size: 0.875rem;
            padding: 0.5rem 0.75rem;
            border-radius: 8px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-link:hover,
        .nav-link.active {
            color: #60a5fa;
            background: rgba(59, 130, 246, 0.1);
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .btn-login {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
            border: none;
            padding: 0.625rem 1.25rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
        }

        .btn-login:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.05);
        }

        .profile-avatar {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 0.875rem;
        }

        .profile-info {
            display: flex;
            flex-direction: column;
        }

        .profile-name {
            font-weight: 600;
            font-size: 0.875rem;
        }

        .profile-email {
            font-size: 0.75rem;
            color: #94a3b8;
        }

        .btn-logout {
            background: transparent;
            border: none;
            color: #94a3b8;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .btn-logout:hover {
            color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        .mobile-toggle {
            display: none;
            background: transparent;
            border: none;
            color: #cbd5e1;
            font-size: 1.25rem;
            cursor: pointer;
            padding: 0.5rem;
        }

        @media (max-width: 768px) {
            .mobile-toggle {
                display: block;
            }
        }

        /* Mobile Menu */
        .mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 2000;
            display: none;
        }

        .mobile-menu-container {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            width: 300px;
            background: #0f172a;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            overflow-y: auto;
        }

        .mobile-menu-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 2rem;
        }

        .mobile-close {
            background: transparent;
            border: none;
            color: #cbd5e1;
            font-size: 1.25rem;
            cursor: pointer;
            padding: 0.5rem;
        }

        .mobile-menu-links {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .mobile-link {
            color: #cbd5e1;
            text-decoration: none;
            padding: 0.875rem 1rem;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            transition: all 0.3s ease;
        }

        .mobile-link:hover,
        .mobile-link.active {
            color: #60a5fa;
            background: rgba(59, 130, 246, 0.1);
        }

        .mobile-link i {
            width: 20px;
            text-align: center;
        }

        /* Hero Section */
        .hero-section {
            min-height: 100vh;
            padding: 120px 1.5rem 60px;
            position: relative;
            overflow: hidden;
        }

        .hero-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        @media (max-width: 1024px) {
            .hero-container {
                grid-template-columns: 1fr;
                text-align: center;
            }
        }

        .hero-bg-elements {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: -1;
        }

        .floating-element {
            position: absolute;
            font-size: 2rem;
            color: rgba(59, 130, 246, 0.1);
        }

        .floating-icon-1 { top: 20%; left: 5%; animation: float 6s ease-in-out infinite; }
        .floating-icon-2 { top: 60%; right: 10%; animation: float 8s ease-in-out infinite 1s; }
        .floating-icon-3 { bottom: 20%; left: 15%; animation: float 7s ease-in-out infinite 0.5s; }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        .hero-badge {
            display: inline-block;
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 20px;
            padding: 0.5rem 1rem;
            margin-bottom: 1.5rem;
        }

        .badge-text {
            font-size: 0.75rem;
            font-weight: 600;
            color: #60a5fa;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .hero-title {
            font-size: 3.5rem;
            font-weight: 800;
            line-height: 1.2;
            margin-bottom: 1.5rem;
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
        }

        .hero-subtitle {
            font-size: 1.125rem;
            color: #94a3b8;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .hero-stats {
            display: flex;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        @media (max-width: 768px) {
            .hero-stats {
                flex-direction: column;
                gap: 1rem;
            }
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .stat-label {
            font-size: 0.875rem;
            color: #94a3b8;
        }

        .hero-actions {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        @media (max-width: 768px) {
            .hero-actions {
                flex-direction: column;
            }
        }

        .btn-hero-primary,
        .btn-hero-secondary {
            padding: 1rem 2rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            min-width: 200px;
        }

        @media (max-width: 768px) {
            .btn-hero-primary,
            .btn-hero-secondary {
                width: 100%;
            }
        }

        .btn-hero-primary {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
            position: relative;
            overflow: hidden;
        }

        .btn-hero-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.4);
        }

        .btn-sparkle {
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent 30%,
                rgba(255, 255, 255, 0.1) 50%,
                transparent 70%
            );
            animation: sparkle 3s infinite linear;
        }

        @keyframes sparkle {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .btn-hero-secondary {
            background: transparent;
            color: #60a5fa;
            border: 2px solid rgba(59, 130, 246, 0.3);
        }

        .btn-hero-secondary:hover {
            background: rgba(59, 130, 246, 0.1);
            border-color: #3b82f6;
        }

        .hero-trust {
            margin-top: 2rem;
        }

        .trust-label {
            font-size: 0.875rem;
            color: #94a3b8;
            margin-bottom: 1rem;
        }

        .trust-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .trust-badge {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            font-size: 0.875rem;
        }

        .trust-badge i {
            color: #60a5fa;
        }

        /* Hero Illustration */
        .hero-illustration {
            position: relative;
        }

        .ai-assistant-card {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            backdrop-filter: blur(10px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: pulse-glow 2s infinite alternate;
        }

        @keyframes pulse-glow {
            from { box-shadow: 0 20px 60px rgba(59, 130, 246, 0.2); }
            to { box-shadow: 0 20px 80px rgba(59, 130, 246, 0.4); }
        }

        .assistant-avatar {
            width: 80px;
            height: 80px;
            margin: 0 auto 1rem;
            border-radius: 50%;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .assistant-avatar i {
            font-size: 2rem;
            color: white;
        }

        .assistant-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .assistant-subtitle {
            color: #94a3b8;
            margin-bottom: 1.5rem;
        }

        .assistant-features {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin-bottom: 2rem;
        }

        .feature {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: #cbd5e1;
        }

        .feature i {
            color: #10b981;
        }

        .btn-assistant {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
        }

        .btn-assistant:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }

        /* Scroll Indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            animation: bounce 2s infinite;
        }

        .mouse {
            width: 30px;
            height: 50px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            position: relative;
        }

        .wheel {
            width: 4px;
            height: 8px;
            background: #60a5fa;
            border-radius: 2px;
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            animation: scroll 2s infinite;
        }

        @keyframes scroll {
            0% { opacity: 1; transform: translateX(-50%) translateY(0); }
            100% { opacity: 0; transform: translateX(-50%) translateY(20px); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(-10px); }
        }

        .arrow i {
            color: #60a5fa;
            font-size: 1.25rem;
        }

        /* Section Styles */
        .features-section,
        .database-section,
        .documents-section,
        .lawyer-section,
        .guides-section,
        .testimonials-section,
        .pricing-section,
        .cta-section {
            padding: 6rem 1.5rem;
        }

        @media (max-width: 768px) {
            .features-section,
            .database-section,
            .documents-section,
            .lawyer-section,
            .guides-section,
            .testimonials-section,
            .pricing-section,
            .cta-section {
                padding: 4rem 1rem;
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }

        @media (max-width: 768px) {
            .section-title {
                font-size: 2rem;
            }
        }

        .section-subtitle {
            font-size: 1.125rem;
            color: #94a3b8;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Premium Cards */
        .premium-card {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 2rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .premium-card:hover {
            transform: translateY(-5px);
            border-color: rgba(59, 130, 246, 0.5);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        /* Features Grid */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .feature-card {
            text-align: center;
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            margin: 0 auto 1.5rem;
            border-radius: 12px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .feature-icon i {
            font-size: 1.5rem;
            color: white;
        }

        .feature-title {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .feature-description {
            color: #94a3b8;
            margin-bottom: 1.5rem;
        }

        .feature-tags {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .tag {
            background: rgba(59, 130, 246, 0.1);
            color: #60a5fa;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        /* Database Grid */
        .database-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .database-icon {
            width: 60px;
            height: 60px;
            margin-bottom: 1.5rem;
            border-radius: 12px;
            background: rgba(59, 130, 246, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .database-icon i {
            font-size: 1.5rem;
            color: #60a5fa;
        }

        .database-title {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .database-list {
            list-style: none;
            margin-bottom: 2rem;
        }

        .database-list li {
            padding: 0.5rem 0;
            color: #94a3b8;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .database-list i {
            color: #60a5fa;
        }

        .btn-database,
        .btn-generate,
        .btn-guide {
            width: 100%;
            padding: 0.875rem;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-database:hover,
        .btn-generate:hover,
        .btn-guide:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3);
        }

        /* Documents Grid */
        .documents-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .category-icon {
            width: 60px;
            height: 60px;
            margin-bottom: 1.5rem;
            border-radius: 12px;
            background: rgba(139, 92, 246, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .category-icon i {
            font-size: 1.5rem;
            color: #8b5cf6;
        }

        .category-title {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .document-list {
            list-style: none;
            margin-bottom: 2rem;
        }

        .document-list li {
            padding: 0.5rem 0;
            color: #94a3b8;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .document-list i {
            color: #10b981;
        }

        /* Lawyer Section */
        .lawyer-search {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 3rem;
        }

        .search-container {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        @media (max-width: 768px) {
            .search-container {
                flex-direction: column;
            }
        }

        .search-container input {
            flex: 1;
            padding: 1rem 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: white;
            font-size: 1rem;
        }

        .search-container input:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .search-container i {
            position: absolute;
            left: 1.5rem;
            top: 50%;
            transform: translateY(-50%);
            color: #94a3b8;
        }

        .btn-search {
            padding: 1rem 2rem;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            white-space: nowrap;
        }

        .btn-search:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3);
        }

        .specialization-filters {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            color: #94a3b8;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.875rem;
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: rgba(59, 130, 246, 0.1);
            color: #60a5fa;
            border-color: #3b82f6;
        }

        .lawyers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }

        .lawyer-card {
            text-align: center;
        }

        .lawyer-avatar {
            width: 80px;
            height: 80px;
            margin: 0 auto 1.5rem;
            border-radius: 50%;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lawyer-avatar i {
            font-size: 2rem;
            color: white;
        }

        .lawyer-name {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .lawyer-specialization {
            color: #60a5fa;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .lawyer-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .detail {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #94a3b8;
            font-size: 0.875rem;
        }

        .detail i {
            color: #60a5fa;
        }

        .btn-contact {
            width: 100%;
            padding: 0.875rem;
            background: rgba(59, 130, 246, 0.1);
            color: #60a5fa;
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-contact:hover {
            background: rgba(59, 130, 246, 0.2);
            border-color: #3b82f6;
            transform: translateY(-2px);
        }

        /* Guides Grid */
        .guides-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .guide-icon {
            width: 60px;
            height: 60px;
            margin-bottom: 1.5rem;
            border-radius: 12px;
            background: rgba(34, 197, 94, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .guide-icon i {
            font-size: 1.5rem;
            color: #22c55e;
        }

        .guide-title {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .guide-description {
            color: #94a3b8;
            margin-bottom: 1.5rem;
        }

        .guide-steps {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-bottom: 2rem;
        }

        .step {
            padding: 0.5rem 0.75rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            font-size: 0.875rem;
            color: #cbd5e1;
        }

        /* Testimonials */
        .testimonials-carousel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .testimonial-rating {
            color: #fbbf24;
            margin-bottom: 1rem;
            display: flex;
            gap: 0.25rem;
        }

        .testimonial-text {
            color: #94a3b8;
            margin-bottom: 1.5rem;
            font-style: italic;
            line-height: 1.6;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .author-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            overflow: hidden;
        }

        .author-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .author-info {
            flex: 1;
        }

        .author-name {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .author-title {
            font-size: 0.875rem;
            color: #94a3b8;
        }

        /* Pricing Section */
        .pricing-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .pricing-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            background: rgba(59, 130, 246, 0.1);
            color: #60a5fa;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .pricing-badge.popular {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
        }

        .pricing-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .pricing-price {
            display: flex;
            align-items: baseline;
            gap: 0.25rem;
            margin-bottom: 1rem;
        }

        .currency {
            font-size: 1.5rem;
            font-weight: 600;
            color: #60a5fa;
        }

        .amount {
            font-size: 3rem;
            font-weight: 800;
            color: white;
        }

        .period {
            font-size: 1rem;
            color: #94a3b8;
        }

        .pricing-description {
            color: #94a3b8;
            margin-bottom: 2rem;
        }

        .pricing-features {
            list-style: none;
            margin-bottom: 2rem;
        }

        .pricing-features li {
            padding: 0.5rem 0;
            color: #94a3b8;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .pricing-features i {
            color: #10b981;
        }

        .pricing-features i.fa-times-circle {
            color: #ef4444;
        }

        .btn-pricing {
            width: 100%;
            padding: 1rem;
            background: rgba(59, 130, 246, 0.1);
            color: #60a5fa;
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-pricing:hover {
            background: rgba(59, 130, 246, 0.2);
            border-color: #3b82f6;
            transform: translateY(-2px);
        }

        .premium-plan {
            border: 2px solid #3b82f6;
            transform: scale(1.05);
        }

        @media (max-width: 768px) {
            .premium-plan {
                transform: scale(1);
            }
        }

        .btn-premium {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6) !important;
            color: white !important;
            border: none !important;
        }

        /* CTA Section */
        .cta-section {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            text-align: center;
        }

        .cta-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
        }

        @media (max-width: 768px) {
            .cta-title {
                font-size: 2rem;
            }
        }

        .cta-description {
            font-size: 1.125rem;
            color: #94a3b8;
            max-width: 600px;
            margin: 0 auto 2rem;
        }

        .cta-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 3rem;
        }

        @media (max-width: 768px) {
            .cta-actions {
                flex-direction: column;
            }
        }

        .btn-cta-primary,
        .btn-cta-secondary {
            padding: 1rem 2rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            min-width: 200px;
        }

        @media (max-width: 768px) {
            .btn-cta-primary,
            .btn-cta-secondary {
                width: 100%;
            }
        }

        .btn-cta-primary {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
        }

        .btn-cta-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.4);
        }

        .btn-cta-secondary {
            background: transparent;
            color: #60a5fa;
            border: 2px solid rgba(59, 130, 246, 0.3);
        }

        .btn-cta-secondary:hover {
            background: rgba(59, 130, 246, 0.1);
            border-color: #3b82f6;
        }

        .cta-guarantee {
            display: flex;
            gap: 2rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .guarantee-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: #cbd5e1;
        }

        .guarantee-item i {
            color: #60a5fa;
        }

        /* Footer */
        .premium-footer {
            background: #0a1120;
            padding: 4rem 1.5rem 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
            margin-bottom: 3rem;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .footer-description {
            color: #94a3b8;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .social-links {
            display: flex;
            gap: 1rem;
        }

        .social-link {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #cbd5e1;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .social-link:hover {
            background: rgba(59, 130, 246, 0.1);
            color: #60a5fa;
            transform: translateY(-2px);
        }

        .footer-heading {
            font-size: 1.125rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: white;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 0.75rem;
        }

        .footer-links a {
            color: #94a3b8;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .footer-links a:hover {
            color: #60a5fa;
            padding-left: 5px;
        }

        .footer-contact {
            list-style: none;
        }

        .footer-contact li {
            margin-bottom: 1rem;
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            color: #94a3b8;
        }

        .footer-contact i {
            color: #60a5fa;
            margin-top: 0.25rem;
        }

        .footer-contact a {
            color: #94a3b8;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .footer-contact a:hover {
            color: #60a5fa;
        }

        .footer-bottom {
            max-width: 1200px;
            margin: 0 auto;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }

        .copyright {
            color: #94a3b8;
            margin-bottom: 1rem;
        }

        .disclaimer {
            color: #fbbf24;
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .disclaimer i {
            color: #f59e0b;
        }

        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: translateY(20px);
            z-index: 999;
        }

        .back-to-top.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .back-to-top:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.4);
        }

        /* Toast Notifications */
        .toast-container {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .toast {
            padding: 1rem 1.5rem;
            background: #1e293b;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            animation: slideIn 0.3s ease;
            max-width: 350px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .toast i {
            font-size: 1.25rem;
        }

        .toast-success i { color: #10b981; }
        .toast-error i { color: #ef4444; }
        .toast-warning i { color: #f59e0b; }
        .toast-info i { color: #60a5fa; }

        .toast span {
            flex: 1;
            font-size: 0.875rem;
        }

        /* Modal Styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 1rem;
        }

        .modal.open {
            display: flex;
        }

        .modal-content {
            background: #1e293b;
            border-radius: 20px;
            padding: 2rem;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .modal-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .modal-icon {
            width: 60px;
            height: 60px;
            margin: 0 auto 1rem;
            border-radius: 12px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-icon i {
            font-size: 1.5rem;
            color: white;
        }

        .modal-header h3 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .modal-header p {
            color: #94a3b8;
        }

        .modal-body {
            margin-bottom: 2rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #cbd5e1;
            font-weight: 500;
        }

        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 0.875rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: white;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: #3b82f6;
            background: rgba(59, 130, 246, 0.05);
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }

        .btn-generate-final {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-generate-final:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3);
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: transparent;
            border: none;
            color: #94a3b8;
            font-size: 1.25rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        /* Legal Seal Animation */
        .legal-seal {
            position: relative;
        }

        .legal-seal::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #3b82f6, #8b5cf6, #3b82f6);
            border-radius: inherit;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .legal-seal:hover::before {
            opacity: 1;
        }

        /* Chat Interface Styles */
        .chat-interface {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #0f172a;
            z-index: 9998;
            display: none;
            flex-direction: column;
        }

        .chat-interface.active {
            display: flex;
        }

        .chat-header {
            background: #1e293b;
            padding: 1rem 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #334155;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .chat-header-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .chat-back-btn {
            background: transparent;
            border: none;
            color: #94a3b8;
            font-size: 1.25rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .chat-back-btn:hover {
            background: rgba(59, 130, 246, 0.1);
            color: #60a5fa;
        }

        .chat-title {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .chat-avatar {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chat-avatar i {
            font-size: 1.25rem;
            color: white;
        }

        .chat-title-text h3 {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .chat-title-text p {
            font-size: 0.75rem;
            color: #94a3b8;
        }

        .chat-header-actions {
            display: flex;
            gap: 0.5rem;
        }

        .chat-action-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #94a3b8;
            cursor: pointer;
            padding: 0.5rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chat-action-btn:hover {
            background: rgba(59, 130, 246, 0.1);
            color: #60a5fa;
        }

        .chat-main {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        .chat-welcome {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            text-align: center;
        }

        .chat-welcome-icon {
            width: 80px;
            height: 80px;
            margin-bottom: 2rem;
            border-radius: 16px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chat-welcome-icon i {
            font-size: 2rem;
            color: white;
        }

        .chat-welcome h2 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #60a5fa, #a78bfa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .chat-welcome p {
            color: #94a3b8;
            max-width: 500px;
            margin: 0 auto 2rem;
            line-height: 1.6;
        }

        .quick-questions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            max-width: 600px;
            margin-top: 2rem;
        }

        .quick-btn {
            padding: 1rem;
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: #cbd5e1;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .quick-btn:hover {
            background: rgba(59, 130, 246, 0.1);
            border-color: rgba(59, 130, 246, 0.3);
            transform: translateY(-2px);
        }

        .quick-btn i {
            margin-right: 0.5rem;
            color: #60a5fa;
        }

        .chat-messages-container {
            flex: 1;
            display: none;
            flex-direction: column;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .message {
            display: flex;
            gap: 1rem;
            max-width: 85%;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .user-message {
            align-self: flex-end;
            flex-direction: row-reverse;
        }

        .ai-message {
            align-self: flex-start;
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            margin-top: 0.25rem;
        }

        .user-message .message-avatar {
            background: linear-gradient(135deg, #10b981, #34d399);
        }

        .message-avatar i {
            font-size: 0.875rem;
            color: white;
        }

        .message-content {
            flex: 1;
        }

        .message-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.5rem;
        }

        .message-sender {
            font-weight: 600;
            font-size: 0.875rem;
        }

        .message-time {
            font-size: 0.75rem;
            color: #94a3b8;
        }

        .message-text {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1rem;
            line-height: 1.6;
        }

        .user-message .message-text {
            background: linear-gradient(135deg, #1d4ed8, #3b82f6);
            border-color: rgba(59, 130, 246, 0.3);
        }

        .message-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.5rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .message:hover .message-actions {
            opacity: 1;
        }

        .message-action-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            color: #94a3b8;
            cursor: pointer;
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
            transition: all 0.3s ease;
        }

        .message-action-btn:hover {
            background: rgba(59, 130, 246, 0.1);
            color: #60a5fa;
        }

        .typing-indicator {
            display: none;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem;
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            max-width: 120px;
            margin-left: 3rem;
            margin-top: 0.5rem;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: #60a5fa;
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typing {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }

        .chat-input-container {
            padding: 1rem;
            background: #1e293b;
            border-top: 1px solid #334155;
            position: sticky;
            bottom: 0;
            z-index: 10;
        }

        .chat-input-area {
            max-width: 800px;
            margin: 0 auto;
        }

        .chat-input-wrapper {
            display: flex;
            gap: 0.75rem;
            align-items: flex-end;
        }

        .chat-input-wrapper textarea {
            flex: 1;
            padding: 0.875rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: white;
            font-size: 0.9375rem;
            resize: none;
            min-height: 56px;
            max-height: 150px;
            transition: all 0.3s ease;
            line-height: 1.5;
            font-family: inherit;
            outline: none;
        }

        .chat-input-wrapper textarea:focus {
            border-color: #3b82f6;
            background: rgba(59, 130, 246, 0.05);
        }

        .input-actions {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .input-action-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #94a3b8;
            cursor: pointer;
            padding: 0.5rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .input-action-btn:hover {
            background: rgba(59, 130, 246, 0.1);
            color: #60a5fa;
        }

        .send-button {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-left: auto;
        }

        .send-button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3);
        }

        .send-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .chat-options {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .chat-option {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            color: #94a3b8;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .chat-option:hover {
            background: rgba(59, 130, 246, 0.1);
            color: #60a5fa;
            border-color: rgba(59, 130, 246, 0.3);
        }

        .chat-option input[type="checkbox"] {
            accent-color: #3b82f6;
        }

        .chat-option select {
            background: transparent;
            border: none;
            color: #cbd5e1;
            outline: none;
            cursor: pointer;
        }

        .chat-option select option {
            background: #1e293b;
            color: white;
        }

        /* Login Modal */
        .login-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 3000;
            padding: 1rem;
        }

        .login-modal.open {
            display: flex;
        }

        .login-content {
            background: #1e293b;
            border-radius: 20px;
            padding: 2rem;
            max-width: 400px;
            width: 100%;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .login-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .login-icon {
            width: 60px;
            height: 60px;
            margin: 0 auto 1rem;
            border-radius: 12px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .login-icon i {
            font-size: 1.5rem;
            color: white;
        }

        .login-header h3 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .login-header p {
            color: #94a3b8;
        }

        .login-buttons {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .btn-login-google {
            background: white;
            color: #333;
            border: none;
            border-radius: 8px;
            padding: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
        }

        .btn-login-google:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 255, 255, 0.2);
        }

        .btn-login-demo {
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
        }

        .btn-login-demo:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3);
        }

        .login-divider {
            display: flex;
            align-items: center;
            margin: 1.5rem 0;
            color: #94a3b8;
        }

        .login-divider::before,
        .login-divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: rgba(255, 255, 255, 0.1);
        }

        .login-divider span {
            padding: 0 1rem;
            font-size: 0.875rem;
        }

        .login-footer {
            text-align: center;
            margin-top: 1.5rem;
            color: #94a3b8;
            font-size: 0.875rem;
        }

        .login-footer a {
            color: #60a5fa;
            text-decoration: none;
        }

        .login-footer a:hover {
            text-decoration: underline;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #1e293b;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: #3b82f6;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #1d4ed8;
        }

        /* Additional Responsive Styles */
        @media (max-width: 768px) {
            .chat-header {
                padding: 0.75rem 1rem;
            }
            
            .chat-title-text h3 {
                font-size: 1rem;
            }
            
            .chat-messages {
                padding: 1rem;
                gap: 1rem;
            }
            
            .message {
                max-width: 95%;
            }
            
            .chat-input-wrapper {
                flex-direction: column;
            }
            
            .input-actions {
                order: -1;
                justify-content: center;
            }
            
            .send-button {
                width: 100%;
                justify-content: center;
            }
            
            .quick-questions {
                grid-template-columns: 1fr;
            }
        }

        /* High Contrast Mode Support */
        @media (prefers-contrast: high) {
            .premium-navbar {
                background: #000 !important;
            }
            
            .premium-card {
                border: 2px solid #fff !important;
            }
            
            .btn-hero-primary,
            .btn-assistant,
            .btn-database,
            .btn-generate,
            .btn-guide,
            .btn-search,
            .btn-pricing,
            .btn-premium {
                border: 2px solid #fff !important;
            }
        }

        /* Reduced Motion */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            
            .floating-element,
            .loading-spinner,
            .btn-sparkle,
            .scroll-indicator,
            .gavel-animation {
                animation: none !important;
            }
        }

        /* Loading Bar */
        .loading-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6, #3b82f6);
            background-size: 200% 100%;
            animation: loading 2s linear infinite;
            z-index: 10000;
            display: none;
        }

        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .loading-bar.active {
            display: block;
        }

        /* Focus Styles */
        *:focus {
            outline: 2px solid #3b82f6;
            outline-offset: 2px;
        }

        *:focus:not(.focus-visible) {
            outline: none;
        }

        /* Selection Color */
        ::selection {
            background: rgba(59, 130, 246, 0.3);
            color: #fff;
        }

        /* ChatGPT Style Chat Sidebar */
        .chat-sidebar {
            width: 260px;
            background: #202123;
            border-right: 1px solid #343541;
            display: flex;
            flex-direction: column;
            height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            z-index: 9999;
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }

        .chat-sidebar.active {
            transform: translateX(0);
        }

        .sidebar-header {
            padding: 1rem;
            border-bottom: 1px solid #343541;
        }

        .new-chat-btn {
            width: 100%;
            padding: 0.75rem;
            background: transparent;
            border: 1px solid #565869;
            border-radius: 8px;
            color: white;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .new-chat-btn:hover {
            background: #343541;
        }

        .chat-history {
            flex: 1;
            overflow-y: auto;
            padding: 0.5rem;
        }

        .history-item {
            padding: 0.75rem;
            border-radius: 8px;
            color: #c5c5d2;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.25rem;
            transition: all 0.3s ease;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .history-item:hover {
            background: #343541;
        }

        .history-item.active {
            background: #343541;
            color: white;
        }

        .history-item i {
            font-size: 0.875rem;
            color: #8e8ea0;
        }

        .history-title {
            flex: 1;
            font-size: 0.875rem;
        }

        .history-actions {
            display: none;
            gap: 0.25rem;
        }

        .history-item:hover .history-actions {
            display: flex;
        }

        .history-action-btn {
            background: transparent;
            border: none;
            color: #8e8ea0;
            cursor: pointer;
            padding: 0.25rem;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .history-action-btn:hover {
            color: white;
            background: #565869;
        }

        .sidebar-footer {
            padding: 1rem;
            border-top: 1px solid #343541;
        }

        .sidebar-user {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            border-radius: 8px;
            background: #343541;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .sidebar-user:hover {
            background: #40414f;
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 0.875rem;
        }

        .user-info {
            flex: 1;
        }

        .user-name {
            font-size: 0.875rem;
            font-weight: 500;
            color: white;
        }

        .user-email {
            font-size: 0.75rem;
            color: #8e8ea0;
        }

        .sidebar-toggle {
            position: fixed;
            bottom: 1rem;
            left: 1rem;
            width: 44px;
            height: 44px;
            background: #202123;
            border: 1px solid #565869;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9998;
            transition: all 0.3s ease;
        }

        .sidebar-toggle:hover {
            background: #343541;
        }

        .chat-main-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #343541;
            transition: margin-left 0.3s ease;
            margin-left: 0;
        }

        .chat-main-area.sidebar-open {
            margin-left: 260px;
        }

        .chat-header {
            background: #343541;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #565869;
            display: flex;
            align-items: center;
            gap: 1rem;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .mobile-sidebar-toggle {
            display: none;
            background: transparent;
            border: none;
            color: #c5c5d2;
            font-size: 1.25rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 6px;
        }

        .chat-title {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .chat-title h2 {
            font-size: 1rem;
            font-weight: 600;
            color: white;
        }

        .chat-title-edit {
            background: transparent;
            border: none;
            color: #8e8ea0;
            cursor: pointer;
            padding: 0.25rem;
            border-radius: 4px;
            font-size: 0.875rem;
        }

        .chat-title-edit:hover {
            color: white;
            background: #565869;
        }

        .chat-models {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .model-select {
            background: #202123;
            border: 1px solid #565869;
            border-radius: 6px;
            color: white;
            padding: 0.375rem 0.75rem;
            font-size: 0.875rem;
            cursor: pointer;
        }

        .message-container {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .message {
            display: flex;
            gap: 1rem;
            padding: 1rem;
            animation: fadeIn 0.3s ease;
        }

        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .user-avatar {
            background: linear-gradient(135deg, #10b981, #34d399);
        }

        .ai-avatar {
            background: linear-gradient(135deg, #8b5cf6, #a855f7);
        }

        .message-content {
            flex: 1;
        }

        .message-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .message-sender {
            font-weight: 600;
            color: white;
            font-size: 0.875rem;
        }

        .message-time {
            font-size: 0.75rem;
            color: #8e8ea0;
        }

        .message-text {
            color: #d1d5db;
            line-height: 1.6;
            font-size: 0.9375rem;
        }

        .message-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.5rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .message:hover .message-actions {
            opacity: 1;
        }

        .message-action-btn {
            background: #565869;
            border: none;
            color: #c5c5d2;
            cursor: pointer;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.25rem;
            transition: all 0.3s ease;
        }

        .message-action-btn:hover {
            background: #6b6c7a;
            color: white;
        }

        .input-container {
            padding: 1rem;
            background: #343541;
            border-top: 1px solid #565869;
            position: sticky;
            bottom: 0;
        }

        .input-wrapper {
            max-width: 768px;
            margin: 0 auto;
            position: relative;
        }

        .message-input {
            width: 100%;
            min-height: 56px;
            max-height: 200px;
            padding: 0.75rem 3rem 0.75rem 1rem;
            background: #40414f;
            border: 1px solid #565869;
            border-radius: 12px;
            color: white;
            font-size: 0.9375rem;
            resize: none;
            line-height: 1.5;
            font-family: inherit;
            outline: none;
            transition: all 0.3s ease;
        }

        .message-input:focus {
            border-color: #8b5cf6;
            box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.2);
        }

        .input-actions {
            position: absolute;
            right: 0.75rem;
            bottom: 0.75rem;
            display: flex;
            gap: 0.5rem;
        }

        .input-action-btn {
            background: transparent;
            border: none;
            color: #8e8ea0;
            cursor: pointer;
            padding: 0.25rem;
            border-radius: 4px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .input-action-btn:hover {
            color: white;
            background: #565869;
        }

        .send-button {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .send-button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }

        .send-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .quick-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
            justify-content: center;
        }

        .quick-action-btn {
            padding: 0.5rem 1rem;
            background: #40414f;
            border: 1px solid #565869;
            border-radius: 20px;
            color: #c5c5d2;
            cursor: pointer;
            font-size: 0.875rem;
            transition: all 0.3s ease;
        }

        .quick-action-btn:hover {
            background: #565869;
            color: white;
        }

        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem;
            color: #8e8ea0;
            font-size: 0.875rem;
        }

        .typing-dots {
            display: flex;
            gap: 0.25rem;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: #8e8ea0;
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typing {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            .chat-sidebar {
                width: 100%;
                transform: translateX(-100%);
            }

            .chat-sidebar.active {
                transform: translateX(0);
            }

            .chat-main-area.sidebar-open {
                margin-left: 0;
            }

            .mobile-sidebar-toggle {
                display: block;
            }

            .message {
                padding: 0.75rem;
                gap: 0.75rem;
            }

            .message-avatar {
                width: 32px;
                height: 32px;
            }

            .message-text {
                font-size: 0.875rem;
            }

            .quick-actions {
                flex-direction: column;
            }

            .quick-action-btn {
                width: 100%;
                text-align: center;
            }
        }

        /* Chat Welcome Screen */
        .chat-welcome-screen {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            text-align: center;
        }

        .welcome-icon {
            font-size: 3rem;
            color: #8b5cf6;
            margin-bottom: 1.5rem;
        }

        .welcome-title {
            font-size: 2rem;
            font-weight: 700;
            color: white;
            margin-bottom: 1rem;
        }

        .welcome-subtitle {
            font-size: 1.125rem;
            color: #8e8ea0;
            max-width: 600px;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .welcome-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            max-width: 800px;
            margin-bottom: 3rem;
        }

        .feature-card {
            background: #40414f;
            border: 1px solid #565869;
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-4px);
            border-color: #8b5cf6;
        }

        .feature-icon {
            font-size: 1.5rem;
            color: #8b5cf6;
            margin-bottom: 1rem;
        }

        .feature-title {
            font-size: 1rem;
            font-weight: 600;
            color: white;
            margin-bottom: 0.5rem;
        }

        .feature-description {
            font-size: 0.875rem;
            color: #8e8ea0;
            line-height: 1.5;
        }

        /* Code blocks in messages */
        .code-block {
            background: #1e1e1e;
            border-radius: 8px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .code-header {
            background: #252526;
            padding: 0.5rem 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            color: #8e8ea0;
            font-size: 0.75rem;
        }

        .code-content {
            padding: 1rem;
            overflow-x: auto;
        }

        pre {
            margin: 0;
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            line-height: 1.5;
        }

        .code-copy-btn {
            background: transparent;
            border: none;
            color: #8e8ea0;
            cursor: pointer;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            transition: all 0.3s ease;
        }

        .code-copy-btn:hover {
            color: white;
            background: #565869;
        }

        /* Dark Mode Enhancements */
        .dark-mode {
            background: #202123;
            color: #d1d5db;
        }

        .dark-mode .message-input {
            background: #40414f;
            border-color: #565869;
            color: white;
        }

        .dark-mode .quick-action-btn {
            background: #40414f;
            border-color: #565869;
        }

        .dark-mode .feature-card {
            background: #40414f;
            border-color: #565869;
        }

        /* Scrollbar Styling */
        .chat-history::-webkit-scrollbar,
        .message-container::-webkit-scrollbar {
            width: 6px;
        }

        .chat-history::-webkit-scrollbar-track,
        .message-container::-webkit-scrollbar-track {
            background: transparent;
        }

        .chat-history::-webkit-scrollbar-thumb,
        .message-container::-webkit-scrollbar-thumb {
            background: #565869;
            border-radius: 3px;
        }

        .chat-history::-webkit-scrollbar-thumb:hover,
        .message-container::-webkit-scrollbar-thumb:hover {
            background: #6b6c7a;
        }

        /* Animation for new messages */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Model Badge */
        .model-badge {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltip-text {
            visibility: hidden;
            background: #1e1e1e;
            color: white;
            text-align: center;
            padding: 0.5rem 0.75rem;
            border-radius: 6px;
            font-size: 0.75rem;
            position: absolute;
            z-index: 100;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        /* Chat Settings */
        .chat-settings {
            position: absolute;
            top: 100%;
            right: 0;
            background: #202123;
            border: 1px solid #565869;
            border-radius: 8px;
            padding: 0.5rem;
            min-width: 200px;
            display: none;
            z-index: 100;
        }

        .chat-settings.active {
            display: block;
        }

        .setting-item {
            padding: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            color: #c5c5d2;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 4px;
        }

        .setting-item:hover {
            background: #343541;
        }

        .setting-label {
            font-size: 0.875rem;
        }

        .setting-switch {
            position: relative;
            width: 36px;
            height: 20px;
        }

        .setting-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #565869;
            transition: .4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 14px;
            width: 14px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #8b5cf6;
        }

        input:checked + .slider:before {
            transform: translateX(16px);
        }

        /* Chat Export Options */
        .export-options {
            position: absolute;
            top: 100%;
            right: 0;
            background: #202123;
            border: 1px solid #565869;
            border-radius: 8px;
            padding: 0.5rem;
            min-width: 150px;
            display: none;
            z-index: 100;
        }

        .export-options.active {
            display: block;
        }

        .export-option {
            padding: 0.75rem;
            color: #c5c5d2;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 4px;
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .export-option:hover {
            background: #343541;
            color: white;
        }

        /* Loading Animation */
        .chat-loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 3rem;
            color: #8e8ea0;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid #565869;
            border-top-color: #8b5cf6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Loading Bar -->
    <div class="loading-bar" id="loadingBar"></div>
    
    <!-- Premium Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner legal-seal">
                <i class="fas fa-gavel"></i>
            </div>
            <h2 class="shimmer-text mt-4">LegalSwami</h2>
            <p class="text-light">Initializing AI Legal Assistant...</p>
            <div class="progress-bar mt-4">
                <div class="progress-fill"></div>
            </div>
        </div>
    </div>

    <!-- ChatGPT Style Chat Interface -->
    <div class="chat-interface" style="display: none;">
        <!-- Chat Sidebar -->
        <div class="chat-sidebar" id="chatSidebar">
            <div class="sidebar-header">
                <button class="new-chat-btn" id="newChatBtn">
                    <i class="fas fa-plus"></i>
                    <span>New Chat</span>
                </button>
            </div>
            
            <div class="chat-history" id="chatHistory">
                <!-- Chat history will be dynamically added here -->
                <div class="history-item active" data-id="welcome">
                    <i class="fas fa-comment"></i>
                    <span class="history-title">Welcome Chat</span>
                </div>
            </div>
            
            <div class="sidebar-footer">
                <div class="sidebar-user" id="sidebarUser">
                    <div class="user-avatar" id="userAvatar">
                        U
                    </div>
                    <div class="user-info">
                        <div class="user-name" id="sidebarUserName">Guest User</div>
                        <div class="user-email" id="sidebarUserEmail">Click to login</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Chat Area -->
        <div class="chat-main-area" id="chatMainArea">
            <!-- Chat Header -->
            <div class="chat-header">
                <button class="mobile-sidebar-toggle" id="mobileSidebarToggle">
                    <i class="fas fa-bars"></i>
                </button>
                
                <div class="chat-title">
                    <h2 id="currentChatTitle">New Chat</h2>
                    <button class="chat-title-edit" id="editChatTitle">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
                
                <div class="chat-models">
                    <select class="model-select" id="modelSelect">
                        <option value="gpt-4">GPT-4 Legal</option>
                        <option value="claude-3">Claude 3</option>
                        <option value="gemini-pro">Gemini Pro</option>
                        <option value="legalswami">LegalSwami Pro</option>
                    </select>
                    
                    <div class="tooltip">
                        <button class="input-action-btn" id="settingsBtn">
                            <i class="fas fa-cog"></i>
                        </button>
                        <div class="tooltip-text">Settings</div>
                    </div>
                    
                    <div class="tooltip">
                        <button class="input-action-btn" id="exportBtn">
                            <i class="fas fa-download"></i>
                        </button>
                        <div class="tooltip-text">Export Chat</div>
                    </div>
                    
                    <div class="tooltip">
                        <button class="input-action-btn" id="clearChatBtn">
                            <i class="fas fa-trash"></i>
                        </button>
                        <div class="tooltip-text">Clear Chat</div>
                    </div>
                </div>
            </div>

            <!-- Message Container -->
            <div class="message-container" id="messageContainer">
                <!-- Welcome Screen (Initially shown) -->
                <div class="chat-welcome-screen" id="chatWelcomeScreen">
                    <div class="welcome-icon">
                        <i class="fas fa-balance-scale"></i>
                    </div>
                    <h1 class="welcome-title">How can I help you today?</h1>
                    <p class="welcome-subtitle">
                        I'm your AI legal assistant. Ask me any legal questions, request document generation, 
                        or get guidance on legal procedures. I'm here to help 24/7.
                    </p>
                    
                    <div class="welcome-features">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-file-contract"></i>
                            </div>
                            <h3 class="feature-title">Generate Documents</h3>
                            <p class="feature-description">
                                Create legal documents instantly with AI assistance
                            </p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-search"></i>
                            </div>
                            <h3 class="feature-title">Legal Research</h3>
                            <p class="feature-description">
                                Get insights from case laws and legal databases
                            </p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-gavel"></i>
                            </div>
                            <h3 class="feature-title">Case Analysis</h3>
                            <p class="feature-description">
                                Analyze legal scenarios and provide solutions
                            </p>
                        </div>
                    </div>
                    
                    <div class="quick-actions">
                        <button class="quick-action-btn" data-question="How to draft a rental agreement in India?">
                            <i class="fas fa-home"></i>
                            Draft Rental Agreement
                        </button>
                        <button class="quick-action-btn" data-question="What are consumer rights under Indian law?">
                            <i class="fas fa-user-shield"></i>
                            Consumer Rights
                        </button>
                        <button class="quick-action-btn" data-question="How to file a cybercrime complaint?">
                            <i class="fas fa-shield-alt"></i>
                            Cybercrime Complaint
                        </button>
                        <button class="quick-action-btn" data-question="What documents are needed for property registration?">
                            <i class="fas fa-file-alt"></i>
                            Property Registration
                        </button>
                    </div>
                </div>

                <!-- Messages will be added here dynamically -->
                <div id="chatMessages" style="display: none;"></div>
                
                <!-- Typing Indicator -->
                <div class="typing-indicator" id="typingIndicator" style="display: none;">
                    <div class="typing-dots">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                    <span>AI is typing...</span>
                </div>
            </div>

            <!-- Input Container -->
            <div class="input-container">
                <div class="input-wrapper">
                    <textarea 
                        class="message-input" 
                        id="messageInput"
                        placeholder="Type your legal question here... (Shift + Enter for new line)"
                        rows="1"
                    ></textarea>
                    
                    <div class="input-actions">
                        <div class="tooltip">
                            <button class="input-action-btn" id="attachFileBtn">
                                <i class="fas fa-paperclip"></i>
                            </button>
                            <div class="tooltip-text">Attach File</div>
                        </div>
                        
                        <div class="tooltip">
                            <button class="input-action-btn" id="voiceInputBtn">
                                <i class="fas fa-microphone"></i>
                            </button>
                            <div class="tooltip-text">Voice Input</div>
                        </div>
                        
                        <button class="send-button" id="sendMessageBtn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
                
                <div class="quick-actions" id="quickActions">
                    <button class="quick-action-btn" data-action="generate-doc">
                        <i class="fas fa-file-pdf"></i>
                        Generate PDF
                    </button>
                    <button class="quick-action-btn" data-action="summarize">
                        <i class="fas fa-file-alt"></i>
                        Summarize
                    </button>
                    <button class="quick-action-btn" data-action="translate">
                        <i class="fas fa-language"></i>
                        Translate
                    </button>
                </div>
            </div>
        </div>

        <!-- Sidebar Toggle Button -->
        <button class="sidebar-toggle" id="sidebarToggle">
            <i class="fas fa-comments"></i>
        </button>

        <!-- Chat Settings Dropdown -->
        <div class="chat-settings" id="chatSettings">
            <div class="setting-item">
                <span class="setting-label">Dark Mode</span>
                <label class="setting-switch">
                    <input type="checkbox" id="darkModeToggle" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="setting-item">
                <span class="setting-label">Auto-Scroll</span>
                <label class="setting-switch">
                    <input type="checkbox" id="autoScrollToggle" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="setting-item">
                <span class="setting-label">Code Highlighting</span>
                <label class="setting-switch">
                    <input type="checkbox" id="codeHighlightToggle" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="setting-item">
                <span class="setting-label">Typing Indicators</span>
                <label class="setting-switch">
                    <input type="checkbox" id="typingIndicatorToggle" checked>
                    <span class="slider"></span>
                </label>
            </div>
        </div>

        <!-- Export Options Dropdown -->
        <div class="export-options" id="exportOptions">
            <div class="export-option" data-format="pdf">
                <i class="fas fa-file-pdf"></i>
                Export as PDF
            </div>
            <div class="export-option" data-format="txt">
                <i class="fas fa-file-alt"></i>
                Export as Text
            </div>
            <div class="export-option" data-format="json">
                <i class="fas fa-code"></i>
                Export as JSON
            </div>
            <div class="export-option" data-format="html">
                <i class="fas fa-file-code"></i>
                Export as HTML
            </div>
        </div>
    </div>

    <!-- Existing Main Container (hidden when chat is open) -->
    <div class="main-container" id="main-content">
        <!-- All existing content remains the same -->
        <!-- Premium Navigation Bar -->
        <nav class="premium-navbar">
            <!-- ... existing navbar code ... -->
        </nav>

        <!-- Mobile Menu -->
        <div class="mobile-menu-overlay" id="mobileMenu">
            <!-- ... existing mobile menu code ... -->
        </div>

        <!-- Hero Section -->
        <section id="home" class="hero-section">
            <!-- ... existing hero section code ... -->
        </section>

        <!-- Features Section -->
        <section id="features" class="features-section">
            <!-- ... existing features section code ... -->
        </section>

        <!-- Legal Database Section -->
        <section id="legalDatabase" class="database-section">
            <!-- ... existing database section code ... -->
        </section>

        <!-- Document Types Section -->
        <section id="documents" class="documents-section">
            <!-- ... existing documents section code ... -->
        </section>

        <!-- Lawyer Directory Section -->
        <section id="lawyerDirectory" class="lawyer-section">
            <!-- ... existing lawyer section code ... -->
        </section>

        <!-- Legal Procedure Guides Section -->
        <section id="legalGuides" class="guides-section">
            <!-- ... existing guides section code ... -->
        </section>

        <!-- Testimonials Section -->
        <section id="testimonials" class="testimonials-section">
            <!-- ... existing testimonials section code ... -->
        </section>

        <!-- Pricing Section -->
        <section id="pricing" class="pricing-section">
            <!-- ... existing pricing section code ... -->
        </section>

        <!-- CTA Section -->
        <section class="cta-section">
            <!-- ... existing CTA section code ... -->
        </section>

        <!-- Footer -->
        <footer class="premium-footer">
            <!-- ... existing footer code ... -->
        </footer>

        <!-- Back to Top -->
        <button id="backToTop" class="back-to-top">
            <i class="fas fa-chevron-up"></i>
        </button>
    </div>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>
    
    <!-- Google Identity Services -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>

    <!-- Chat-specific JavaScript -->
    <script>
        // Chat System Variables
        let currentChat = {
            id: 'chat_' + Date.now(),
            title: 'New Chat',
            messages: [],
            model: 'gpt-4',
            createdAt: new Date().toISOString()
        };

        let chatHistory = [];
        let isTyping = false;
        let sidebarOpen = true;
        let darkMode = true;
        let autoScroll = true;
        let currentModel = 'gpt-4';

        // DOM Elements
        const chatInterface = document.querySelector('.chat-interface');
        const mainContainer = document.getElementById('main-content');
        const chatSidebar = document.getElementById('chatSidebar');
        const chatMainArea = document.getElementById('chatMainArea');
        const chatHistoryElement = document.getElementById('chatHistory');
        const messageContainer = document.getElementById('messageContainer');
        const chatMessages = document.getElementById('chatMessages');
        const chatWelcomeScreen = document.getElementById('chatWelcomeScreen');
        const messageInput = document.getElementById('messageInput');
        const sendMessageBtn = document.getElementById('sendMessageBtn');
        const newChatBtn = document.getElementById('newChatBtn');
        const sidebarToggle = document.getElementById('sidebarToggle');
        const mobileSidebarToggle = document.getElementById('mobileSidebarToggle');
        const clearChatBtn = document.getElementById('clearChatBtn');
        const exportBtn = document.getElementById('exportBtn');
        const settingsBtn = document.getElementById('settingsBtn');
        const editChatTitle = document.getElementById('editChatTitle');
        const currentChatTitle = document.getElementById('currentChatTitle');
        const modelSelect = document.getElementById('modelSelect');
        const chatSettings = document.getElementById('chatSettings');
        const exportOptions = document.getElementById('exportOptions');
        const typingIndicator = document.getElementById('typingIndicator');

        // Initialize Chat System
        function initializeChatSystem() {
            console.log(' Initializing ChatGPT-style chat system...');
            
            // Load chat history from localStorage
            loadChatHistory();
            
            // Setup event listeners
            setupChatEventListeners();
            
            // Apply saved settings
            applyChatSettings();
            
            // Show sidebar based on screen size
            if (window.innerWidth <= 768) {
                toggleSidebar(false);
            } else {
                toggleSidebar(true);
            }
            
            console.log(' Chat system initialized');
        }

        // Load Chat History
        function loadChatHistory() {
            try {
                const savedHistory = localStorage.getItem('legalSwamiChatHistory');
                if (savedHistory) {
                    chatHistory = JSON.parse(savedHistory);
                    renderChatHistory();
                }
                
                const savedSettings = localStorage.getItem('legalSwamiChatSettings');
                if (savedSettings) {
                    const settings = JSON.parse(savedSettings);
                    darkMode = settings.darkMode !== false;
                    autoScroll = settings.autoScroll !== false;
                    currentModel = settings.model || 'gpt-4';
                    
                    if (modelSelect) {
                        modelSelect.value = currentModel;
                    }
                }
            } catch (error) {
                console.error(' Error loading chat history:', error);
            }
        }

        // Save Chat History
        function saveChatHistory() {
            try {
                localStorage.setItem('legalSwamiChatHistory', JSON.stringify(chatHistory));
                localStorage.setItem('legalSwamiChatSettings', JSON.stringify({
                    darkMode: darkMode,
                    autoScroll: autoScroll,
                    model: currentModel
                }));
            } catch (error) {
                console.error(' Error saving chat history:', error);
            }
        }

        // Render Chat History
        function renderChatHistory() {
            if (!chatHistoryElement) return;
            
            chatHistoryElement.innerHTML = '';
            
            // Add welcome chat
            const welcomeItem = document.createElement('div');
            welcomeItem.className = 'history-item active';
            welcomeItem.dataset.id = 'welcome';
            welcomeItem.innerHTML = `
                <i class="fas fa-comment"></i>
                <span class="history-title">Welcome Chat</span>
            `;
            welcomeItem.addEventListener('click', () => showWelcomeScreen());
            chatHistoryElement.appendChild(welcomeItem);
            
            // Add saved chats
            chatHistory.forEach(chat => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                historyItem.dataset.id = chat.id;
                historyItem.innerHTML = `
                    <i class="fas fa-comment-dots"></i>
                    <span class="history-title">${chat.title}</span>
                    <div class="history-actions">
                        <button class="history-action-btn" onclick="deleteChat('${chat.id}')">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;
                
                historyItem.addEventListener('click', (e) => {
                    if (!e.target.closest('.history-action-btn')) {
                        loadChat(chat.id);
                    }
                });
                
                chatHistoryElement.appendChild(historyItem);
            });
        }

        // Setup Chat Event Listeners
        function setupChatEventListeners() {
            // Send message on button click
            sendMessageBtn.addEventListener('click', sendMessage);
            
            // Send message on Enter (Shift+Enter for new line)
            messageInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });
            
            // Auto-resize textarea
            messageInput.addEventListener('input', autoResizeTextarea);
            
            // New chat button
            newChatBtn.addEventListener('click', createNewChat);
            
            // Sidebar toggle
            sidebarToggle.addEventListener('click', () => toggleSidebar(!sidebarOpen));
            mobileSidebarToggle.addEventListener('click', () => toggleSidebar(!sidebarOpen));
            
            // Clear chat button
            clearChatBtn.addEventListener('click', clearCurrentChat);
            
            // Export button
            exportBtn.addEventListener('click', toggleExportOptions);
            
            // Settings button
            settingsBtn.addEventListener('click', toggleSettings);
            
            // Edit chat title
            editChatTitle.addEventListener('click', editCurrentChatTitle);
            
            // Model selection
            modelSelect.addEventListener('change', (e) => {
                currentModel = e.target.value;
                saveChatHistory();
                showToast(`Model changed to ${e.target.options[e.target.selectedIndex].text}`, 'info');
            });
            
            // Quick action buttons
            document.querySelectorAll('.quick-action-btn[data-question]').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const question = e.target.dataset.question;
                    messageInput.value = question;
                    sendMessage();
                });
            });
            
            // Quick action buttons in input
            document.querySelectorAll('.quick-action-btn[data-action]').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const action = e.target.dataset.action;
                    handleQuickAction(action);
                });
            });
            
            // Settings toggles
            document.getElementById('darkModeToggle')?.addEventListener('change', (e) => {
                darkMode = e.target.checked;
                applyDarkMode();
                saveChatHistory();
            });
            
            document.getElementById('autoScrollToggle')?.addEventListener('change', (e) => {
                autoScroll = e.target.checked;
                saveChatHistory();
            });
            
            // Export options
            document.querySelectorAll('.export-option').forEach(option => {
                option.addEventListener('click', (e) => {
                    const format = e.target.dataset.format;
                    exportChat(format);
                    exportOptions.classList.remove('active');
                });
            });
            
            // Close dropdowns when clicking outside
            document.addEventListener('click', (e) => {
                if (!e.target.closest('#settingsBtn') && !e.target.closest('#chatSettings')) {
                    chatSettings.classList.remove('active');
                }
                if (!e.target.closest('#exportBtn') && !e.target.closest('#exportOptions')) {
                    exportOptions.classList.remove('active');
                }
            });
            
            // Initialize textarea height
            autoResizeTextarea.call(messageInput);
        }

        // Auto-resize textarea
        function autoResizeTextarea() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 200) + 'px';
        }

        // Send Message
        async function sendMessage() {
            const message = messageInput.value.trim();
            if (!message || isTyping) return;
            
            // Add user message to chat
            addMessageToChat('user', message);
            
            // Clear input
            messageInput.value = '';
            autoResizeTextarea.call(messageInput);
            
            // Show typing indicator
            showTypingIndicator(true);
            
            // Update chat title if it's the first message
            if (currentChat.messages.length === 1) {
                updateChatTitle(message);
            }
            
            try {
                // Simulate AI response (replace with actual API call)
                await simulateAIResponse(message);
            } catch (error) {
                console.error(' Error getting AI response:', error);
                addMessageToChat('ai', 'Sorry, I encountered an error while processing your request. Please try again.');
            } finally {
                showTypingIndicator(false);
                saveCurrentChat();
            }
        }

        // Simulate AI Response
        async function simulateAIResponse(userMessage) {
            return new Promise(resolve => {
                setTimeout(() => {
                    const responses = [
                        `I understand you're asking about "${userMessage}". As an AI legal assistant, I can help you with this. Here's what you need to know:\n\n` +
                        `1. **Legal Basis**: Under Indian law, this matter falls under the relevant sections of the applicable acts.\n` +
                        `2. **Required Documents**: You'll typically need identification proof, address proof, and supporting documents.\n` +
                        `3. **Procedure**: The standard procedure involves filing an application, paying fees, and attending hearings if required.\n` +
                        `4. **Timeline**: This process usually takes 15-30 days depending on the complexity.\n\n` +
                        `**Important**: This is general information. Please consult a qualified lawyer for specific advice.`,
                        
                        `Thank you for your question about "${userMessage}". Let me provide you with a comprehensive answer:\n\n` +
                        `**Key Points**:\n` +
                        ` The legal provisions are covered under the relevant Indian legislation\n` +
                        ` You should gather all necessary documents before proceeding\n` +
                        ` Consider consulting with a legal professional for your specific case\n\n` +
                        `**Next Steps**:\n` +
                        `1. Document collection\n` +
                        `2. Legal consultation\n` +
                        `3. Application submission\n` +
                        `4. Follow-up procedures`,
                        
                        `Regarding "${userMessage}", here's my analysis:\n\n` +
                        ````javascript\n` +
                        `// Legal Analysis Summary\n` +
                        `const caseDetails = {\n` +
                        `  category: "Legal Query",\n` +
                        `  complexity: "Medium",\n` +
                        `  recommendedActions: [\n` +
                        `    "Consult a lawyer",\n` +
                        `    "Gather documents",\n` +
                        `    "File application"\n` +
                        `  ],\n` +
                        `  estimatedTime: "2-4 weeks"\n` +
                        `};\n` +
                        ````\n\n` +
                        `Please note that this is AI-generated guidance and not legal advice.`
                    ];
                    
                    const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                    addMessageToChat('ai', randomResponse);
                    resolve();
                }, 1500 + Math.random() * 1000);
            });
        }

        // Add Message to Chat
        function addMessageToChat(sender, content) {
            const messageElement = document.createElement('div');
            messageElement.className = 'message';
            
            const timestamp = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            const messageId = 'msg_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
            
            // Format content with code blocks if present
            let formattedContent = formatMessageContent(content);
            
            messageElement.innerHTML = `
                <div class="message-avatar ${sender}-avatar">
                    <i class="fas fa-${sender === 'user' ? 'user' : 'robot'}"></i>
                </div>
                <div class="message-content">
                    <div class="message-header">
                        <span class="message-sender">${sender === 'user' ? 'You' : 'AI Assistant'}</span>
                        <span class="message-time">${timestamp}</span>
                    </div>
                    <div class="message-text">${formattedContent}</div>
                    <div class="message-actions">
                        <button class="message-action-btn" onclick="copyMessage('${messageId}')">
                            <i class="fas fa-copy"></i>
                            Copy
                        </button>
                        <button class="message-action-btn" onclick="regenerateMessage('${messageId}')">
                            <i class="fas fa-redo"></i>
                            Regenerate
                        </button>
                    </div>
                </div>
            `;
            
            messageElement.id = messageId;
            
            // Hide welcome screen and show messages
            if (chatWelcomeScreen.style.display !== 'none') {
                chatWelcomeScreen.style.display = 'none';
                chatMessages.style.display = 'block';
            }
            
            chatMessages.appendChild(messageElement);
            
            // Store message in current chat
            currentChat.messages.push({
                id: messageId,
                sender: sender,
                content: content,
                timestamp: new Date().toISOString()
            });
            
            // Auto-scroll to bottom
            if (autoScroll) {
                messageContainer.scrollTop = messageContainer.scrollHeight;
            }
        }

        // Format Message Content
        function formatMessageContent(content) {
            // Convert markdown-style formatting
            let formatted = content
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/`{3}([\w]*)\n([\s\S]*?)\n`{3}/g, '<div class="code-block"><div class="code-header">$1<button class="code-copy-btn">Copy</button></div><div class="code-content"><pre>$2</pre></div></div>')
                .replace(/`(.*?)`/g, '<code>$1</code>')
                .replace(/\n/g, '<br>');
            
            // Add copy functionality to code blocks
            formatted = formatted.replace(/<button class="code-copy-btn">Copy<\/button>/g, 
                '<button class="code-copy-btn" onclick="copyCode(this)">Copy</button>');
            
            return formatted;
        }

        // Copy Message
        function copyMessage(messageId) {
            const messageElement = document.getElementById(messageId);
            if (!messageElement) return;
            
            const text = messageElement.querySelector('.message-text').textContent;
            navigator.clipboard.writeText(text).then(() => {
                showToast('Message copied to clipboard!', 'success');
            });
        }

        // Copy Code
        function copyCode(button) {
            const codeBlock = button.closest('.code-block');
            const codeContent = codeBlock.querySelector('pre').textContent;
            navigator.clipboard.writeText(codeContent).then(() => {
                showToast('Code copied to clipboard!', 'success');
            });
        }

        // Regenerate Message
        function regenerateMessage(messageId) {
            // Find and remove subsequent messages
            const messageIndex = currentChat.messages.findIndex(msg => msg.id === messageId);
            if (messageIndex !== -1) {
                currentChat.messages = currentChat.messages.slice(0, messageIndex + 1);
                renderCurrentChat();
                
                // If last message was from AI, regenerate it
                const lastMessage = currentChat.messages[currentChat.messages.length - 1];
                if (lastMessage && lastMessage.sender === 'ai') {
                    // Remove the AI message and get user's previous message
                    currentChat.messages.pop();
                    const userMessage = currentChat.messages[currentChat.messages.length - 1];
                    if (userMessage && userMessage.sender === 'user') {
                        showTypingIndicator(true);
                        setTimeout(() => {
                            simulateAIResponse(userMessage.content);
                            showTypingIndicator(false);
                        }, 1000);
                    }
                }
            }
        }

        // Show Typing Indicator
        function showTypingIndicator(show) {
            isTyping = show;
            if (typingIndicator) {
                typingIndicator.style.display = show ? 'flex' : 'none';
                
                if (show && autoScroll) {
                    messageContainer.scrollTop = messageContainer.scrollHeight;
                }
            }
        }

        // Create New Chat
        function createNewChat() {
            // Save current chat if it has messages
            if (currentChat.messages.length > 0) {
                saveCurrentChat();
            }
            
            // Create new chat
            currentChat = {
                id: 'chat_' + Date.now(),
                title: 'New Chat',
                messages: [],
                model: currentModel,
                createdAt: new Date().toISOString()
            };
            
            // Update UI
            currentChatTitle.textContent = currentChat.title;
            chatMessages.innerHTML = '';
            chatWelcomeScreen.style.display = 'flex';
            chatMessages.style.display = 'none';
            
            // Update history
            renderChatHistory();
            
            // Focus input
            messageInput.focus();
            
            showToast('New chat created', 'info');
        }

        // Load Chat
        function loadChat(chatId) {
            if (chatId === 'welcome') {
                showWelcomeScreen();
                return;
            }
            
            const chat = chatHistory.find(c => c.id === chatId);
            if (!chat) return;
            
            currentChat = { ...chat };
            currentChatTitle.textContent = currentChat.title;
            
            // Render messages
            chatMessages.innerHTML = '';
            currentChat.messages.forEach(msg => {
                addMessageToChat(msg.sender, msg.content);
            });
            
            // Hide welcome screen
            chatWelcomeScreen.style.display = 'none';
            chatMessages.style.display = 'block';
            
            // Update active state in history
            document.querySelectorAll('.history-item').forEach(item => {
                item.classList.remove('active');
                if (item.dataset.id === chatId) {
                    item.classList.add('active');
                }
            });
            
            // Auto-scroll to bottom
            if (autoScroll) {
                messageContainer.scrollTop = messageContainer.scrollHeight;
            }
        }

        // Show Welcome Screen
        function showWelcomeScreen() {
            currentChat = {
                id: 'welcome',
                title: 'Welcome Chat',
                messages: [],
                model: currentModel,
                createdAt: new Date().toISOString()
            };
            
            currentChatTitle.textContent = 'Welcome Chat';
            chatMessages.innerHTML = '';
            chatWelcomeScreen.style.display = 'flex';
            chatMessages.style.display = 'none';
            
            // Update active state in history
            document.querySelectorAll('.history-item').forEach(item => {
                item.classList.remove('active');
                if (item.dataset.id === 'welcome') {
                    item.classList.add('active');
                }
            });
        }

        // Save Current Chat
        function saveCurrentChat() {
            if (currentChat.messages.length === 0 || currentChat.id === 'welcome') return;
            
            // Check if chat already exists in history
            const existingIndex = chatHistory.findIndex(c => c.id === currentChat.id);
            
            if (existingIndex !== -1) {
                chatHistory[existingIndex] = { ...currentChat };
            } else {
                chatHistory.unshift({ ...currentChat });
            }
            
            // Keep only latest 50 chats
            chatHistory = chatHistory.slice(0, 50);
            
            saveChatHistory();
            renderChatHistory();
        }

        // Update Chat Title
        function updateChatTitle(firstMessage) {
            // Generate title from first message
            let title = firstMessage.substring(0, 50);
            if (firstMessage.length > 50) {
                title += '...';
            }
            
            currentChat.title = title;
            currentChatTitle.textContent = title;
        }

        // Edit Current Chat Title
        function editCurrentChatTitle() {
            const newTitle = prompt('Enter new chat title:', currentChat.title);
            if (newTitle && newTitle.trim()) {
                currentChat.title = newTitle.trim();
                currentChatTitle.textContent = currentChat.title;
                saveCurrentChat();
            }
        }

        // Delete Chat
        function deleteChat(chatId) {
            if (confirm('Are you sure you want to delete this chat? This action cannot be undone.')) {
                chatHistory = chatHistory.filter(c => c.id !== chatId);
                
                if (currentChat.id === chatId) {
                    showWelcomeScreen();
                }
                
                saveChatHistory();
                renderChatHistory();
                showToast('Chat deleted', 'success');
            }
        }

        // Clear Current Chat
        function clearCurrentChat() {
            if (currentChat.messages.length === 0) return;
            
            if (confirm('Are you sure you want to clear all messages in this chat?')) {
                currentChat.messages = [];
                chatMessages.innerHTML = '';
                chatWelcomeScreen.style.display = 'flex';
                chatMessages.style.display = 'none';
                saveCurrentChat();
                showToast('Chat cleared', 'success');
            }
        }

        // Toggle Sidebar
        function toggleSidebar(open) {
            sidebarOpen = open;
            
            if (chatSidebar) {
                chatSidebar.classList.toggle('active', open);
            }
            
            if (chatMainArea) {
                chatMainArea.classList.toggle('sidebar-open', open && window.innerWidth > 768);
            }
            
            if (sidebarToggle) {
                sidebarToggle.innerHTML = open ? 
                    '<i class="fas fa-times"></i>' : 
                    '<i class="fas fa-comments"></i>';
            }
        }

        // Toggle Settings
        function toggleSettings() {
            chatSettings.classList.toggle('active');
            exportOptions.classList.remove('active');
        }

        // Toggle Export Options
        function toggleExportOptions() {
            exportOptions.classList.toggle('active');
            chatSettings.classList.remove('active');
        }

        // Export Chat
        function exportChat(format) {
            if (currentChat.messages.length === 0) {
                showToast('No messages to export', 'warning');
                return;
            }
            
            let content = '';
            let filename = `LegalSwami_Chat_${currentChat.title}_${new Date().toISOString().split('T')[0]}`;
            
            switch (format) {
                case 'txt':
                    content = generateTextExport();
                    filename += '.txt';
                    break;
                case 'pdf':
                    // In a real implementation, you would generate PDF using jsPDF
                    showToast('PDF export coming soon!', 'info');
                    return;
                case 'json':
                    content = JSON.stringify(currentChat, null, 2);
                    filename += '.json';
                    break;
                case 'html':
                    content = generateHTMLExport();
                    filename += '.html';
                    break;
            }
            
            if (content) {
                downloadFile(content, filename, `text/${format === 'json' ? 'json' : format === 'html' ? 'html' : 'plain'}`);
                showToast(`Chat exported as ${format.toUpperCase()}`, 'success');
            }
        }

        // Generate Text Export
        function generateTextExport() {
            let text = `LEGALSWAMI CHAT EXPORT\n`;
            text += `Chat Title: ${currentChat.title}\n`;
            text += `Created: ${new Date(currentChat.createdAt).toLocaleString()}\n`;
            text += `Model: ${currentChat.model}\n`;
            text += `Exported: ${new Date().toLocaleString()}\n\n`;
            text += '='.repeat(50) + '\n\n';
            
            currentChat.messages.forEach(msg => {
                text += `${msg.sender === 'user' ? 'YOU' : 'AI ASSISTANT'} (${new Date(msg.timestamp).toLocaleTimeString()}):\n`;
                text += msg.content + '\n\n';
                text += '-'.repeat(30) + '\n\n';
            });
            
            text += '\n' + '='.repeat(50) + '\n';
            text += 'END OF CHAT\n\n';
            text += 'Disclaimer: This chat is for informational purposes only and does not constitute legal advice.\n';
            text += 'Please consult a qualified legal professional for specific legal matters.\n';
            
            return text;
        }

        // Generate HTML Export
        function generateHTMLExport() {
            return `
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>LegalSwami Chat Export - ${currentChat.title}</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .chat-header { background: #f0f0f0; padding: 20px; border-radius: 10px; margin-bottom: 30px; }
        .message { margin-bottom: 20px; padding: 15px; border-radius: 8px; }
        .user-message { background: #e3f2fd; border-left: 4px solid #2196f3; }
        .ai-message { background: #f5f5f5; border-left: 4px solid #4caf50; }
        .timestamp { color: #666; font-size: 12px; margin-top: 5px; }
        .disclaimer { margin-top: 40px; padding: 20px; background: #fff3cd; border-radius: 5px; }
    </style>
</head>
<body>
    <div class="chat-header">
        <h1>${currentChat.title}</h1>
        <p>Created: ${new Date(currentChat.createdAt).toLocaleString()}</p>
        <p>Model: ${currentChat.model}</p>
        <p>Exported: ${new Date().toLocaleString()}</p>
    </div>
    
    ${currentChat.messages.map(msg => `
        <div class="message ${msg.sender === 'user' ? 'user-message' : 'ai-message'}">
            <strong>${msg.sender === 'user' ? 'You' : 'AI Assistant'}</strong>
            <div>${msg.content.replace(/\n/g, '<br>')}</div>
            <div class="timestamp">${new Date(msg.timestamp).toLocaleString()}</div>
        </div>
    `).join('')}
    
    <div class="disclaimer">
        <strong>Disclaimer:</strong> This chat is for informational purposes only and does not constitute legal advice. 
        Please consult a qualified legal professional for specific legal matters.
    </div>
</body>
</html>`;
        }

        // Download File
        function downloadFile(content, filename, mimeType) {
            const blob = new Blob([content], { type: mimeType });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Handle Quick Action
        function handleQuickAction(action) {
            switch (action) {
                case 'generate-doc':
                    if (currentChat.messages.length === 0) {
                        messageInput.value = 'Generate a legal document template for me';
                    } else {
                        messageInput.value = 'Based on our conversation, please generate a legal document';
                    }
                    messageInput.focus();
                    break;
                    
                case 'summarize':
                    if (currentChat.messages.length === 0) {
                        showToast('No conversation to summarize', 'warning');
                    } else {
                        messageInput.value = 'Please summarize our conversation so far';
                        sendMessage();
                    }
                    break;
                    
                case 'translate':
                    const language = prompt('Translate to which language? (e.g., Hindi, Marathi, Gujarati):', 'Hindi');
                    if (language) {
                        messageInput.value = `Please translate the last response to ${language}`;
                        sendMessage();
                    }
                    break;
            }
        }

        // Apply Chat Settings
        function applyChatSettings() {
            applyDarkMode();
            
            if (modelSelect && currentModel) {
                modelSelect.value = currentModel;
            }
            
            // Apply dark mode toggle state
            const darkModeToggle = document.getElementById('darkModeToggle');
            if (darkModeToggle) {
                darkModeToggle.checked = darkMode;
            }
            
            // Apply auto-scroll toggle state
            const autoScrollToggle = document.getElementById('autoScrollToggle');
            if (autoScrollToggle) {
                autoScrollToggle.checked = autoScroll;
            }
        }

        // Apply Dark Mode
        function applyDarkMode() {
            if (darkMode) {
                document.body.classList.add('dark-mode');
                chatMainArea.classList.add('dark-mode');
            } else {
                document.body.classList.remove('dark-mode');
                chatMainArea.classList.remove('dark-mode');
            }
        }

        // Show Toast Notification
        function showToast(message, type = 'info') {
            const container = document.getElementById('toastContainer');
            if (!container) return;
            
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            toast.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : type === 'warning' ? 'exclamation-triangle' : 'info-circle'}"></i>
                <span>${message}</span>
            `;
            
            container.appendChild(toast);
            
            setTimeout(() => {
                toast.classList.add('fade-out');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Start ChatGPT Interface
        function startChatGPTInterface() {
            // Hide main container
            if (mainContainer) {
                mainContainer.style.display = 'none';
            }
            
            // Show chat interface
            if (chatInterface) {
                chatInterface.style.display = 'flex';
            }
            
            // Initialize chat system
            initializeChatSystem();
            
            // Focus input
            setTimeout(() => {
                messageInput.focus();
            }, 100);
            
            // Update user info
            updateChatUserInfo();
        }

        // Update Chat User Info
        function updateChatUserInfo() {
            const userStr = localStorage.getItem('legal_swami_user');
            if (userStr) {
                try {
                    const user = JSON.parse(userStr);
                    const userName = document.getElementById('sidebarUserName');
                    const userEmail = document.getElementById('sidebarUserEmail');
                    const userAvatar = document.getElementById('userAvatar');
                    
                    if (userName) userName.textContent = user.name || 'User';
                    if (userEmail) userEmail.textContent = user.email || '';
                    
                    if (userAvatar) {
                        userAvatar.innerHTML = user.name ? user.name.charAt(0).toUpperCase() : 'U';
                    }
                } catch (error) {
                    console.error('Error updating chat user info:', error);
                }
            }
        }

        // Go Back to Main Website
        function goBackToMainWebsite() {
            // Save current chat
            saveCurrentChat();
            
            // Hide chat interface
            if (chatInterface) {
                chatInterface.style.display = 'none';
            }
            
            // Show main container
            if (mainContainer) {
                mainContainer.style.display = 'block';
            }
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Add event listener to all "Start Chat" buttons
        document.addEventListener('DOMContentLoaded', function() {
            // Find all start chat buttons
            const startChatButtons = [
                document.getElementById('startChatBtn'),
                document.getElementById('heroAssistantBtn'),
                document.getElementById('ctaStartChat'),
                document.getElementById('mobileStartChat'),
                document.getElementById('freePlanBtn')
            ];
            
            startChatButtons.forEach(btn => {
                if (btn) {
                    btn.addEventListener('click', function(e) {
                        e.preventDefault();
                        startChatGPTInterface();
                    });
                }
            });
            
            // Add back button functionality
            const backToHome = document.getElementById('backToHome');
            if (backToHome) {
                backToHome.addEventListener('click', function(e) {
                    e.preventDefault();
                    goBackToMainWebsite();
                });
            }
            
            // Add sidebar user click for login
            const sidebarUser = document.getElementById('sidebarUser');
            if (sidebarUser) {
                sidebarUser.addEventListener('click', function() {
                    const userStr = localStorage.getItem('legal_swami_user');
                    if (!userStr) {
                        showLoginModal();
                    }
                });
            }
        });

        // Make functions available globally
        window.copyCode = copyCode;
        window.copyMessage = copyMessage;
        window.regenerateMessage = regenerateMessage;
        window.deleteChat = deleteChat;
        window.startChatGPTInterface = startChatGPTInterface;
        window.goBackToMainWebsite = goBackToMainWebsite;
    </script>

    <!-- Existing JavaScript remains the same -->
    <script>
        // All existing JavaScript code remains exactly as provided
        // This includes all the functions, event listeners, and logic from the original code
        
        // Global variables
        let currentChatId = null;
        let isProcessing = false;
        let googleGISInitialized = false;
        let isMobileMenuOpen = false;
        let isChatOpen = false;
        let isLoginModalOpen = false;
        let selectedLanguage = 'en';
        
        // Check if device is mobile
        const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
        const isTablet = window.innerWidth <= 1024 && window.innerWidth > 480;
        
        // Legal Acts Database
        const legalActs = [
            { id: 1, name: "Indian Penal Code (IPC)", year: 1860, category: "criminal" },
            { id: 2, name: "Code of Criminal Procedure (CrPC)", year: 1973, category: "criminal" },
            { id: 3, name: "Code of Civil Procedure (CPC)", year: 1908, category: "civil" },
            { id: 4, name: "Indian Evidence Act", year: 1872, category: "evidence" },
            { id: 5, name: "Consumer Protection Act", year: 2019, category: "consumer" },
            { id: 6, name: "Transfer of Property Act", year: 1882, category: "property" },
            { id: 7, name: "Contract Act", year: 1872, category: "civil" },
            { id: 8, name: "Constitution of India", year: 1950, category: "constitutional" }
        ];

        // Lawyers Database
        const lawyers = [
            { id: 1, name: "Adv. Rajesh Kumar", specialization: "criminal", experience: 15, location: "Delhi", rating: 4.8, fee: "2000/consultation" },
            { id: 2, name: "Adv. Priya Sharma", specialization: "family", experience: 10, location: "Mumbai", rating: 4.7, fee: "2500/consultation" },
            { id: 3, name: "Adv. Amit Patel", specialization: "corporate", experience: 12, location: "Bangalore", rating: 4.9, fee: "3000/consultation" },
            { id: 4, name: "Adv. Sneha Desai", specialization: "property", experience: 8, location: "Pune", rating: 4.6, fee: "1800/consultation" },
            { id: 5, name: "Adv. Rohit Verma", specialization: "civil", experience: 20, location: "Delhi", rating: 4.9, fee: "3500/consultation" },
            { id: 6, name: "Adv. Anjali Singh", specialization: "consumer", experience: 7, location: "Chennai", rating: 4.5, fee: "1500/consultation" }
        ];

        // DOM Content Loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log(' LegalSwami Premium Frontend Initialized');
            console.log(' Device Type:', isMobile ? 'Mobile' : isTablet ? 'Tablet' : 'Desktop');
            
            // Apply mobile-specific optimizations
            if (isMobile) {
                applyMobileOptimizations();
            }
            
            // Hide loading screen
            setTimeout(function() {
                const loadingScreen = document.getElementById('loadingScreen');
                if (loadingScreen) {
                    loadingScreen.style.opacity = '0';
                    setTimeout(function() {
                        loadingScreen.style.display = 'none';
                        console.log(' Loading screen hidden');
                    }, 300);
                }
            }, 1500);
            
            // Initialize backend connection
            initializeAppWithBackend();
            
            // Setup event listeners
            setupEventListeners();
            
            // Initialize Google Authentication
            setTimeout(initializeSimpleGoogleAuth, 2000);
            
            // Check for existing user
            checkExistingUser();
            
            // Setup scroll effects
            setupScrollEffects();
            
            // Setup mobile menu
            setupMobileMenu();
            
            // Setup device-specific optimizations
            setupDeviceSpecificOptimizations();
            
            // Load lawyers
            loadLawyers();
            
            // Setup language selection
            const languageSelect = document.getElementById('languageSelect');
            if (languageSelect) {
                languageSelect.addEventListener('change', function() {
                    selectedLanguage = this.value;
                    const placeholders = {
                        'en': 'Type your legal question here...',
                        'hi': '     ...',
                        'mr': '     ...',
                        'gu': '     ...'
                    };
                    const messageInput = document.getElementById('messageInput');
                    if (messageInput) {
                        messageInput.placeholder = placeholders[selectedLanguage] || placeholders.en;
                    }
                    showToast(`Language changed to ${this.options[this.selectedIndex].text}`, 'info');
                });
            }
            
            console.log(' All initialization complete');
        });
        
        // Apply mobile optimizations
        function applyMobileOptimizations() {
            console.log(' Applying mobile optimizations...');
            
            // Larger touch targets
            const touchElements = document.querySelectorAll('button, .nav-link, .quick-btn, .chat-action-btn');
            touchElements.forEach(el => {
                el.style.minHeight = '44px';
                el.style.minWidth = '44px';
            });
            
            // Prevent zoom on input focus
            const inputs = document.querySelectorAll('input, select, textarea');
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    if (isMobile) {
                        setTimeout(() => {
                            this.style.fontSize = '16px';
                        }, 100);
                    }
                });
            });
            
            // Better mobile scrolling
            document.body.style.overflowX = 'hidden';
            document.body.style.touchAction = 'manipulation';
            
            console.log(' Mobile optimizations applied');
        }
        
        // Setup device specific optimizations
        function setupDeviceSpecificOptimizations() {
            // Tablet specific optimizations
            if (isTablet) {
                console.log(' Tablet optimizations enabled');
                
                // Adjust font sizes for tablet
                document.documentElement.style.fontSize = '15px';
                
                // Adjust grid layouts
                const grids = document.querySelectorAll('.features-grid, .documents-grid');
                grids.forEach(grid => {
                    if (window.innerWidth <= 1024) {
                        grid.style.gridTemplateColumns = 'repeat(2, 1fr)';
                    }
                });
            }
        }
        
        // SETUP SCROLL EFFECTS
        function setupScrollEffects() {
            const header = document.querySelector('.premium-navbar');
            const navLinks = document.querySelectorAll('.nav-link');
            const backToTopBtn = document.getElementById('backToTop');
            
            window.addEventListener('scroll', function() {
                // Header shadow on scroll
                if (header && window.scrollY > 50) {
                    header.classList.add('scrolled');
                } else if (header) {
                    header.classList.remove('scrolled');
                }
                
                // Back to top button
                if (backToTopBtn) {
                    if (window.scrollY > 300) {
                        backToTopBtn.classList.add('visible');
                    } else {
                        backToTopBtn.classList.remove('visible');
                    }
                }
                
                // Update active nav link based on scroll position
                if (!isChatOpen) {
                    const sections = document.querySelectorAll('section[id]');
                    let currentSection = '';
                    
                    sections.forEach(function(section) {
                        const sectionTop = section.offsetTop - 100;
                        const sectionHeight = section.clientHeight;
                        if (scrollY >= sectionTop && scrollY < sectionTop + sectionHeight) {
                            currentSection = section.getAttribute('id') || 'home';
                        }
                    });
                    
                    navLinks.forEach(function(link) {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === '#' + currentSection) {
                            link.classList.add('active');
                        }
                    });
                    
                    // Update mobile links
                    const mobileLinks = document.querySelectorAll('.mobile-link');
                    mobileLinks.forEach(function(link) {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === '#' + currentSection) {
                            link.classList.add('active');
                        }
                    });
                }
            });
            
            // Back to top functionality
            if (backToTopBtn) {
                backToTopBtn.addEventListener('click', function() {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            }
        }
        
        // SETUP MOBILE MENU
        function setupMobileMenu() {
            const mobileToggle = document.getElementById('mobileToggle');
            const mobileMenu = document.getElementById('mobileMenu');
            const mobileClose = document.getElementById('mobileClose');
            const mobileLinks = document.querySelectorAll('.mobile-link');
            const mobileStartChat = document.getElementById('mobileStartChat');
            
            if (mobileToggle) {
                mobileToggle.addEventListener('click', function() {
                    isMobileMenuOpen = !isMobileMenuOpen;
                    if (mobileMenu) {
                        if (isMobileMenuOpen) {
                            mobileMenu.style.display = 'block';
                            setTimeout(function() {
                                mobileMenu.style.opacity = '1';
                            }, 10);
                            // Prevent background scrolling
                            document.body.style.overflow = 'hidden';
                        } else {
                            mobileMenu.style.opacity = '0';
                            setTimeout(function() {
                                mobileMenu.style.display = 'none';
                            }, 300);
                            // Restore scrolling
                            document.body.style.overflow = '';
                        }
                        this.innerHTML = isMobileMenuOpen ? 
                            '<i class="fas fa-times"></i>' : 
                            '<i class="fas fa-bars"></i>';
                    }
                });
            }
            
            if (mobileClose) {
                mobileClose.addEventListener('click', function() {
                    isMobileMenuOpen = false;
                    if (mobileMenu) {
                        mobileMenu.style.opacity = '0';
                        setTimeout(function() {
                            mobileMenu.style.display = 'none';
                        }, 300);
                        // Restore scrolling
                        document.body.style.overflow = '';
                        if (mobileToggle) {
                            mobileToggle.innerHTML = '<i class="fas fa-bars"></i>';
                        }
                    }
                });
            }
            
            // Close menu when clicking a link
            mobileLinks.forEach(function(link) {
                link.addEventListener('click', function(e) {
                    if (this.getAttribute('href') !== '#chat') {
                        e.preventDefault();
                        const targetId = this.getAttribute('href').substring(1);
                        const targetSection = document.getElementById(targetId);
                        if (targetSection) {
                            targetSection.scrollIntoView({ behavior: 'smooth' });
                        }
                    }
                    
                    isMobileMenuOpen = false;
                    if (mobileMenu) {
                        mobileMenu.style.opacity = '0';
                        setTimeout(function() {
                            mobileMenu.style.display = 'none';
                        }, 300);
                        // Restore scrolling
                        document.body.style.overflow = '';
                        if (mobileToggle) {
                            mobileToggle.innerHTML = '<i class="fas fa-bars"></i>';
                        }
                    }
                });
            });
            
            // Mobile start chat button
            if (mobileStartChat) {
                mobileStartChat.addEventListener('click', function(e) {
                    e.preventDefault();
                    startChat();
                    if (mobileMenu) {
                        mobileMenu.style.opacity = '0';
                        setTimeout(function() {
                            mobileMenu.style.display = 'none';
                        }, 300);
                        isMobileMenuOpen = false;
                        // Restore scrolling
                        document.body.style.overflow = '';
                        if (mobileToggle) {
                            mobileToggle.innerHTML = '<i class="fas fa-bars"></i>';
                        }
                    }
                });
            }
            
            // Close menu when clicking outside
            if (mobileMenu) {
                mobileMenu.addEventListener('click', function(e) {
                    if (e.target === this) {
                        isMobileMenuOpen = false;
                        this.style.opacity = '0';
                        setTimeout(function() {
                            this.style.display = 'none';
                        }, 300);
                        // Restore scrolling
                        document.body.style.overflow = '';
                        if (mobileToggle) {
                            mobileToggle.innerHTML = '<i class="fas fa-bars"></i>';
                        }
                    }
                });
            }
        }
        
        // Load Lawyers
        function loadLawyers(specialization = 'all') {
            const lawyersGrid = document.getElementById('lawyersGrid');
            if (!lawyersGrid) return;
            
            let filteredLawyers = lawyers;
            if (specialization !== 'all') {
                filteredLawyers = lawyers.filter(lawyer => lawyer.specialization === specialization);
            }
            
            lawyersGrid.innerHTML = '';
            
            filteredLawyers.forEach(lawyer => {
                const lawyerCard = document.createElement('div');
                lawyerCard.className = 'lawyer-card premium-card';
                
                lawyerCard.innerHTML = `
                    <div class="lawyer-avatar">
                        <i class="fas fa-user-tie"></i>
                    </div>
                    <div class="lawyer-info">
                        <h3 class="lawyer-name">${lawyer.name}</h3>
                        <div class="lawyer-specialization">
                            <i class="fas fa-briefcase"></i>
                            <span>${lawyer.specialization.charAt(0).toUpperCase() + lawyer.specialization.slice(1)} Law</span>
                        </div>
                        <div class="lawyer-details">
                            <div class="detail">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>${lawyer.location}</span>
                            </div>
                            <div class="detail">
                                <i class="fas fa-history"></i>
                                <span>${lawyer.experience} years</span>
                            </div>
                            <div class="detail">
                                <i class="fas fa-star"></i>
                                <span>${lawyer.rating}/5</span>
                            </div>
                            <div class="detail">
                                <i class="fas fa-rupee-sign"></i>
                                <span>${lawyer.fee}</span>
                            </div>
                        </div>
                        <button class="btn-contact" onclick="contactLawyer(${lawyer.id})">
                            <i class="fas fa-phone"></i>
                            Contact Lawyer
                        </button>
                    </div>
                `;
                
                lawyersGrid.appendChild(lawyerCard);
            });
            
            // Setup filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    const spec = this.getAttribute('data-specialization');
                    loadLawyers(spec);
                });
            });
        }
        
        // Contact Lawyer
        function contactLawyer(lawyerId) {
            const lawyer = lawyers.find(l => l.id === lawyerId);
            if (lawyer) {
                showToast(`Connecting you with ${lawyer.name}...`, 'info');
                // In a real app, this would initiate a call or chat
                setTimeout(() => {
                    alert(`Contact Information:\n\nName: ${lawyer.name}\nSpecialization: ${lawyer.specialization}\nLocation: ${lawyer.location}\nFee: ${lawyer.fee}\n\nPlease note: This is a demo. In the real app, you would be able to call or message the lawyer directly.`);
                }, 1000);
            }
        }
        
        // Search Lawyers
        function searchLawyers() {
            const searchInput = document.getElementById('lawyerSearch');
            if (!searchInput) return;
            
            const query = searchInput.value.toLowerCase().trim();
            if (!query) {
                loadLawyers('all');
                return;
            }
            
            const filteredLawyers = lawyers.filter(lawyer => 
                lawyer.name.toLowerCase().includes(query) ||
                lawyer.specialization.toLowerCase().includes(query) ||
                lawyer.location.toLowerCase().includes(query)
            );
            
            const lawyersGrid = document.getElementById('lawyersGrid');
            if (!lawyersGrid) return;
            
            lawyersGrid.innerHTML = '';
            
            if (filterLawyers.length === 0) {
                lawyersGrid.innerHTML = '<div class="no-results">No lawyers found matching your search criteria.</div>';
                return;
            }
            
            filteredLawyers.forEach(lawyer => {
                const lawyerCard = document.createElement('div');
                lawyerCard.className = 'lawyer-card premium-card';
                
                lawyerCard.innerHTML = `
                    <div class="lawyer-avatar">
                        <i class="fas fa-user-tie"></i>
                    </div>
                    <div class="lawyer-info">
                        <h3 class="lawyer-name">${lawyer.name}</h3>
                        <div class="lawyer-specialization">
                            <i class="fas fa-briefcase"></i>
                            <span>${lawyer.specialization.charAt(0).toUpperCase() + lawyer.specialization.slice(1)} Law</span>
                        </div>
                        <div class="lawyer-details">
                            <div class="detail">
                                <i class="fas fa-map-marker-alt"></i>
                                <span>${lawyer.location}</span>
                            </div>
                            <div class="detail">
                                <i class="fas fa-history"></i>
                                <span>${lawyer.experience} years</span>
                            </div>
                            <div class="detail">
                                <i class="fas fa-star"></i>
                                <span>${lawyer.rating}/5</span>
                            </div>
                            <div class="detail">
                                <i class="fas fa-rupee-sign"></i>
                                <span>${lawyer.fee}</span>
                            </div>
                        </div>
                        <button class="btn-contact" onclick="contactLawyer(${lawyer.id})">
                            <i class="fas fa-phone"></i>
                            Contact Lawyer
                        </button>
                    </div>
                `;
                
                lawyersGrid.appendChild(lawyerCard);
            });
        }
        
        // Legal Act Search
        function searchActs() {
            showToast('Opening Legal Acts Search...', 'info');
            // In a real app, this would open a search interface
            alert('Legal Acts Search\n\nSearch through Indian legal acts and statutes:\n\n1. Indian Penal Code (IPC)\n2. Code of Criminal Procedure (CrPC)\n3. Code of Civil Procedure (CPC)\n4. Indian Evidence Act\n5. Consumer Protection Act\n6. Transfer of Property Act\n7. Contract Act\n8. Constitution of India\n\nThis feature would allow detailed search and browsing in the complete version.');
        }
        
        // Case Law Search
        function searchCaseLaws() {
            showToast('Searching Case Laws...', 'info');
            // In a real app, this would search a case law database
            alert('Case Law Search\n\nSearch through:\n- Supreme Court Judgments\n- High Court Judgments\n- Landmark Cases\n- Recent Judgments\n\nThis feature would connect to a legal database in the complete version.');
        }
        
        // Open Legal Calculator
        function openLegalCalculator(type = 'court-fee') {
            showToast('Opening Legal Calculator...', 'info');
            // In a real app, this would open a calculator interface
            alert('Legal Calculator\n\nChoose from:\n- Court Fee Calculator\n- Stamp Duty Calculator\n- Compensation Calculator\n- Interest Calculator\n\nThis feature would provide interactive calculators in the complete version.');
        }
        
        // Generate Document
        function generateDocument(type) {
            showToast(`Generating ${type.replace('-', ' ')} document...`, 'info');
            
            // In a real app, this would open a form to fill details
            setTimeout(() => {
                const modal = document.createElement('div');
                modal.className = 'modal';
                modal.id = 'documentModal';
                modal.innerHTML = `
                    <div class="modal-overlay" onclick="closeModal('documentModal')"></div>
                    <div class="modal-content">
                        <button class="modal-close" onclick="closeModal('documentModal')">
                            <i class="fas fa-times"></i>
                        </button>
                        <div class="modal-header">
                            <div class="modal-icon legal-seal">
                                <i class="fas fa-file-contract"></i>
                            </div>
                            <h3>Generate ${type.replace('-', ' ').toUpperCase()}</h3>
                            <p>Fill in the details below</p>
                        </div>
                        <div class="modal-body">
                            <div class="form-group">
                                <label>Parties Information</label>
                                <input type="text" id="party1" placeholder="First Party Name" class="form-input">
                                <input type="text" id="party2" placeholder="Second Party Name" class="form-input">
                            </div>
                            <div class="form-group">
                                <label>Date</label>
                                <input type="date" id="agreementDate" class="form-input" value="${new Date().toISOString().split('T')[0]}">
                            </div>
                            <div class="form-group">
                                <label>Additional Details</label>
                                <textarea id="additionalDetails" placeholder="Any specific terms or conditions..." class="form-textarea" rows="3"></textarea>
                            </div>
                            <div class="form-group">
                                <label>Document Format</label>
                                <select id="docFormat" class="form-select">
                                    <option value="PDF">PDF Document</option>
                                    <option value="DOC">Word Document</option>
                                    <option value="TXT">Text File</option>
                                </select>
                            </div>
                            <button class="btn-generate-final" onclick="finalizeDocument('${type}')">
                                <i class="fas fa-magic"></i>
                                Generate Document
                            </button>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(modal);
                modal.style.display = 'flex';
                document.body.classList.add('modal-open');
            }, 500);
        }
        
        // Finalize Document Generation
        function finalizeDocument(type) {
            const party1 = document.getElementById('party1')?.value || 'Party A';
            const party2 = document.getElementById('party2')?.value || 'Party B';
            const date = document.getElementById('agreementDate')?.value || new Date().toISOString().split('T')[0];
            const format = document.getElementById('docFormat')?.value || 'PDF';
            
            showToast(`Generating ${format} document...`, 'success');
            
            setTimeout(() => {
                closeModal('documentModal');
                showToast(`${type.replace('-', ' ')} document generated successfully!`, 'success');
                
                // In a real app, this would download the document
                const blob = new Blob([`LEGAL DOCUMENT\n\nType: ${type}\nParties: ${party1} and ${party2}\nDate: ${date}\n\nThis is a sample generated document. In the complete version, this would be a fully formatted legal document.`], 
                    { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `${type}_${date}.txt`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }, 1500);
        }
        
        // Open Legal Guide
        function openGuide(guideType) {
            const guides = {
                'file-case': {
                    title: 'How to File a Case in India',
                    steps: [
                        '1. Consult a Lawyer: Get professional legal advice',
                        '2. Prepare Documents: Collect all relevant documents',
                        '3. Draft Plaint/Petition: Prepare the legal document',
                        '4. Pay Court Fees: Calculate and pay required fees',
                        '5. File in Appropriate Court: Submit to correct jurisdiction',
                        '6. Get Case Number: Receive unique case identifier',
                        '7. Serve Notice: Notify the opposite party',
                        '8. Attend Hearings: Participate in court proceedings'
                    ]
                },
                'registration': {
                    title: 'Document Registration Process',
                    steps: [
                        '1. Prepare Original Document',
                        '2. Pay Stamp Duty (based on property value)',
                        '3. Get Witnesses (minimum 2 required)',
                        '4. Visit Sub-Registrar Office',
                        '5. Submit Documents for Verification',
                        '6. Pay Registration Fees',
                        '7. Biometric Verification',
                        '8. Receive Registered Document'
                    ]
                },
                'consumer-complaint': {
                    title: 'Consumer Complaint Process',
                    steps: [
                        '1. Collect Evidence (bills, receipts, correspondence)',
                        '2. Send Legal Notice to opposite party',
                        '3. Wait for Reply (30 days)',
                        '4. File Complaint in Consumer Forum',
                        '5. Pay Required Fees',
                        '6. Attend Mediation/Conciliation',
                        '7. Participate in Hearings',
                        '8. Receive Order/Compensation'
                    ]
                }
            };
            
            const guide = guides[guideType];
            if (!guide) return;
            
            const modal = document.createElement('div');
            modal.className = 'modal';
            modal.id = 'guideModal';
            modal.innerHTML = `
                <div class="modal-overlay" onclick="closeModal('guideModal')"></div>
                <div class="modal-content">
                    <button class="modal-close" onclick="closeModal('guideModal')">
                        <i class="fas fa-times"></i>
                    </button>
                    <div class="modal-header">
                        <div class="modal-icon legal-seal">
                            <i class="fas fa-book-open"></i>
                        </div>
                        <h3>${guide.title}</h3>
                        <p>Step-by-step guide</p>
                    </div>
                    <div class="modal-body">
                        <div class="guide-content">
                            <div class="guide-steps">
                                ${guide.steps.map(step => `<div class="guide-step">${step}</div>`).join('')}
                            </div>
                            <div class="guide-tips">
                                <h4><i class="fas fa-lightbulb"></i> Important Tips:</h4>
                                <ul>
                                    <li>Always keep copies of all documents</li>
                                    <li>Meet all deadlines strictly</li>
                                    <li>Consult a lawyer for complex matters</li>
                                    <li>Maintain proper communication records</li>
                                </ul>
                            </div>
                            <button class="btn-download-guide" onclick="downloadGuide('${guideType}')">
                                <i class="fas fa-download"></i>
                                Download This Guide
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            modal.style.display = 'flex';
            document.body.classList.add('modal-open');
        }
        
        // Download Guide
        function downloadGuide(guideType) {
            const guideContent = {
                'file-case': 'How to File a Case in India - Complete Guide.pdf',
                'registration': 'Document Registration Process Guide.pdf',
                'consumer-complaint': 'Consumer Complaint Process Guide.pdf'
            };
            
            const filename = guideContent[guideType] || 'Legal_Guide.pdf';
            showToast(`Downloading ${filename}...`, 'success');
            
            // In a real app, this would download the actual guide
            const blob = new Blob(['This would be the complete guide document in PDF format.'], 
                { type: 'application/pdf' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        
        // Close Modal
        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'none';
                document.body.classList.remove('modal-open');
                setTimeout(() => {
                    modal.remove();
                }, 300);
            }
        }
        
        // SIMPLE GOOGLE AUTH
        function initializeSimpleGoogleAuth() {
            console.log(' Initializing Google Authentication...');
            
            if (typeof google === 'undefined') {
                console.warn(' Google Identity Services not loaded yet, will retry...');
                setTimeout(initializeSimpleGoogleAuth, 1000);
                return;
            }
            
            try {
                google.accounts.id.initialize({
                    client_id: '166511615962-bohur5q8d4i5hud6icr4185kcte9enk8.apps.googleusercontent.com',
                    callback: handleGoogleCredentialResponse,
                    auto_select: false,
                    cancel_on_tap_outside: true,
                    context: 'signin',
                    itp_support: false,
                    ux_mode: isMobile ? 'popup' : 'popup'
                });
                
                googleGISInitialized = true;
                console.log(' Google Authentication initialized');
                
            } catch (error) {
                console.error(' Google Authentication initialization failed:', error);
            }
        }
        
        // RENDER GOOGLE SIGN-IN BUTTON
        function renderGoogleSignInButton() {
            try {
                const container = document.getElementById('googleSignInContainer');
                if (!container || !googleGISInitialized) {
                    console.log(' Google Sign-In container not found or GIS not initialized');
                    const customBtn = document.getElementById('customGoogleBtn');
                    if (customBtn) customBtn.style.display = 'flex';
                    return;
                }
                
                // Clear the container first
                container.innerHTML = '';
                
                // Render Google Sign-In button with mobile optimization
                const buttonSize = isMobile ? 'large' : 'large';
                const buttonWidth = isMobile ? '100%' : '400';
                
                google.accounts.id.renderButton(
                    container,
                    {
                        theme: 'outline',
                        size: buttonSize,
                        text: 'signin_with',
                        shape: 'rectangular',
                        logo_alignment: 'left',
                        width: buttonWidth,
                        locale: 'en_US'
                    }
                );
                
                console.log(' Google Sign-In button rendered');
                const customBtn = document.getElementById('customGoogleBtn');
                if (customBtn) customBtn.style.display = 'none';
                
            } catch (error) {
                console.error(' Failed to render Google Sign-In button:', error);
                const customBtn = document.getElementById('customGoogleBtn');
                if (customBtn) customBtn.style.display = 'flex';
            }
        }
        
        // HANDLE GOOGLE CREDENTIAL RESPONSE
        function handleGoogleCredentialResponse(response) {
            console.log(' Google credential received');
            
            try {
                const payload = JSON.parse(atob(response.credential.split('.')[1]));
                
                const userData = {
                    id: 'google_' + payload.sub,
                    name: payload.name,
                    email: payload.email,
                    picture: payload.picture,
                    provider: 'google',
                    token: response.credential
                };
                
                console.log(' Google user authenticated:', userData.email);
                
                localStorage.setItem('legal_swami_user', JSON.stringify(userData));
                localStorage.setItem('legal_swami_token', response.credential);
                
                if (window.legalSwamiAPI) {
                    window.legalSwamiAPI.user = userData;
                    window.legalSwamiAPI.token = response.credential;
                }
                
                updateUserUI();
                hideLoginModal();
                
                showToast('Successfully logged in with Google!', 'success');
                
            } catch (error) {
                console.error(' Failed to process Google credential:', error);
                showToast('Login failed. Please try again.', 'error');
            }
        }
        
        // CHECK FOR EXISTING USER
        function checkExistingUser() {
            console.log(' Checking for existing user...');
            
            const userStr = localStorage.getItem('legal_swami_user');
            if (userStr) {
                try {
                    const user = JSON.parse(userStr);
                    console.log(' Found existing user:', user.name);
                    
                    if (window.legalSwamiAPI) {
                        window.legalSwamiAPI.user = user;
                        window.legalSwamiAPI.token = localStorage.getItem('legal_swami_token');
                    }
                    
                    updateUserUI();
                    return;
                } catch (e) {
                    console.error('Error parsing user data:', e);
                    localStorage.removeItem('legal_swami_user');
                    localStorage.removeItem('legal_swami_token');
                }
            }
            
            updateUserUI();
        }
        
        // UPDATE USER UI
        function updateUserUI() {
            console.log(' Updating user UI...');
            
            const userProfile = document.getElementById('userProfile');
            const headerLoginBtn = document.getElementById('headerLoginBtn');
            
            if (!userProfile || !headerLoginBtn) {
                console.warn(' User UI elements not found');
                return;
            }
            
            let user = null;
            const userStr = localStorage.getItem('legal_swami_user');
            
            if (userStr) {
                try {
                    user = JSON.parse(userStr);
                } catch (e) {
                    console.error('Error parsing user data:', e);
                }
            }
            
            if (user && user.id) {
                console.log(' User logged in:', user.name);
                
                headerLoginBtn.style.display = 'none';
                userProfile.style.display = 'flex';
                
                const userName = document.getElementById('userName');
                const userEmail = document.getElementById('userEmail');
                const userAvatar = document.getElementById('userAvatar');
                
                if (userName) userName.textContent = user.name || 'User';
                if (userEmail) userEmail.textContent = user.email || '';
                
                if (userAvatar) {
                    userAvatar.innerHTML = '';
                    if (user.picture) {
                        const img = document.createElement('img');
                        img.src = user.picture;
                        img.alt = user.name;
                        img.style.width = '100%';
                        img.style.height = '100%';
                        img.style.borderRadius = '8px';
                        img.style.objectFit = 'cover';
                        userAvatar.appendChild(img);
                    } else {
                        const initials = user.name ? user.name.charAt(0).toUpperCase() : 'U';
                        const span = document.createElement('span');
                        span.textContent = initials;
                        span.style.fontSize = '14px';
                        span.style.fontWeight = '600';
                        userAvatar.appendChild(span);
                    }
                }
                
            } else {
                console.log(' No user logged in, showing login button');
                
                headerLoginBtn.style.display = 'flex';
                userProfile.style.display = 'none';
                
                if (!localStorage.getItem('legalSwamiGuestId')) {
                    localStorage.setItem('legalSwamiGuestId', 'guest_' + Date.now());
                }
            }
        }
        
        // SETUP ALL EVENT LISTENERS
        function setupEventListeners() {
            console.log(' Setting up event listeners');
            
            // Header login button
            const headerLoginBtn = document.getElementById('headerLoginBtn');
            if (headerLoginBtn) {
                console.log(' Found header login button');
                headerLoginBtn.addEventListener('click', showLoginModal);
            } else {
                console.error(' Header login button not found!');
            }
            
            // Logout button
            const logoutBtn = document.getElementById('logoutBtn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', handleLogout);
            }
            
            // Start chat buttons
            const startChatBtn = document.getElementById('startChatBtn');
            if (startChatBtn) {
                startChatBtn.addEventListener('click', startChat);
            }
            
            const heroAssistantBtn = document.getElementById('heroAssistantBtn');
            if (heroAssistantBtn) {
                heroAssistantBtn.addEventListener('click', startChat);
            }
            
            const ctaStartChat = document.getElementById('ctaStartChat');
            if (ctaStartChat) {
                ctaStartChat.addEventListener('click', startChat);
            }
            
            // Mobile start chat button
            const mobileStartChat = document.getElementById('mobileStartChat');
            if (mobileStartChat) {
                mobileStartChat.addEventListener('click', function(e) {
                    e.preventDefault();
                    startChat();
                });
            }
            
            // Watch demo button
            const watchDemo = document.getElementById('watchDemo');
            if (watchDemo) {
                watchDemo.addEventListener('click', showDemo);
            }
            
            // Pricing buttons
            const freePlanBtn = document.getElementById('freePlanBtn');
            if (freePlanBtn) {
                freePlanBtn.addEventListener('click', startChat);
            }
            
            const proPlanBtn = document.getElementById('proPlanBtn');
            if (proPlanBtn) {
                proPlanBtn.addEventListener('click', showLoginModal);
            }
            
            const businessPlanBtn = document.getElementById('businessPlanBtn');
            if (businessPlanBtn) {
                businessPlanBtn.addEventListener('click', function() {
                    showToast('Contact sales feature coming soon!', 'info');
                });
            }
            
            // Login modal buttons
            const closeLoginModal = document.getElementById('closeLoginModal');
            if (closeLoginModal) {
                closeLoginModal.addEventListener('click', hideLoginModal);
            }
            
            const demoLoginBtn = document.getElementById('demoLoginBtn');
            if (demoLoginBtn) {
                demoLoginBtn.addEventListener('click', handleDemoLogin);
            }
            
            const customGoogleBtn = document.getElementById('customGoogleBtn');
            if (customGoogleBtn) {
                customGoogleBtn.addEventListener('click', handleCustomGoogleLogin);
            }
            
            // Modal overlay click to close
            const loginModal = document.getElementById('loginModal');
            if (loginModal) {
                loginModal.addEventListener('click', function(e) {
                    if (e.target === this || e.target.classList.contains('modal-overlay')) {
                        hideLoginModal();
                    }
                });
            }
            
            // Chat interface
            const backToHome = document.getElementById('backToHome');
            if (backToHome) {
                backToHome.addEventListener('click', goBackToHome);
            }
            
            const clearChat = document.getElementById('clearChat');
            if (clearChat) {
                clearChat.addEventListener('click', clearChatHandler);
            }
            
            const exportChat = document.getElementById('exportChat');
            if (exportChat) {
                exportChat.addEventListener('click', exportChatHandler);
            }
            
            const sendMessage = document.getElementById('sendMessage');
            if (sendMessage) {
                sendMessage.addEventListener('click', sendMessageHandler);
            }
            
            const attachFile = document.getElementById('attachFile');
            if (attachFile) {
                attachFile.addEventListener('click', attachFileHandler);
            }
            
            const voiceInput = document.getElementById('voiceInput');
            if (voiceInput) {
                voiceInput.addEventListener('click', startVoiceInput);
            }
            
            // Message input handling
            const messageInput = document.getElementById('messageInput');
            if (messageInput) {
                messageInput.addEventListener('keydown', handleInputKeydown);
                messageInput.addEventListener('input', autoResizeTextarea);
                
                // Prevent zoom on focus for mobile
                if (isMobile) {
                    messageInput.addEventListener('focus', function() {
                        setTimeout(() => {
                            this.style.fontSize = '16px';
                        }, 100);
                    });
                }
            }
            
            // Quick questions
            document.querySelectorAll('.quick-btn').forEach(function(btn) {
                btn.addEventListener('click', function() {
                    const question = this.getAttribute('data-question');
                    const messageInput = document.getElementById('messageInput');
                    if (messageInput) {
                        messageInput.value = question;
                        sendMessageHandler();
                    }
                });
            });
            
            // Document generation checkbox
            const generateDocument = document.getElementById('generateDocument');
            if (generateDocument) {
                generateDocument.addEventListener('change', function() {
                    const documentType = document.getElementById('documentType');
                    if (documentType) {
                        documentType.disabled = !this.checked;
                    }
                });
            }
            
            // Legal links
            const termsLink = document.getElementById('termsLink');
            if (termsLink) {
                termsLink.addEventListener('click', showTerms);
            }
            
            const privacyLink = document.getElementById('privacyLink');
            if (privacyLink) {
                privacyLink.addEventListener('click', showPrivacy);
            }
            
            const disclaimerLink = document.getElementById('disclaimerLink');
            if (disclaimerLink) {
                disclaimerLink.addEventListener('click', showDisclaimer);
            }
            
            const cookieLink = document.getElementById('cookieLink');
            if (cookieLink) {
                cookieLink.addEventListener('click', showCookiePolicy);
            }
            
            // Schedule demo button
            const scheduleDemo = document.getElementById('ctaScheduleDemo');
            if (scheduleDemo) {
                scheduleDemo.addEventListener('click', function() {
                    showToast('Demo scheduling feature coming soon!', 'info');
                });
            }
            
            console.log(' All event listeners set up');
        }
        
        // INITIALIZE CHAT
        function initializeChat() {
            // Hide typing indicator initially
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.style.display = 'none';
            }
            
            // Hide chat messages container initially
            const chatMessagesContainer = document.getElementById('chatMessagesContainer');
            if (chatMessagesContainer) {
                chatMessagesContainer.style.display = 'none';
            }
            
            // Mobile chat optimizations
            if (isMobile) {
                // Larger input for mobile
                const messageInput = document.getElementById('messageInput');
                if (messageInput) {
                    messageInput.style.minHeight = '44px';
                    messageInput.style.fontSize = '16px';
                }
                
                // Better mobile chat layout
                const chatMessages = document.getElementById('chatMessages');
                if (chatMessages) {
                    chatMessages.style.padding = '10px';
                }
            }
        }
        
        // AUTO RESIZE TEXTAREA
        function autoResizeTextarea() {
            const textarea = this;
            textarea.style.height = 'auto';
            textarea.style.height = (textarea.scrollHeight) + 'px';
            
            // Limit height on mobile
            if (isMobile && textarea.scrollHeight > 200) {
                textarea.style.height = '200px';
                textarea.style.overflowY = 'auto';
            }
        }
        
        // HANDLE INPUT KEYDOWN
        function handleInputKeydown(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessageHandler();
            }
            
            // Mobile specific: hide keyboard on escape
            if (event.key === 'Escape' && isMobile) {
                this.blur();
            }
        }
        
        // SHOW LOGIN MODAL
        function showLoginModal() {
            console.log(' Showing login modal...');
            
            const modal = document.getElementById('loginModal');
            if (!modal) {
                console.error(' Login modal not found!');
                return;
            }
            
            isLoginModalOpen = true;
            modal.style.display = 'flex';
            document.body.classList.add('modal-open');
            
            // Prevent background scrolling on mobile
            if (isMobile) {
                document.body.style.overflow = 'hidden';
            }
            
            // Render Google Sign-In button
            setTimeout(function() {
                renderGoogleSignInButton();
            }, 100);
            
            console.log(' Login modal shown');
        }
        
        // HIDE LOGIN MODAL
        function hideLoginModal() {
            console.log(' Hiding login modal...');
            
            const modal = document.getElementById('loginModal');
            if (!modal) {
                console.error(' Login modal not found!');
                return;
            }
            
            isLoginModalOpen = false;
            modal.style.display = 'none';
            document.body.classList.remove('modal-open');
            
            // Restore scrolling on mobile
            if (isMobile) {
                document.body.style.overflow = '';
            }
            
            console.log(' Login modal hidden');
        }
        
        // HANDLE CUSTOM GOOGLE LOGIN
        function handleCustomGoogleLogin() {
            console.log(' Custom Google login triggered');
            
            if (!googleGISInitialized) {
                showToast('Google Sign-In is not available. Please use demo login.', 'warning');
                return;
            }
            
            try {
                google.accounts.id.prompt();
            } catch (error) {
                console.error(' Google login failed:', error);
                showToast('Google Sign-In failed. Using demo login instead.', 'warning');
                handleDemoLogin();
            }
        }
        
        // HANDLE DEMO LOGIN
        function handleDemoLogin() {
            console.log(' Demo login triggered');
            
            const demoUsers = [
                {
                    id: 'demo_lawyer_1',
                    name: 'Advocate Rajesh Kumar',
                    email: 'demo.lawyer@example.com',
                    role: 'lawyer',
                    specialization: 'Corporate Law'
                },
                {
                    id: 'demo_client_1',
                    name: 'Priya Sharma',
                    email: 'demo.client@example.com',
                    role: 'client',
                    caseType: 'Property Dispute'
                },
                {
                    id: 'demo_student_1',
                    name: 'Amit Patel',
                    email: 'demo.student@example.com',
                    role: 'student',
                    institution: 'NLSIU Bangalore'
                }
            ];
            
            const randomUser = demoUsers[Math.floor(Math.random() * demoUsers.length)];
            
            const userData = {
                id: randomUser.id,
                name: randomUser.name,
                email: randomUser.email,
                role: randomUser.role,
                picture: 'https://ui-avatars.com/api/?name=' + encodeURIComponent(randomUser.name) + '&background=1a56db&color=fff&size=128',
                provider: 'demo',
                isDemo: true
            };
            
            localStorage.setItem('legal_swami_user', JSON.stringify(userData));
            localStorage.setItem('legal_swami_token', 'demo_token_' + Date.now());
            
            if (window.legalSwamiAPI) {
                window.legalSwamiAPI.user = userData;
                window.legalSwamiAPI.token = 'demo_token';
            }
            
            updateUserUI();
            hideLoginModal();
            showToast('Welcome ' + userData.name + '! (Demo Mode)', 'success');
        }
        
        // HANDLE LOGOUT
        function handleLogout() {
            console.log(' Logging out...');
            
            const userStr = localStorage.getItem('legal_swami_user');
            if (userStr) {
                try {
                    const user = JSON.parse(userStr);
                    if (user.provider === 'google') {
                        try {
                            google.accounts.id.revoke(user.email, function(done) {
                                console.log(' Google access revoked');
                            });
                        } catch (e) {
                            console.warn('Could not revoke Google access:', e);
                        }
                    }
                } catch (e) {
                    console.error('Error parsing user data:', e);
                }
            }
            
            localStorage.removeItem('legal_swami_token');
            localStorage.removeItem('legal_swami_user');
            
            if (window.legalSwamiAPI) {
                window.legalSwamiAPI.token = null;
                window.legalSwamiAPI.user = null;
            }
            
            updateUserUI();
            showToast('Logged out successfully', 'success');
            
            // Go back to home if in chat interface
            if (isChatOpen) {
                goBackToHome();
            }
        }
        
        // INITIALIZE APP WITH BACKEND
        async function initializeAppWithBackend() {
            console.log(' Initializing app with backend...');
            
            try {
                const backendUrl = 'https://legal-swami-backend.onrender.com';
                
                if (!window.legalSwamiAPI) {
                    window.legalSwamiAPI = {
                        token: localStorage.getItem('legal_swami_token'),
                        user: null,
                        sendMessage: async function(message, attachments, chatId) {
                            console.log(' Sending message to backend:', message.substring(0, 50));
                            
                            const userId = this.user ? this.user.id : 'guest_' + Date.now();
                            
                            const response = await fetch(backendUrl + '/api/v1/chat/send', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json',
                                    'x-user-id': userId,
                                    'x-request-id': 'req_' + Date.now()
                                },
                                body: JSON.stringify({
                                    message: message,
                                    generateDocument: document.getElementById('generateDocument') ? document.getElementById('generateDocument').checked : false,
                                    language: selectedLanguage
                                })
                            });
                            
                            if (!response.ok) {
                                throw new Error('HTTP ' + response.status + ': ' + await response.text());
                            }
                            
                            return await response.json();
                        },
                        getChatHistory: async function(page, size) {
                            page = page || 0;
                            size = size || 10;
                            const userId = this.user ? this.user.id : 'guest';
                            
                            const response = await fetch(
                                backendUrl + '/api/v1/chat/history?userId=' + userId + '&page=' + page + '&size=' + size,
                                {
                                    headers: {
                                        'x-user-id': userId,
                                        'x-request-id': 'req_' + Date.now()
                                    }
                                }
                            );
                            
                            if (!response.ok) {
                                throw new Error('HTTP ' + response.status);
                            }
                            
                            return await response.json();
                        }
                    };
                }
                
                // Test backend health
                try {
                    const healthResponse = await fetch(backendUrl + '/api/v1/public/health');
                    if (healthResponse.ok) {
                        const healthData = await healthResponse.json();
                        console.log(' Backend health check passed:', healthData);
                        showToast('Backend connected successfully!', 'success');
                    } else {
                        console.warn(' Backend health check failed:', healthResponse.status);
                    }
                } catch (error) {
                    console.warn(' Backend health check failed:', error.message);
                }
                
                updateUserUI();
                
            } catch (error) {
                console.error(' Initialization failed:', error);
                showToast('Note: Some features may be limited', 'warning');
            }
        }
        
        // START CHAT
        function startChat() {
            console.log(' Starting chat...');
            
            const user = window.legalSwamiAPI ? window.legalSwamiAPI.user : null;
            const token = localStorage.getItem('legal_swami_token');
            const guestId = localStorage.getItem('legalSwamiGuestId');
            
            if (!user && !guestId && !token) {
                showLoginModal();
                showToast('Please login to start chatting', 'warning');
                return;
            }
            
            const chatInterface = document.getElementById('chatInterface');
            const mainContainer = document.querySelector('.main-container');
            
            if (chatInterface) {
                chatInterface.style.display = 'flex';
                isChatOpen = true;
                
                // Mobile specific chat optimizations
                if (isMobile) {
                    chatInterface.style.position = 'fixed';
                    chatInterface.style.top = '0';
                    chatInterface.style.left = '0';
                    chatInterface.style.right = '0';
                    chatInterface.style.bottom = '0';
                    chatInterface.style.zIndex = '2000';
                    document.body.style.overflow = 'hidden';
                    
                    // Focus input after a delay
                    setTimeout(function() {
                        const messageInput = document.getElementById('messageInput');
                        if (messageInput) {
                            messageInput.focus();
                        }
                    }, 500);
                }
                
                console.log(' Chat interface shown');
            }
            
            if (mainContainer && !isMobile) {
                mainContainer.style.background = '#0f172a';
            }
            
            if (!isMobile) {
                document.body.style.overflow = 'hidden';
            }
            
            // Hide welcome screen, show messages
            const chatWelcome = document.getElementById('chatWelcome');
            const chatMessagesContainer = document.getElementById('chatMessagesContainer');
            
            if (chatWelcome) {
                chatWelcome.style.display = 'none';
            }
            
            if (chatMessagesContainer) {
                chatMessagesContainer.style.display = 'flex';
            }
            
            setTimeout(function() {
                const messageInput = document.getElementById('messageInput');
                if (messageInput) {
                    messageInput.focus();
                    console.log(' Message input focused');
                }
            }, 300);
        }
        
        // GO BACK TO HOME
        function goBackToHome() {
            const chatInterface = document.getElementById('chatInterface');
            const mainContainer = document.querySelector('.main-container');
            
            if (chatInterface) {
                chatInterface.style.display = 'none';
                isChatOpen = false;
                console.log(' Chat interface hidden');
            }
            
            if (mainContainer) {
                mainContainer.style.background = '';
            }
            
            // Restore scrolling
            document.body.style.overflow = '';
            
            // Show welcome screen again
            const chatWelcome = document.getElementById('chatWelcome');
            const chatMessagesContainer = document.getElementById('chatMessagesContainer');
            
            if (chatWelcome) {
                chatWelcome.style.display = 'flex';
            }
            
            if (chatMessagesContainer) {
                chatMessagesContainer.style.display = 'none';
            }
            
            // Clear messages
            const chatMessages = document.getElementById('chatMessages');
            if (chatMessages) {
                chatMessages.innerHTML = '';
            }
            
            // Reset message input
            const messageInput = document.getElementById('messageInput');
            if (messageInput) {
                messageInput.value = '';
                messageInput.style.height = 'auto';
            }
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
            console.log(' Returned to home');
        }
        
        // CLEAR CHAT HANDLER
        function clearChatHandler() {
            if (confirm('Are you sure you want to clear the chat? This action cannot be undone.')) {
                const chatMessages = document.getElementById('chatMessages');
                if (chatMessages) {
                    chatMessages.innerHTML = '';
                }
                
                currentChatId = null;
                showToast('Chat cleared successfully', 'success');
                console.log(' Chat cleared');
            }
        }
        
        // EXPORT CHAT HANDLER
        function exportChatHandler() {
            const chatMessages = document.getElementById('chatMessages');
            if (!chatMessages) return;
            
            const messages = chatMessages.querySelectorAll('.message');
            
            let exportText = '================================\n';
            exportText += 'LEGALSWAMI CHAT EXPORT\n';
            exportText += 'Generated on: ' + new Date().toLocaleString() + '\n';
            exportText += 'Language: ' + document.getElementById('languageSelect').value + '\n';
            exportText += '================================\n\n';
            
            messages.forEach(function(message) {
                const isAI = message.classList.contains('ai-message');
                const text = message.querySelector('.message-text') ? message.querySelector('.message-text').textContent : '';
                const time = message.querySelector('.message-time') ? message.querySelector('.message-time').textContent : '';
                
                exportText += (isAI ? ' AI Assistant' : ' You') + ' (' + time + '):\n';
                exportText += text + '\n\n';
                exportText += ''.repeat(50) + '\n\n';
            });
            
            exportText += '\n================================\n';
            exportText += 'END OF CHAT\n';
            exportText += '================================\n\n';
            exportText += 'Disclaimer: This chat is for informational purposes only.\n';
            exportText += 'Please consult a qualified attorney for legal advice.\n';
            
            const blob = new Blob([exportText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'LegalSwami_Chat_' + new Date().toISOString().split('T')[0] + '.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showToast('Chat exported successfully!', 'success');
            console.log(' Chat exported');
        }
        
        // SEND MESSAGE HANDLER
        async function sendMessageHandler() {
            if (isProcessing) {
                console.warn(' Message already being processed');
                return;
            }
            
            const input = document.getElementById('messageInput');
            if (!input) return;
            
            const message = input.value.trim();
            
            if (!message) {
                showToast('Please enter a message', 'warning');
                return;
            }
            
            let userId = 'guest';
            if (window.legalSwamiAPI && window.legalSwamiAPI.user) {
                userId = window.legalSwamiAPI.user.id;
            } else {
                userId = localStorage.getItem('legalSwamiGuestId') || 'guest_' + Date.now();
                localStorage.setItem('legalSwamiGuestId', userId);
            }
            
            isProcessing = true;
            
            try {
                console.log(' Sending message:', message.substring(0, 100));
                
                addMessageToChat(message, true);
                input.value = '';
                input.style.height = 'auto';
                
                showTypingIndicator(true);
                
                const generateDocument = document.getElementById('generateDocument') ? document.getElementById('generateDocument').checked : false;
                const documentType = document.getElementById('documentType') ? document.getElementById('documentType').value : 'PDF';
                
                const backendUrl = 'https://legal-swami-backend.onrender.com';
                const response = await fetch(backendUrl + '/api/v1/chat/send', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'x-user-id': userId,
                        'x-request-id': 'req_' + Date.now(),
                        'x-language': selectedLanguage
                    },
                    body: JSON.stringify({
                        message: message,
                        generateDocument: generateDocument,
                        language: selectedLanguage
                    })
                });
                
                if (!response.ok) {
                    const errorText = await response.text();
                    throw new Error('HTTP ' + response.status + ': ' + errorText);
                }
                
                const data = await response.json();
                console.log(' Received response:', data.id);
                
                addMessageToChat(data.response || 'No response received', false, generateDocument, documentType);
                
            } catch (error) {
                console.error(' Failed to send message:', error);
                addMessageToChat('Sorry, I encountered an error while processing your request. Please try again in a moment. If the problem persists, please check your internet connection.', false);
                showToast('Failed to send message: ' + error.message, 'error');
            } finally {
                isProcessing = false;
                showTypingIndicator(false);
                
                // Scroll to bottom on mobile
                if (isMobile) {
                    const chatMessages = document.getElementById('chatMessages');
                    if (chatMessages) {
                        setTimeout(() => {
                            chatMessages.scrollTop = chatMessages.scrollHeight;
                        }, 100);
                    }
                }
            }
        }
        
        // ADD MESSAGE TO CHAT UI
        function addMessageToChat(content, isUser, isDocument, documentType) {
            isUser = isUser || false;
            isDocument = isDocument || false;
            documentType = documentType || 'PDF';
            
            const chatMessages = document.getElementById('chatMessages');
            if (!chatMessages) return;
            
            const messageDiv = document.createElement('div');
            
            messageDiv.className = 'message ' + (isUser ? 'user-message' : 'ai-message');
            if (isDocument) {
                messageDiv.classList.add('document-message');
            }
            
            const time = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            
            let messageContent = content;
            if (isDocument) {
                messageContent = '<div class="document-header"><div class="document-icon"><i class="fas fa-file-' + 
                    documentType.toLowerCase() + '"></i></div><div class="document-info"><h5>' + 
                    documentType + ' Document Generated</h5><p>Generated on ' + new Date().toLocaleDateString() + 
                    '</p></div></div><div class="message-text">' + content + 
                    '</div><div class="document-actions"><button class="btn-download"><i class="fas fa-download"></i>Download ' + 
                    documentType + '</button><button class="btn-preview"><i class="fas fa-eye"></i>Preview</button></div>';
            } else {
                messageContent = '<div class="message-header"><div class="message-sender">' + 
                    (isUser ? ' You' : ' AI Assistant') + 
                    '</div><div class="message-time">' + time + 
                    '</div></div><div class="message-text">' + formatMessageText(content) + 
                    '</div><div class="message-actions"><button class="message-action-btn" title="Copy"><i class="fas fa-copy"></i></button><button class="message-action-btn" title="Share"><i class="fas fa-share"></i></button><button class="message-action-btn" title="Save"><i class="fas fa-bookmark"></i></button></div>';
            }
            
            messageDiv.innerHTML = '<div class="message-avatar">' + 
                (isUser ? '<i class="fas fa-user"></i>' : '<i class="fas fa-robot"></i>') + 
                '</div><div class="message-content">' + messageContent + '</div>';
            
            chatMessages.appendChild(messageDiv);
            
            // Scroll to bottom
            setTimeout(() => {
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 100);
            
            console.log(' Message added to chat:', isUser ? 'User' : 'AI');
            
            // Add copy functionality
            const copyBtn = messageDiv.querySelector('.message-action-btn');
            if (copyBtn) {
                copyBtn.addEventListener('click', function() {
                    const text = messageDiv.querySelector('.message-text').textContent;
                    navigator.clipboard.writeText(text).then(function() {
                        showToast('Message copied to clipboard!', 'success');
                    });
                });
            }
        }
        
        // FORMAT MESSAGE TEXT
        function formatMessageText(text) {
            text = text.replace(/\n/g, '<br>');
            text = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            text = text.replace(/\*(.*?)\*/g, '<em>$1</em>');
            text = text.replace(/^\s*[-*]\s+(.*)$/gm, '<li>$1</li>');
            text = text.replace(/(<li>.*<\/li>)/gs, '<ul>$1</ul>');
            return text;
        }
        
        // SHOW TYPING INDICATOR
        function showTypingIndicator(show) {
            const indicator = document.getElementById('typingIndicator');
            if (indicator) {
                indicator.style.display = show ? 'flex' : 'none';
                
                if (show) {
                    const chatMessages = document.getElementById('chatMessages');
                    if (chatMessages) {
                        setTimeout(() => {
                            chatMessages.scrollTop = chatMessages.scrollHeight;
                        }, 100);
                    }
                }
            }
        }
        
        // ATTACH FILE HANDLER
        function attachFileHandler() {
            showToast('File attachment feature coming soon in version 2.1!', 'info');
            console.log(' File attachment clicked');
        }
        
        // START VOICE INPUT
        function startVoiceInput() {
            showToast('Voice input feature coming soon in version 2.2!', 'info');
            console.log(' Voice input clicked');
        }
        
        // SHOW DEMO
        function showDemo() {
            window.open('https://www.youtube.com/watch?v=dQw4w9WgXcQ', '_blank');
            console.log(' Demo opened');
        }
        
        // SHOW TERMS
        function showTerms(e) {
            e.preventDefault();
            const terms = 'LEGALSWAMI TERMS OF SERVICE\n\n1. ACCEPTANCE OF TERMS\nBy accessing and using LegalSwami, you agree to be bound by these Terms of Service.\n\n2. SERVICE DESCRIPTION\nLegalSwami is an AI-powered legal assistant providing informational guidance only.\n\n3. NOT LEGAL ADVICE\nThe service does not constitute legal advice. Consult a qualified attorney for legal matters.\n\n4. USER RESPONSIBILITIES\nYou are responsible for the accuracy of information provided to the service.\n\n5. PRIVACY\nYour data is protected as outlined in our Privacy Policy.\n\n6. LIMITATION OF LIABILITY\nLegalSwami is not liable for any damages arising from use of the service.\n\n7. MODIFICATIONS\nWe reserve the right to modify these terms at any time.\n\nLast Updated: ' + new Date().toLocaleDateString();
            
            alert(terms);
            console.log(' Terms of Service shown');
        }
        
        // SHOW PRIVACY POLICY
        function showPrivacy(e) {
            e.preventDefault();
            const privacy = 'LEGALSWAMI PRIVACY POLICY\n\n1. INFORMATION COLLECTION\nWe collect minimal information necessary to provide our services.\n\n2. DATA USAGE\nYour data is used solely to improve service quality and user experience.\n\n3. DATA PROTECTION\nWe implement industry-standard security measures to protect your information.\n\n4. THIRD-PARTY SHARING\nWe do not sell or share your personal data with third parties.\n\n5. COOKIES\nWe use cookies to enhance user experience and analyze service usage.\n\n6. USER RIGHTS\nYou have the right to access, modify, or delete your personal data.\n\n7. CHILDREN\'S PRIVACY\nOur service is not intended for users under 18 years of age.\n\n8. CHANGES TO POLICY\nWe may update this policy periodically.\n\nFor questions: privacy@legalswami.com';
            
            alert(privacy);
            console.log(' Privacy Policy shown');
        }
        
        // SHOW DISCLAIMER
        function showDisclaimer(e) {
            e.preventDefault();
            const disclaimer = ' IMPORTANT LEGAL DISCLAIMER \n\nLEGALSWAMI AI ASSISTANT - DISCLAIMER\n\n1. NATURE OF SERVICE\nLegalSwami is an artificial intelligence assistant designed to provide general legal information and guidance. It is NOT a licensed attorney.\n\n2. NOT LEGAL ADVICE\nThe information provided by LegalSwami does not constitute legal advice and should not be relied upon as such.\n\n3. NO ATTORNEY-CLIENT RELATIONSHIP\nUsing LegalSwami does not create an attorney-client relationship.\n\n4. CONSULT A LAWYER\nFor legal advice specific to your situation, please consult a qualified licensed attorney.\n\n5. ACCURACY OF INFORMATION\nWhile we strive for accuracy, we cannot guarantee the completeness or currentness of information provided.\n\n6. USE AT YOUR OWN RISK\nYou assume all risk for any actions taken based on information from LegalSwami.\n\n7. OFFICIAL DOCUMENTS\nFor official legal documents, court filings, or binding agreements, always consult a licensed attorney.\n\n8. EMERGENCY SITUATIONS\nFor urgent legal matters, contact a lawyer immediately.\n\nBy using LegalSwami, you acknowledge and agree to these terms.';
            
            alert(disclaimer);
            console.log(' Legal Disclaimer shown');
        }
        
        // SHOW COOKIE POLICY
        function showCookiePolicy(e) {
            e.preventDefault();
            alert('COOKIE POLICY\n\nWe use essential cookies for functionality and analytics cookies to improve our service. By continuing to use LegalSwami, you consent to our use of cookies.');
            console.log(' Cookie Policy shown');
        }
        
        // SHOW TOAST NOTIFICATION
        function showToast(message, type) {
            type = type || 'info';
            const container = document.getElementById('toastContainer');
            if (!container) return;
            
            const toast = document.createElement('div');
            toast.className = 'toast toast-' + type;
            
            const icons = {
                success: 'fas fa-check-circle',
                error: 'fas fa-exclamation-circle',
                warning: 'fas fa-exclamation-triangle',
                info: 'fas fa-info-circle'
            };
            
            toast.innerHTML = '<i class="' + (icons[type] || icons.info) + '"></i><span>' + message + '</span>';
            
            container.appendChild(toast);
            
            // Position toast based on device
            if (isMobile) {
                toast.style.bottom = '70px'; // Above mobile keyboard/buttons
                toast.style.maxWidth = '90%';
            }
            
            setTimeout(function() {
                toast.classList.add('fade-out');
                setTimeout(function() {
                    if (toast.parentNode === container) {
                        container.removeChild(toast);
                    }
                }, 300);
            }, 3000);
            
            console.log(' Toast (' + type + '):', message);
        }
        
        // MAKE FUNCTIONS AVAILABLE GLOBALLY
        window.searchActs = searchActs;
        window.searchCaseLaws = searchCaseLaws;
        window.openLegalCalculator = openLegalCalculator;
        window.searchLawyers = searchLawyers;
        window.contactLawyer = contactLawyer;
        window.generateDocument = generateDocument;
        window.openGuide = openGuide;
        window.downloadGuide = downloadGuide;
        window.finalizeDocument = finalizeDocument;
        window.closeModal = closeModal;
        
        console.log(' LegalSwami Premium App Initialization Complete!');
    </script>
</body>
</html>
