<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LegalSwami | AI-Powered Legal Assistant & Document Generator</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/chat.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <!-- Google Client ID -->
    <meta name="google-client-id" 
          content="166511615962-bohur5q8d4i5hud6icr4185kcte9enk8.apps.googleusercontent.com">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚖️</text></svg>">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#0f172a">
    
    <!-- Apple Mobile Web App Capable -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Open Graph / Social Media -->
    <meta property="og:title" content="LegalSwami - AI Legal Assistant">
    <meta property="og:description" content="Get instant legal advice, generate documents, and understand laws with AI">
    <meta property="og:image" content="https://legalswami.com/og-image.jpg">
    <meta property="og:url" content="https://legalswami.com">

    <style>
        /* ChatGPT/DeepSeek Style Chat Interface */
        .chatgpt-style-chat {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0f172a;
            z-index: 3000;
            display: none;
            flex-direction: column;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
        }
        
        .chatgpt-style-chat.active {
            display: flex;
        }
        
        /* Header */
        .chatgpt-header {
            height: 60px;
            background: #1e293b;
            border-bottom: 1px solid #334155;
            display: flex;
            align-items: center;
            padding: 0 20px;
            justify-content: space-between;
            flex-shrink: 0;
        }
        
        .chatgpt-header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .chatgpt-header-right {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .chatgpt-back-btn {
            background: transparent;
            border: none;
            color: #cbd5e1;
            font-size: 18px;
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
            transition: background 0.2s;
        }
        
        .chatgpt-back-btn:hover {
            background: #334155;
        }
        
        .chatgpt-title {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .chatgpt-title-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .chatgpt-title-text h3 {
            color: #fff;
            font-size: 16px;
            font-weight: 600;
            margin: 0;
        }
        
        .chatgpt-title-text p {
            color: #94a3b8;
            font-size: 12px;
            margin: 0;
        }
        
        .chatgpt-header-action {
            background: transparent;
            border: none;
            color: #cbd5e1;
            padding: 8px;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .chatgpt-header-action:hover {
            background: #334155;
        }
        
        /* Main Container */
        .chatgpt-main-container {
            display: flex;
            flex: 1;
            overflow: hidden;
            background: #0f172a;
        }
        
        /* Sidebar */
        .chatgpt-sidebar {
            width: 260px;
            background: #1e293b;
            border-right: 1px solid #334155;
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
            overflow: hidden;
            transition: width 0.3s;
        }
        
        .chatgpt-sidebar.collapsed {
            width: 0;
            border-right: none;
        }
        
        .sidebar-toggle {
            position: absolute;
            top: 70px;
            left: 10px;
            background: #1e293b;
            border: 1px solid #334155;
            color: #cbd5e1;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 3001;
            transition: all 0.3s;
        }
        
        .sidebar-toggle:hover {
            background: #334155;
        }
        
        .new-chat-btn {
            margin: 15px;
            padding: 12px 16px;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: background 0.2s;
        }
        
        .new-chat-btn:hover {
            background: #2563eb;
        }
        
        .sidebar-search {
            padding: 0 15px 15px;
        }
        
        .search-container {
            position: relative;
        }
        
        .search-container i {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #94a3b8;
            font-size: 14px;
        }
        
        .sidebar-search input {
            width: 100%;
            padding: 10px 15px 10px 35px;
            background: #334155;
            border: 1px solid #475569;
            border-radius: 8px;
            color: #e2e8f0;
            font-size: 14px;
        }
        
        .sidebar-search input:focus {
            outline: none;
            border-color: #3b82f6;
        }
        
        .chat-history-title {
            padding: 15px 20px 10px;
            color: #94a3b8;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .chat-history-list {
            flex: 1;
            overflow-y: auto;
            padding: 0 15px 15px;
        }
        
        .chat-history-item {
            padding: 10px 12px;
            margin-bottom: 5px;
            border-radius: 8px;
            color: #cbd5e1;
            font-size: 14px;
            cursor: pointer;
            transition: background 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .chat-history-item:hover {
            background: #334155;
        }
        
        .chat-history-item.active {
            background: #3b82f6;
            color: white;
        }
        
        .chat-history-item i {
            font-size: 12px;
            opacity: 0.7;
        }
        
        .history-empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #94a3b8;
        }
        
        .history-empty-state i {
            font-size: 48px;
            margin-bottom: 15px;
            opacity: 0.5;
        }
        
        .history-empty-state p {
            margin: 10px 0 5px;
            font-size: 14px;
            font-weight: 500;
        }
        
        .history-empty-state small {
            font-size: 12px;
            opacity: 0.7;
        }
        
        /* Chat Area */
        .chatgpt-chat-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            background: #0f172a;
        }
        
        .chatgpt-messages-container {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            padding-bottom: 80px;
        }
        
        .chatgpt-message {
            display: flex;
            gap: 20px;
            padding: 20px 0;
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
        }
        
        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            flex-shrink: 0;
        }
        
        .user-avatar {
            background: linear-gradient(135deg, #10b981, #34d399);
        }
        
        .message-content {
            flex: 1;
        }
        
        .message-content h4 {
            color: #fff;
            font-size: 14px;
            font-weight: 600;
            margin: 0 0 5px 0;
        }
        
        .message-text {
            color: #d1d5db;
            font-size: 15px;
            line-height: 1.6;
            word-wrap: break-word;
        }
        
        .message-text pre {
            background: #1e293b;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 10px 0;
            border: 1px solid #334155;
        }
        
        .message-text code {
            background: #1e293b;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            border: 1px solid #334155;
        }
        
        .message-text ul, .message-text ol {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .message-text li {
            margin-bottom: 5px;
        }
        
        .message-actions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            opacity: 0;
            transition: opacity 0.2s;
        }
        
        .chatgpt-message:hover .message-actions {
            opacity: 1;
        }
        
        .message-action-btn {
            background: #334155;
            border: 1px solid #475569;
            color: #cbd5e1;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .message-action-btn:hover {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }
        
        /* Document Generation Message Styles */
        .document-generation-response {
            background: #1e293b;
            border: 1px solid #334155;
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .document-response-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
        }
        
        .document-response-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
        }
        
        .document-response-title {
            color: #fff;
            font-size: 16px;
            font-weight: 600;
            margin: 0;
        }
        
        .document-response-subtitle {
            color: #94a3b8;
            font-size: 14px;
            margin: 5px 0 0 0;
        }
        
        .document-types-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 12px;
            margin: 20px 0;
        }
        
        .document-type-card {
            background: #0f172a;
            border: 1px solid #334155;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .document-type-card:hover {
            background: #1e293b;
            border-color: #3b82f6;
            transform: translateY(-2px);
        }
        
        .document-type-icon {
            width: 32px;
            height: 32px;
            background: rgba(59, 130, 246, 0.1);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
        }
        
        .document-type-icon i {
            color: #3b82f6;
            font-size: 16px;
        }
        
        .document-type-name {
            color: #fff;
            font-size: 14px;
            font-weight: 500;
            margin: 0 0 5px 0;
        }
        
        .document-type-desc {
            color: #94a3b8;
            font-size: 12px;
            margin: 0;
            line-height: 1.4;
        }
        
        .document-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .btn-generate-doc {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background 0.2s;
        }
        
        .btn-generate-doc:hover {
            background: #2563eb;
        }
        
        .btn-view-templates {
            background: transparent;
            color: #cbd5e1;
            border: 1px solid #475569;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
        }
        
        .btn-view-templates:hover {
            background: #334155;
            border-color: #64748b;
        }
        
        /* Input Area */
        .chatgpt-input-area {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #0f172a;
            border-top: 1px solid #334155;
            padding: 20px;
            padding-bottom: max(20px, env(safe-area-inset-bottom));
            z-index: 1000;
        }
        
        .input-wrapper {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }
        
        .chatgpt-textarea {
            width: 100%;
            min-height: 56px;
            max-height: 200px;
            padding: 16px 52px 16px 16px;
            background: #1e293b;
            border: 1px solid #475569;
            border-radius: 12px;
            color: #fff;
            font-size: 15px;
            line-height: 1.5;
            resize: none;
            outline: none;
            font-family: inherit;
        }
        
        .chatgpt-textarea:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
        }
        
        .send-button {
            position: absolute;
            right: 12px;
            bottom: 12px;
            background: #3b82f6;
            color: white;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        }
        
        .send-button:hover {
            background: #2563eb;
        }
        
        .send-button:disabled {
            background: #475569;
            cursor: not-allowed;
            opacity: 0.5;
        }
        
        .input-options {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
            max-width: 800px;
            margin: 10px auto 0;
        }
        
        .input-tools {
            display: flex;
            gap: 10px;
        }
        
        .tool-btn {
            background: transparent;
            border: none;
            color: #94a3b8;
            padding: 8px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.2s;
        }
        
        .tool-btn:hover {
            background: #334155;
            color: #cbd5e1;
        }
        
        .disclaimer-text {
            color: #94a3b8;
            font-size: 12px;
            text-align: center;
            margin-top: 10px;
            max-width: 800px;
            margin: 10px auto 0;
        }
        
        /* Welcome Screen */
        .chatgpt-welcome {
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 20px;
            text-align: center;
        }
        
        .welcome-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            font-size: 36px;
            color: white;
        }
        
        .welcome-title {
            color: #fff;
            font-size: 32px;
            font-weight: 600;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .welcome-subtitle {
            color: #94a3b8;
            font-size: 18px;
            margin-bottom: 40px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .welcome-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .welcome-feature-card {
            background: #1e293b;
            border: 1px solid #334155;
            border-radius: 12px;
            padding: 20px;
            text-align: left;
            transition: transform 0.2s, border-color 0.2s;
        }
        
        .welcome-feature-card:hover {
            transform: translateY(-5px);
            border-color: #3b82f6;
        }
        
        .welcome-feature-card i {
            font-size: 24px;
            color: #3b82f6;
            margin-bottom: 15px;
            display: block;
        }
        
        .welcome-feature-card h4 {
            color: #fff;
            font-size: 16px;
            font-weight: 600;
            margin: 0 0 10px 0;
        }
        
        .welcome-feature-card p {
            color: #94a3b8;
            font-size: 14px;
            margin: 0;
            line-height: 1.5;
        }
        
        /* Quick Questions */
        .quick-questions-section {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .quick-questions-title {
            color: #94a3b8;
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .quick-buttons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }
        
        .quick-question-btn {
            background: #1e293b;
            border: 1px solid #334155;
            border-radius: 10px;
            padding: 15px;
            color: #cbd5e1;
            font-size: 14px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }
        
        .quick-question-btn:hover {
            background: #334155;
            border-color: #475569;
            transform: translateY(-2px);
        }
        
        .quick-question-btn:before {
            content: '>';
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #94a3b8;
            font-size: 12px;
        }
        
        /* Typing Indicator */
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px 0;
            max-width: 800px;
            margin: 0 auto;
            color: #94a3b8;
            font-size: 14px;
        }
        
        .typing-dots {
            display: flex;
            gap: 4px;
        }
        
        .typing-dots span {
            width: 8px;
            height: 8px;
            background: #3b82f6;
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out both;
        }
        
        .typing-dots span:nth-child(1) {
            animation-delay: -0.32s;
        }
        
        .typing-dots span:nth-child(2) {
            animation-delay: -0.16s;
        }
        
        @keyframes typing {
            0%, 80%, 100% {
                transform: scale(0);
                opacity: 0.5;
            }
            40% {
                transform: scale(1);
                opacity: 1;
            }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .chatgpt-sidebar {
                position: fixed;
                top: 60px;
                left: 0;
                bottom: 0;
                z-index: 3002;
                width: 280px;
                transform: translateX(-100%);
                transition: transform 0.3s;
            }
            
            .chatgpt-sidebar.active {
                transform: translateX(0);
            }
            
            .sidebar-toggle {
                display: none;
            }
            
            .chatgpt-message {
                padding: 15px 0;
                gap: 15px;
            }
            
            .message-avatar {
                width: 32px;
                height: 32px;
            }
            
            .chatgpt-input-area {
                padding: 15px;
            }
            
            .chatgpt-textarea {
                min-height: 52px;
                font-size: 16px;
            }
            
            .welcome-title {
                font-size: 24px;
            }
            
            .welcome-subtitle {
                font-size: 16px;
            }
            
            .document-types-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 480px) {
            .chatgpt-header {
                padding: 0 15px;
                height: 56px;
            }
            
            .chatgpt-title-text h3 {
                font-size: 14px;
            }
            
            .chatgpt-messages-container {
                padding: 15px;
                padding-bottom: 70px;
            }
            
            .welcome-features {
                grid-template-columns: 1fr;
            }
            
            .quick-buttons-grid {
                grid-template-columns: 1fr;
            }
            
            .document-actions {
                flex-direction: column;
            }
            
            .btn-generate-doc, .btn-view-templates {
                width: 100%;
                justify-content: center;
            }
        }

        /* Additional Mobile & Tablet Optimizations */
        @media (max-width: 768px) {
            /* Base font size adjustment for mobile */
            html {
                font-size: 14px;
            }
            
            /* Better touch targets */
            button, 
            .nav-link, 
            .quick-btn, 
            .btn-generate,
            .chat-action-btn,
            .input-action-btn {
                min-height: 44px;
                min-width: 44px;
            }
            
            /* Prevent zoom on input focus */
            input, 
            select, 
            textarea {
                font-size: 16px !important;
            }
            
            /* Mobile chat interface optimization */
            .chat-messages {
                padding: 10px;
            }
            
            .message {
                max-width: 95%;
            }
            
            /* Better mobile navigation */
            .nav-container {
                padding: 0 15px;
            }
            
            /* Mobile hero section optimization */
            .hero-title {
                font-size: 2.2rem;
                line-height: 1.2;
            }
            
            .hero-subtitle {
                font-size: 1rem;
                line-height: 1.5;
            }
            
            /* Mobile button stacking */
            .hero-actions {
                flex-direction: column;
                width: 100%;
            }
            
            .btn-hero-primary,
            .btn-hero-secondary {
                width: 100%;
                margin-bottom: 10px;
            }
            
            /* Mobile grid adjustments */
            .features-grid,
            .documents-grid,
            .pricing-cards {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            /* Fix modal on mobile */
            .modal-content {
                width: 95%;
                max-width: 95%;
                margin: 10px;
            }
            
            /* Mobile footer adjustments */
            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
        }
        
        @media (max-width: 480px) {
            /* Extra small devices */
            .hero-title {
                font-size: 1.8rem;
            }
            
            .section-title {
                font-size: 1.5rem;
            }
            
            .feature-card,
            .document-category,
            .pricing-card {
                padding: 20px 15px;
            }
            
            /* Chat interface for very small screens */
            .chat-header {
                padding: 10px;
            }
            
            .chat-title-text h3 {
                font-size: 1rem;
            }
            
            .message-text {
                font-size: 0.875rem;
                padding: 10px;
            }
            
            /* Input area optimization */
            .input-container {
                flex-wrap: wrap;
            }
            
            textarea#messageInput {
                min-height: 50px;
            }
        }
        
        /* Tablet specific optimizations */
        @media (min-width: 769px) and (max-width: 1024px) {
            .container {
                padding: 0 30px;
            }
            
            .hero-container {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            
            .hero-illustration {
                max-width: 500px;
                margin: 0 auto;
            }
            
            .features-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .pricing-cards {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }
            
            .chat-container {
                max-width: 95%;
            }
        }
        
        /* Additional modal fixes */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .modal-content {
            position: relative;
            background: #1e293b;
            border-radius: 16px;
            max-width: 420px;
            width: 100%;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            z-index: 2001;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid #334155;
        }
        
        /* Fix for iOS input zoom */
        @media screen and (max-width: 767px) {
            input[type="text"],
            input[type="email"],
            input[type="password"],
            textarea {
                font-size: 16px !important;
            }
        }
        
        /* Safe area insets for modern devices */
        @supports (padding: max(0px)) {
            .hero-section,
            .chat-interface {
                padding-left: max(15px, env(safe-area-inset-left));
                padding-right: max(15px, env(safe-area-inset-right));
            }
            
            .chat-input-area {
                padding-bottom: max(15px, env(safe-area-inset-bottom));
            }
        }
        
        /* Prevent pull-to-refresh on mobile */
        body {
            overscroll-behavior-y: contain;
        }
        
        /* Better scrolling on mobile */
        .chat-messages,
        .history-list {
            -webkit-overflow-scrolling: touch;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #1e293b;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #3b82f6;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #1d4ed8;
        }
        
        /* Selection Color */
        ::selection {
            background: rgba(59, 130, 246, 0.3);
            color: #fff;
        }
    </style>
</head>
<body>
    <!-- Premium Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner legal-seal">
                <i class="fas fa-gavel"></i>
            </div>
            <h2 class="shimmer-text mt-4">LegalSwami</h2>
            <p class="text-light">Initializing AI Legal Assistant...</p>
            <div class="progress-bar mt-4">
                <div class="progress-fill"></div>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Premium Navigation Bar -->
        <nav class="premium-navbar">
            <div class="nav-container">
                <!-- Logo with Animation -->
                <div class="nav-logo">
                    <div class="logo-icon legal-seal">
                        <i class="fas fa-gavel gavel-animation"></i>
                    </div>
                    <div class="logo-text">
                        <h1 class="logo-title shimmer-text">LegalSwami</h1>
                        <p class="logo-subtitle">AI Legal Assistant</p>
                    </div>
                </div>

                <!-- Desktop Navigation -->
                <div class="nav-menu">
                    <a href="#home" class="nav-link active" data-scroll="home">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#features" class="nav-link" data-scroll="features">
                        <i class="fas fa-star"></i>
                        <span>Features</span>
                    </a>
                    <a href="#documents" class="nav-link" data-scroll="documents">
                        <i class="fas fa-file-contract"></i>
                        <span>Documents</span>
                    </a>
                    <a href="#legalDatabase" class="nav-link" data-scroll="legalDatabase">
                        <i class="fas fa-database"></i>
                        <span>Legal Database</span>
                    </a>
                    <a href="#lawyerDirectory" class="nav-link" data-scroll="lawyerDirectory">
                        <i class="fas fa-user-tie"></i>
                        <span>Find Lawyers</span>
                    </a>
                    <a href="#pricing" class="nav-link" data-scroll="pricing">
                        <i class="fas fa-tag"></i>
                        <span>Pricing</span>
                    </a>
                </div>

                <!-- User Actions -->
                <div class="nav-actions">
                    <button id="headerLoginBtn" class="btn-login">
                        <i class="fas fa-sign-in-alt"></i>
                        <span>Login</span>
                    </button>
                    
                    <div id="userProfile" class="user-profile" style="display: none;">
                        <div class="profile-avatar">
                            <div id="userAvatar"></div>
                        </div>
                        <div class="profile-info">
                            <span id="userName" class="profile-name"></span>
                            <span id="userEmail" class="profile-email"></span>
                        </div>
                        <button id="logoutBtn" class="btn-logout">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>
                </div>

                <!-- Mobile Menu Toggle -->
                <button class="mobile-toggle" id="mobileToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </nav>

        <!-- Mobile Menu -->
        <div class="mobile-menu-overlay" id="mobileMenu">
            <div class="mobile-menu-container">
                <div class="mobile-menu-header">
                    <div class="logo-icon legal-seal">
                        <i class="fas fa-gavel"></i>
                    </div>
                    <button class="mobile-close" id="mobileClose">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="mobile-menu-links">
                    <a href="#home" class="mobile-link active">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#features" class="mobile-link">
                        <i class="fas fa-star"></i>
                        <span>Features</span>
                    </a>
                    <a href="#documents" class="mobile-link">
                        <i class="fas fa-file-contract"></i>
                        <span>Documents</span>
                    </a>
                    <a href="#legalDatabase" class="mobile-link">
                        <i class="fas fa-database"></i>
                        <span>Legal Database</span>
                    </a>
                    <a href="#lawyerDirectory" class="mobile-link">
                        <i class="fas fa-user-tie"></i>
                        <span>Find Lawyers</span>
                    </a>
                    <a href="#legalGuides" class="mobile-link">
                        <i class="fas fa-book"></i>
                        <span>Legal Guides</span>
                    </a>
                    <a href="#pricing" class="mobile-link">
                        <i class="fas fa-tag"></i>
                        <span>Pricing</span>
                    </a>
                    <a href="#chat" class="mobile-link" id="mobileStartChat">
                        <i class="fas fa-comments"></i>
                        <span>Start Chat</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Hero Section -->
        <section id="home" class="hero-section">
            <div class="hero-container container">
                <!-- Animated Background Elements -->
                <div class="hero-bg-elements">
                    <div class="floating-element floating-icon-1">
                        <i class="fas fa-balance-scale floating"></i>
                    </div>
                    <div class="floating-element floating-icon-2">
                        <i class="fas fa-gavel floating"></i>
                    </div>
                    <div class="floating-element floating-icon-3">
                        <i class="fas fa-scale-balanced floating"></i>
                    </div>
                </div>
                
                <div class="hero-content">
                    <div class="hero-badge">
                        <span class="badge-text">
                            <i class="fas fa-bolt"></i>
                            AI-POWERED LEGAL ASSISTANT
                        </span>
                    </div>
                    
                    <h1 class="hero-title text-reveal">
                        Get <span class="shimmer-text">Instant Legal Help</span><br>
                        From Your AI Assistant
                    </h1>
                    
                    <p class="hero-subtitle">
                        LegalSwami provides 24/7 AI-powered legal guidance, document generation, 
                        and legal research assistance. Get instant answers to your legal questions 
                        in simple, understandable language.
                    </p>
                    
                    <div class="hero-stats">
                        <div class="stat-item">
                            <div class="stat-number shimmer-text">10,000+</div>
                            <div class="stat-label">Legal Documents Generated</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number shimmer-text">50,000+</div>
                            <div class="stat-label">Legal Questions Answered</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number shimmer-text">99.8%</div>
                            <div class="stat-label">User Satisfaction Rate</div>
                        </div>
                    </div>
                    
                    <div class="hero-actions">
                        <button id="startChatBtn" class="btn-hero-primary btn-premium">
                            <i class="fas fa-comments"></i>
                            <span>Start Free Chat Now</span>
                            <div class="btn-sparkle">
                                <i class="fas fa-sparkle"></i>
                            </div>
                        </button>
                        
                        <button id="watchDemo" class="btn-hero-secondary">
                            <i class="fas fa-play-circle"></i>
                            <span>Watch Demo Video</span>
                        </button>
                    </div>
                    
                    <div class="hero-trust">
                        <div class="trust-label">Trusted by</div>
                        <div class="trust-badges">
                            <div class="trust-badge">
                                <i class="fas fa-university"></i>
                                <span>Law Firms</span>
                            </div>
                            <div class="trust-badge">
                                <i class="fas fa-graduation-cap"></i>
                                <span>Law Students</span>
                            </div>
                            <div class="trust-badge">
                                <i class="fas fa-briefcase"></i>
                                <span>Businesses</span>
                            </div>
                            <div class="trust-badge">
                                <i class="fas fa-users"></i>
                                <span>Individuals</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="hero-illustration">
                    <div class="ai-assistant-card premium-card pulse-glow">
                        <div class="assistant-avatar legal-seal">
                            <i class="fas fa-robot"></i>
                        </div>
                        <h3 class="assistant-title">AI Legal Assistant</h3>
                        <p class="assistant-subtitle">Available 24/7</p>
                        
                        <div class="assistant-features">
                            <div class="feature">
                                <i class="fas fa-check-circle"></i>
                                <span>Instant Responses</span>
                            </div>
                            <div class="feature">
                                <i class="fas fa-check-circle"></i>
                                <span>Multi-Language</span>
                            </div>
                            <div class="feature">
                                <i class="fas fa-check-circle"></i>
                                <span>Document Generation</span>
                            </div>
                        </div>
                        
                        <button class="btn-assistant" id="heroAssistantBtn">
                            <i class="fas fa-comment-alt"></i>
                            Ask Legal Question
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Scroll Indicator -->
            <div class="scroll-indicator">
                <div class="mouse">
                    <div class="wheel"></div>
                </div>
                <div class="arrow">
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="features-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">
                        <span class="shimmer-text">Powerful Features</span> for All Your Legal Needs
                    </h2>
                    <p class="section-subtitle">
                        Everything you need in one comprehensive legal assistant
                    </p>
                </div>
                
                <div class="features-grid">
                    <!-- Feature 1 -->
                    <div class="feature-card premium-card">
                        <div class="feature-icon legal-seal">
                            <i class="fas fa-comments"></i>
                        </div>
                        <h3 class="feature-title">AI Chat Assistant</h3>
                        <p class="feature-description">
                            Ask legal questions in natural language and get instant, accurate responses powered by advanced AI.
                        </p>
                        <div class="feature-tags">
                            <span class="tag">24/7 Available</span>
                            <span class="tag">Multi-Language</span>
                        </div>
                    </div>
                    
                    <!-- Feature 2 -->
                    <div class="feature-card premium-card">
                        <div class="feature-icon legal-seal">
                            <i class="fas fa-file-contract"></i>
                        </div>
                        <h3 class="feature-title">Smart Document Generation</h3>
                        <p class="feature-description">
                            Generate legal documents instantly in PDF, DOC, and TXT formats with customizable templates.
                        </p>
                        <div class="feature-tags">
                            <span class="tag">100+ Templates</span>
                            <span class="tag">Customizable</span>
                        </div>
                    </div>
                    
                    <!-- Feature 3 -->
                    <div class="feature-card premium-card">
                        <div class="feature-icon legal-seal">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h3 class="feature-title">Bank-Level Security</h3>
                        <p class="feature-description">
                            End-to-end encryption and secure authentication to protect your sensitive legal data.
                        </p>
                        <div class="feature-tags">
                            <span class="tag">AES-256</span>
                            <span class="tag">GDPR Compliant</span>
                        </div>
                    </div>
                    
                    <!-- Feature 4 -->
                    <div class="feature-card premium-card">
                        <div class="feature-icon legal-seal">
                            <i class="fas fa-history"></i>
                        </div>
                        <h3 class="feature-title">Complete Chat History</h3>
                        <p class="feature-description">
                            Access your complete chat history anytime. Export conversations as documents for record keeping.
                        </p>
                        <div class="feature-tags">
                            <span class="tag">Unlimited History</span>
                            <span class="tag">Export Options</span>
                        </div>
                    </div>
                    
                    <!-- Feature 5 -->
                    <div class="feature-card premium-card">
                        <div class="feature-icon legal-seal">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <h3 class="feature-title">Mobile Responsive</h3>
                        <p class="feature-description">
                            Access LegalSwami from any device - desktop, tablet, or mobile phone with native-like experience.
                        </p>
                        <div class="feature-tags">
                            <span class="tag">PWA Support</span>
                            <span class="tag">Offline Mode</span>
                        </div>
                    </div>
                    
                    <!-- Feature 6 -->
                    <div class="feature-card premium-card">
                        <div class="feature-icon legal-seal">
                            <i class="fas fa-language"></i>
                        </div>
                        <h3 class="feature-title">Multi-Language Support</h3>
                        <p class="feature-description">
                            Get legal advice in multiple languages including Hindi, English, Marathi, Gujarati, and more.
                        </p>
                        <div class="feature-tags">
                            <span class="tag">10+ Languages</span>
                            <span class="tag">Real-time Translation</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Legal Database Section -->
        <section id="legalDatabase" class="database-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">
                        <span class="shimmer-text">Legal Database</span> & Research Tools
                    </h2>
                    <p class="section-subtitle">
                        Access comprehensive legal resources and research materials
                    </p>
                </div>
                
                <div class="database-grid">
                    <!-- Legal Acts Database -->
                    <div class="database-card premium-card">
                        <div class="database-icon">
                            <i class="fas fa-book"></i>
                        </div>
                        <h3 class="database-title">Acts & Statutes</h3>
                        <ul class="database-list">
                            <li><i class="fas fa-search"></i> IPC (Indian Penal Code)</li>
                            <li><i class="fas fa-search"></i> CrPC (Criminal Procedure Code)</li>
                            <li><i class="fas fa-search"></i> CPC (Civil Procedure Code)</li>
                            <li><i class="fas fa-search"></i> Constitution of India</li>
                            <li><i class="fas fa-search"></i> Consumer Protection Act</li>
                        </ul>
                        <button class="btn-database" onclick="searchActs()">
                            <i class="fas fa-search"></i>
                            Search Acts
                        </button>
                    </div>
                    
                    <!-- Case Laws Database -->
                    <div class="database-card premium-card">
                        <div class="database-icon">
                            <i class="fas fa-gavel"></i>
                        </div>
                        <h3 class="database-title">Case Laws Database</h3>
                        <ul class="database-list">
                            <li><i class="fas fa-balance-scale"></i> Supreme Court Judgments</li>
                            <li><i class="fas fa-balance-scale"></i> High Court Judgments</li>
                            <li><i class="fas fa-balance-scale"></i> Landmark Cases</li>
                            <li><i class="fas fa-balance-scale"></i> Recent Judgments</li>
                            <li><i class="fas fa-balance-scale"></i> Case Citations</li>
                        </ul>
                        <button class="btn-database" onclick="searchCaseLaws()">
                            <i class="fas fa-gavel"></i>
                            Search Case Laws
                        </button>
                    </div>
                    
                    <!-- Legal Calculator -->
                    <div class="database-card premium-card">
                        <div class="database-icon">
                            <i class="fas fa-calculator"></i>
                        </div>
                        <h3 class="database-title">Legal Calculators</h3>
                        <ul class="database-list">
                            <li><i class="fas fa-calculator"></i> Court Fee Calculator</li>
                            <li><i class="fas fa-calculator"></i> Stamp Duty Calculator</li>
                            <li><i class="fas fa-calculator"></i> Compensation Calculator</li>
                            <li><i class="fas fa-calculator"></i> Interest Calculator</li>
                            <li><i class="fas fa-calculator"></i> Tax Calculator</li>
                        </ul>
                        <button class="btn-database" onclick="openLegalCalculator()">
                            <i class="fas fa-calculator"></i>
                            Open Calculator
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Document Types Section -->
        <section id="documents" class="documents-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">
                        Generate <span class="shimmer-text">Legal Documents</span> Instantly
                    </h2>
                    <p class="section-subtitle">
                        Professional legal documents at your fingertips
                    </p>
                </div>
                
                <div class="documents-grid">
                    <!-- Document Category 1 -->
                    <div class="document-category premium-card">
                        <div class="category-icon">
                            <i class="fas fa-handshake"></i>
                        </div>
                        <h3 class="category-title">Agreements & Contracts</h3>
                        <ul class="document-list">
                            <li><i class="fas fa-check-circle"></i> Rental Agreement</li>
                            <li><i class="fas fa-check-circle"></i> Non-Disclosure Agreement</li>
                            <li><i class="fas fa-check-circle"></i> Employment Contract</li>
                            <li><i class="fas fa-check-circle"></i> Service Agreement</li>
                            <li><i class="fas fa-check-circle"></i> Partnership Agreement</li>
                        </ul>
                        <button class="btn-generate" onclick="generateDocument('rental-agreement')">
                            <i class="fas fa-magic"></i>
                            Generate Now
                        </button>
                    </div>
                    
                    <!-- Document Category 2 -->
                    <div class="document-category premium-card">
                        <div class="category-icon">
                            <i class="fas fa-balance-scale"></i>
                        </div>
                        <h3 class="category-title">Legal Notices & Letters</h3>
                        <ul class="document-list">
                            <li><i class="fas fa-check-circle"></i> Legal Notice</li>
                            <li><i class="fas fa-check-circle"></i> Cease & Desist Notice</li>
                            <li><i class="fas fa-check-circle"></i> Demand Letter</li>
                            <li><i class="fas fa-check-circle"></i> Notice to Quit</li>
                            <li><i class="fas fa-check-circle"></i> Consumer Complaint</li>
                        </ul>
                        <button class="btn-generate" onclick="generateDocument('legal-notice')">
                            <i class="fas fa-magic"></i>
                            Generate Now
                        </button>
                    </div>
                    
                    <!-- Document Category 3 -->
                    <div class="document-category premium-card">
                        <div class="category-icon">
                            <i class="fas fa-user-tie"></i>
                        </div>
                        <h3 class="category-title">Personal & Family</h3>
                        <ul class="document-list">
                            <li><i class="fas fa-check-circle"></i> Will & Testament</li>
                            <li><i class="fas fa-check-circle"></i> Power of Attorney</li>
                            <li><i class="fas fa-check-circle"></i> Affidavit</li>
                            <li><i class="fas fa-check-circle"></i> Gift Deed</li>
                            <li><i class="fas fa-check-circle"></i> Divorce Papers</li>
                        </ul>
                        <button class="btn-generate" onclick="generateDocument('will-testament')">
                            <i class="fas fa-magic"></i>
                            Generate Now
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Lawyer Directory Section -->
        <section id="lawyerDirectory" class="lawyer-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">
                        Find <span class="shimmer-text">Qualified Lawyers</span>
                    </h2>
                    <p class="section-subtitle">
                        Connect with experienced legal professionals
                    </p>
                </div>
                
                <div class="lawyer-search">
                    <div class="search-container">
                        <i class="fas fa-search"></i>
                        <input type="text" id="lawyerSearch" placeholder="Search by specialization, location, or name...">
                        <button class="btn-search" onclick="searchLawyers()">
                            <i class="fas fa-search"></i>
                            Search
                        </button>
                    </div>
                    
                    <div class="specialization-filters">
                        <button class="filter-btn active" data-specialization="all">All</button>
                        <button class="filter-btn" data-specialization="criminal">Criminal</button>
                        <button class="filter-btn" data-specialization="civil">Civil</button>
                        <button class="filter-btn" data-specialization="corporate">Corporate</button>
                        <button class="filter-btn" data-specialization="family">Family</button>
                        <button class="filter-btn" data-specialization="property">Property</button>
                    </div>
                </div>
                
                <div class="lawyers-grid" id="lawyersGrid">
                    <!-- Lawyers will be dynamically loaded here -->
                </div>
            </div>
        </section>

        <!-- Legal Procedure Guides Section -->
        <section id="legalGuides" class="guides-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">
                        <span class="shimmer-text">Step-by-Step</span> Legal Guides
                    </h2>
                    <p class="section-subtitle">
                        Understand legal procedures with easy-to-follow guides
                    </p>
                </div>
                
                <div class="guides-grid">
                    <div class="guide-card premium-card">
                        <div class="guide-icon">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <h3 class="guide-title">How to File a Case</h3>
                        <p class="guide-description">
                            Complete step-by-step guide for filing different types of cases in Indian courts.
                        </p>
                        <div class="guide-steps">
                            <span class="step">1. Document Preparation</span>
                            <span class="step">2. Court Selection</span>
                            <span class="step">3. Fee Payment</span>
                            <span class="step">4. Case Number</span>
                        </div>
                        <button class="btn-guide" onclick="openGuide('file-case')">
                            <i class="fas fa-book-open"></i>
                            View Guide
                        </button>
                    </div>
                    
                    <div class="guide-card premium-card">
                        <div class="guide-icon">
                            <i class="fas fa-file-contract"></i>
                        </div>
                        <h3 class="guide-title">Document Registration Process</h3>
                        <p class="guide-description">
                            Learn how to register legal documents with proper procedures and fees.
                        </p>
                        <div class="guide-steps">
                            <span class="step">1. Stamp Duty</span>
                            <span class="step">2. Witness Arrangement</span>
                            <span class="step">3. Registration Office</span>
                            <span class="step">4. Final Registration</span>
                        </div>
                        <button class="btn-guide" onclick="openGuide('registration')">
                            <i class="fas fa-book-open"></i>
                            View Guide
                        </button>
                    </div>
                    
                    <div class="guide-card premium-card">
                        <div class="guide-icon">
                            <i class="fas fa-balance-scale"></i>
                        </div>
                        <h3 class="guide-title">Consumer Complaint Process</h3>
                        <p class="guide-description">
                            Guide to filing consumer complaints with proper documentation and procedures.
                        </p>
                        <div class="guide-steps">
                            <span class="step">1. Complaint Drafting</span>
                            <span class="step">2. Evidence Collection</span>
                            <span class="step">3. Forum Selection</span>
                            <span class="step">4. Hearing Process</span>
                        </div>
                        <button class="btn-guide" onclick="openGuide('consumer-complaint')">
                            <i class="fas fa-book-open"></i>
                            View Guide
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section id="testimonials" class="testimonials-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">
                        Trusted by <span class="shimmer-text">Thousands</span> of Users
                    </h2>
                    <p class="section-subtitle">
                        See what our users have to say about LegalSwami
                    </p>
                </div>
                
                <div class="testimonials-carousel">
                    <!-- Testimonial 1 -->
                    <div class="testimonial-card premium-card">
                        <div class="testimonial-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p class="testimonial-text">
                            "LegalSwami helped me draft a professional rental agreement in minutes. The AI understood exactly what I needed and generated a perfect document. Saved me ₹5000 in lawyer fees!"
                        </p>
                        <div class="testimonial-author">
                            <div class="author-avatar">
                                <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Rahul Sharma">
                            </div>
                            <div class="author-info">
                                <h4 class="author-name">Rahul Sharma</h4>
                                <p class="author-title">Small Business Owner</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Testimonial 2 -->
                    <div class="testimonial-card premium-card">
                        <div class="testimonial-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <p class="testimonial-text">
                            "As a law student, LegalSwami is a game-changer! It helps me understand complex legal concepts and provides excellent research assistance. Like having a personal tutor 24/7."
                        </p>
                        <div class="testimonial-author">
                            <div class="author-avatar">
                                <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Priya Patel">
                            </div>
                            <div class="author-info">
                                <h4 class="author-name">Priya Patel</h4>
                                <p class="author-title">Law Student, NLU Delhi</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Testimonial 3 -->
                    <div class="testimonial-card premium-card">
                        <div class="testimonial-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p class="testimonial-text">
                            "The document generation feature saved our startup thousands! We needed multiple NDAs and service agreements. LegalSwami generated perfect documents in minutes. Incredible tool!"
                        </p>
                        <div class="testimonial-author">
                            <div class="author-avatar">
                                <img src="https://randomuser.me/api/portraits/men/67.jpg" alt="Ankit Verma">
                            </div>
                            <div class="author-info">
                                <h4 class="author-name">Ankit Verma</h4>
                                <p class="author-title">Tech Entrepreneur</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Pricing Section -->
        <section id="pricing" class="pricing-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">
                        Simple, <span class="shimmer-text">Transparent</span> Pricing
                    </h2>
                    <p class="section-subtitle">
                        Choose the perfect plan for your legal needs
                    </p>
                </div>
                
                <div class="pricing-cards">
                    <!-- Free Plan -->
                    <div class="pricing-card premium-card">
                        <div class="pricing-badge">FREE</div>
                        <h3 class="pricing-title">Basic</h3>
                        <div class="pricing-price">
                            <span class="currency">₹</span>
                            <span class="amount">0</span>
                            <span class="period">/month</span>
                        </div>
                        <p class="pricing-description">Perfect for trying out LegalSwami</p>
                        
                        <ul class="pricing-features">
                            <li><i class="fas fa-check-circle"></i> 10 AI Chat Messages/Day</li>
                            <li><i class="fas fa-check-circle"></i> 3 Document Generations/Month</li>
                            <li><i class="fas fa-check-circle"></i> Basic Legal Questions</li>
                            <li><i class="fas fa-times-circle"></i> No Priority Support</li>
                            <li><i class="fas fa-times-circle"></i> No Document History</li>
                        </ul>
                        
                        <button class="btn-pricing" id="freePlanBtn">
                            Get Started Free
                        </button>
                    </div>
                    
                    <!-- Pro Plan -->
                    <div class="pricing-card premium-card premium-plan">
                        <div class="pricing-badge popular">POPULAR</div>
                        <h3 class="pricing-title">Professional</h3>
                        <div class="pricing-price">
                            <span class="currency">₹</span>
                            <span class="amount">499</span>
                            <span class="period">/month</span>
                        </div>
                        <p class="pricing-description">Perfect for professionals & businesses</p>
                        
                        <ul class="pricing-features">
                            <li><i class="fas fa-check-circle"></i> Unlimited AI Chat Messages</li>
                            <li><i class="fas fa-check-circle"></i> 50 Document Generations/Month</li>
                            <li><i class="fas fa-check-circle"></i> All Document Templates</li>
                            <li><i class="fas fa-check-circle"></i> Priority Support</li>
                            <li><i class="fas fa-check-circle"></i> Complete Chat History</li>
                        </ul>
                        
                        <button class="btn-pricing btn-premium" id="proPlanBtn">
                            <i class="fas fa-crown"></i>
                            Get Professional
                        </button>
                    </div>
                    
                    <!-- Business Plan -->
                    <div class="pricing-card premium-card">
                        <div class="pricing-badge">BUSINESS</div>
                        <h3 class="pricing-title">Enterprise</h3>
                        <div class="pricing-price">
                            <span class="currency">₹</span>
                            <span class="amount">1,499</span>
                            <span class="period">/month</span>
                        </div>
                        <p class="pricing-description">For law firms & large organizations</p>
                        
                        <ul class="pricing-features">
                            <li><i class="fas fa-check-circle"></i> Everything in Professional</li>
                            <li><i class="fas fa-check-circle"></i> Unlimited Document Generation</li>
                            <li><i class="fas fa-check-circle"></i> Team Collaboration</li>
                            <li><i class="fas fa-check-circle"></i> Custom Templates</li>
                            <li><i class="fas fa-check-circle"></i> Dedicated Account Manager</li>
                        </ul>
                        
                        <button class="btn-pricing" id="businessPlanBtn">
                            Contact Sales
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section class="cta-section">
            <div class="container">
                <div class="cta-content">
                    <h2 class="cta-title">
                        Ready to Experience <br>
                        AI-Powered Legal Assistance?
                    </h2>
                    <p class="cta-description">
                        Join thousands of satisfied users who trust LegalSwami for their legal needs. 
                        No credit card required to get started.
                    </p>
                    
                    <div class="cta-actions">
                        <button id="ctaStartChat" class="btn-cta-primary btn-premium">
                            <i class="fas fa-rocket"></i>
                            Start Free Chat Now
                        </button>
                        
                        <button id="ctaScheduleDemo" class="btn-cta-secondary">
                            <i class="fas fa-calendar"></i>
                            Schedule Demo
                        </button>
                    </div>
                    
                    <div class="cta-guarantee">
                        <div class="guarantee-item">
                            <i class="fas fa-shield-alt"></i>
                            <span>100% Secure & Private</span>
                        </div>
                        <div class="guarantee-item">
                            <i class="fas fa-clock"></i>
                            <span>Available 24/7</span>
                        </div>
                        <div class="guarantee-item">
                            <i class="fas fa-headset"></i>
                            <span>Priority Support</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ChatGPT/DeepSeek Style Chat Interface -->
        <div id="chatgptChatInterface" class="chatgpt-style-chat">
            <!-- Header -->
            <div class="chatgpt-header">
                <div class="chatgpt-header-left">
                    <button id="chatgptBackBtn" class="chatgpt-back-btn">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="chatgpt-title">
                        <div class="chatgpt-title-icon">
                            <i class="fas fa-gavel"></i>
                        </div>
                        <div class="chatgpt-title-text">
                            <h3>LegalSwami Assistant</h3>
                            <p>AI Legal Assistant</p>
                        </div>
                    </div>
                </div>
                <div class="chatgpt-header-right">
                    <button id="chatgptClearBtn" class="chatgpt-header-action" title="Clear Chat">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                    <button id="chatgptExportBtn" class="chatgpt-header-action" title="Export Chat">
                        <i class="fas fa-download"></i>
                    </button>
                    <button id="chatgptHistoryBtn" class="chatgpt-header-action" title="Toggle Sidebar">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>

            <!-- Main Container -->
            <div class="chatgpt-main-container">
                <!-- Sidebar Toggle Button -->
                <button id="sidebarToggleBtn" class="sidebar-toggle">
                    <i class="fas fa-bars"></i>
                </button>

                <!-- Sidebar -->
                <div id="chatgptSidebar" class="chatgpt-sidebar">
                    <!-- New Chat Button -->
                    <button id="chatgptNewChatBtn" class="new-chat-btn">
                        <i class="fas fa-plus"></i>
                        New Chat
                    </button>

                    <!-- Search -->
                    <div class="sidebar-search">
                        <div class="search-container">
                            <i class="fas fa-search"></i>
                            <input type="text" id="chatgptSearchInput" placeholder="Search chats...">
                        </div>
                    </div>

                    <!-- Chat History -->
                    <div class="chat-history-title">Your chats</div>
                    <div class="chat-history-list" id="chatgptHistoryList">
                        <!-- History items will be dynamically loaded -->
                        <div class="history-empty-state" id="emptyHistoryState">
                            <i class="fas fa-comments"></i>
                            <p>No chat history yet</p>
                            <small>Start chatting to see your history here</small>
                        </div>
                    </div>
                </div>

                <!-- Chat Area -->
                <div class="chatgpt-chat-area">
                    <!-- Messages Container -->
                    <div class="chatgpt-messages-container" id="chatgptMessagesContainer">
                        <!-- Welcome Screen -->
                        <div id="chatgptWelcome" class="chatgpt-welcome">
                            <div class="welcome-icon">
                                <i class="fas fa-gavel"></i>
                            </div>
                            <h1 class="welcome-title">LegalSwami Assistant</h1>
                            <p class="welcome-subtitle">
                                Your AI-powered legal assistant ready to help with legal advice, 
                                document generation, and legal research 24/7.
                            </p>
                            
                            <div class="welcome-features">
                                <div class="welcome-feature-card">
                                    <i class="fas fa-comments"></i>
                                    <h4>Legal Consultation</h4>
                                    <p>Get instant answers to your legal questions with detailed explanations.</p>
                                </div>
                                <div class="welcome-feature-card">
                                    <i class="fas fa-file-contract"></i>
                                    <h4>Document Generation</h4>
                                    <p>Create legal documents instantly with customizable templates.</p>
                                </div>
                                <div class="welcome-feature-card">
                                    <i class="fas fa-search"></i>
                                    <h4>Legal Research</h4>
                                    <p>Access comprehensive legal database and case laws.</p>
                                </div>
                                <div class="welcome-feature-card">
                                    <i class="fas fa-language"></i>
                                    <h4>Multi-Language</h4>
                                    <p>Get assistance in Hindi, English, Marathi, Gujarati and more.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Messages will be loaded here -->
                        <div id="chatgptMessages">
                            <!-- Messages will be dynamically added -->
                        </div>

                        <!-- Typing Indicator -->
                        <div id="chatgptTypingIndicator" class="typing-indicator" style="display: none;">
                            <div class="typing-dots">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                            <span>LegalSwami is thinking...</span>
                        </div>

                        <!-- Quick Questions -->
                        <div id="chatgptQuickQuestions" class="quick-questions-section">
                            <div class="quick-questions-title">Try asking:</div>
                            <div class="quick-buttons-grid">
                                <button class="quick-question-btn" data-question="What are the requirements for a valid contract in India?">
                                    Contract Requirements
                                </button>
                                <button class="quick-question-btn" data-question="How to draft a rental agreement?">
                                    Rental Agreement
                                </button>
                                <button class="quick-question-btn" data-question="What are my consumer rights?">
                                    Consumer Rights
                                </button>
                                <button class="quick-question-btn" data-question="How to file a legal notice?">
                                    Legal Notice
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Input Area -->
                    <div class="chatgpt-input-area">
                        <div class="input-wrapper">
                            <textarea 
                                id="chatgptMessageInput" 
                                class="chatgpt-textarea" 
                                placeholder="Type your legal question here... (Press Shift+Enter for new line, Enter to send)"
                                rows="1"
                            ></textarea>
                            <button id="chatgptSendBtn" class="send-button">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                        
                        <div class="input-options">
                            <div class="input-tools">
                                <button class="tool-btn" title="Attach File">
                                    <i class="fas fa-paperclip"></i> Attach
                                </button>
                                <button class="tool-btn" title="Voice Input">
                                    <i class="fas fa-microphone"></i> Voice
                                </button>
                                <button class="tool-btn" title="Legal Tools">
                                    <i class="fas fa-tools"></i> Tools
                                </button>
                            </div>
                            
                            <div class="document-options">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="chatgptGenerateDocument">
                                    <span>Generate as Document</span>
                                </label>
                                <select id="chatgptDocumentType" disabled>
                                    <option value="PDF">PDF</option>
                                    <option value="DOC">DOC</option>
                                    <option value="TXT">TXT</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="disclaimer-text">
                            <i class="fas fa-exclamation-triangle"></i>
                            LegalSwami provides AI-powered legal assistance. For official legal advice, please consult a qualified attorney.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Original Chat Interface (Hidden) -->
        <div id="chatInterface" class="chat-interface" style="display: none;">
            <!-- Your original chat interface remains here but hidden -->
        </div>

        <!-- Legal Tools Modal -->
        <div id="legalToolsModal" class="modal">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <button id="closeLegalTools" class="modal-close">
                    <i class="fas fa-times"></i>
                </button>
                
                <div class="modal-header">
                    <div class="modal-icon legal-seal">
                        <i class="fas fa-tools"></i>
                    </div>
                    <h3>Legal Tools & Calculators</h3>
                    <p>Access various legal utilities</p>
                </div>
                
                <div class="modal-body">
                    <div class="tools-grid">
                        <button class="tool-card" onclick="openCalculator('court-fee')">
                            <i class="fas fa-calculator"></i>
                            <h4>Court Fee Calculator</h4>
                            <p>Calculate court fees for different cases</p>
                        </button>
                        
                        <button class="tool-card" onclick="openCalculator('stamp-duty')">
                            <i class="fas fa-file-invoice-dollar"></i>
                            <h4>Stamp Duty Calculator</h4>
                            <p>Calculate stamp duty for documents</p>
                        </button>
                        
                        <button class="tool-card" onclick="openCalculator('compensation')">
                            <i class="fas fa-money-check-alt"></i>
                            <h4>Compensation Calculator</h4>
                            <p>Calculate compensation amounts</p>
                        </button>
                        
                        <button class="tool-card" onclick="openLegalActSearch()">
                            <i class="fas fa-search"></i>
                            <h4>Act & Statute Search</h4>
                            <p>Search legal acts and statutes</p>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modern Login Modal -->
        <div id="loginModal" class="modal">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <button id="closeLoginModal" class="modal-close">
                    <i class="fas fa-times"></i>
                </button>
                
                <div class="modal-header">
                    <div class="modal-icon legal-seal">
                        <i class="fas fa-balance-scale"></i>
                    </div>
                    <h3>Welcome to LegalSwami</h3>
                    <p>Secure login to access all features</p>
                </div>
                
                <div class="modal-body">
                    <!-- Google Sign-In Container -->
                    <div id="googleSignInContainer"></div>
                    
                    <!-- Custom Google Button -->
                    <button id="customGoogleBtn" class="google-signin-btn">
                        <i class="fab fa-google"></i>
                        Continue with Google
                    </button>
                    
                    <div class="divider">
                        <span>or</span>
                    </div>
                    
                    <!-- Demo Login Button -->
                    <button id="demoLoginBtn" class="demo-login-btn">
                        <i class="fas fa-user"></i> Try Demo Version
                    </button>
                    
                    <div class="login-info">
                        <p><i class="fas fa-lock"></i> Your data is encrypted and secure</p>
                        <p><i class="fas fa-shield-alt"></i> We never share your personal information</p>
                        <p><i class="fas fa-bolt"></i> No credit card required</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="premium-footer">
            <div class="container">
                <div class="footer-content">
                    <!-- Company Info -->
                    <div class="footer-section">
                        <div class="footer-logo">
                            <div class="logo-icon legal-seal">
                                <i class="fas fa-gavel"></i>
                            </div>
                            <div class="logo-text">
                                <h3 class="logo-title shimmer-text">LegalSwami</h3>
                                <p class="logo-subtitle">AI Legal Assistant</p>
                            </div>
                        </div>
                        <p class="footer-description">
                            Making legal assistance accessible to everyone with AI-powered technology.
                        </p>
                        <div class="social-links">
                            <a href="#" class="social-link">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a href="#" class="social-link">
                                <i class="fab fa-linkedin"></i>
                            </a>
                            <a href="#" class="social-link">
                                <i class="fab fa-github"></i>
                            </a>
                            <a href="#" class="social-link">
                                <i class="fab fa-youtube"></i>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Quick Links -->
                    <div class="footer-section">
                        <h4 class="footer-heading">Quick Links</h4>
                        <ul class="footer-links">
                            <li><a href="#home">Home</a></li>
                            <li><a href="#features">Features</a></li>
                            <li><a href="#documents">Documents</a></li>
                            <li><a href="#legalDatabase">Legal Database</a></li>
                            <li><a href="#lawyerDirectory">Find Lawyers</a></li>
                            <li><a href="#legalGuides">Legal Guides</a></li>
                            <li><a href="#testimonials">Testimonials</a></li>
                            <li><a href="#pricing">Pricing</a></li>
                        </ul>
                    </div>
                    
                    <!-- Legal -->
                    <div class="footer-section">
                        <h4 class="footer-heading">Legal</h4>
                        <ul class="footer-links">
                            <li><a href="#" id="termsLink">Terms of Service</a></li>
                            <li><a href="#" id="privacyLink">Privacy Policy</a></li>
                            <li><a href="#" id="disclaimerLink">Legal Disclaimer</a></li>
                            <li><a href="#" id="cookieLink">Cookie Policy</a></li>
                        </ul>
                    </div>
                    
                    <!-- Contact -->
                    <div class="footer-section">
                        <h4 class="footer-heading">Contact Us</h4>
                        <ul class="footer-contact">
                            <li>
                                <i class="fas fa-envelope"></i>
                                <a href="mailto:support@legalswami.com">support@legalswami.com</a>
                            </li>
                            <li>
                                <i class="fas fa-phone"></i>
                                <a href="tel:+919876543210">+91 9876543210</a>
                            </li>
                            <li>
                                <i class="fas fa-map-marker-alt"></i>
                                <span>Mumbai, India</span>
                            </li>
                        </ul>
                    </div>
                </div>
                
                <div class="footer-bottom">
                    <p class="copyright">
                        &copy; 2024 LegalSwami. All rights reserved.
                    </p>
                    <div class="disclaimer">
                        <i class="fas fa-exclamation-triangle"></i>
                        LegalSwami provides AI-powered legal assistance. It is not a substitute for professional legal advice.
                    </div>
                </div>
            </div>
        </footer>

        <!-- Back to Top -->
        <button id="backToTop" class="back-to-top">
            <i class="fas fa-chevron-up"></i>
        </button>
    </div>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>
    
    <!-- Google Identity Services -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    
    <!-- Main App Script -->
    <script>
        // Global variables
        let currentChatId = null;
        let isProcessing = false;
        let googleGISInitialized = false;
        let isMobileMenuOpen = false;
        let isChatOpen = false;
        let isLoginModalOpen = false;
        let selectedLanguage = 'en';
        let isChatGPTSidebarOpen = true;
        let chatHistoryData = [];
        let currentChatSession = null;
        let chatSessions = [];
        
        // Check if device is mobile
        const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
        const isTablet = window.innerWidth <= 1024 && window.innerWidth > 480;
        
        // Legal Acts Database
        const legalActs = [
            { id: 1, name: "Indian Penal Code (IPC)", year: 1860, category: "criminal" },
            { id: 2, name: "Code of Criminal Procedure (CrPC)", year: 1973, category: "criminal" },
            { id: 3, name: "Code of Civil Procedure (CPC)", year: 1908, category: "civil" },
            { id: 4, name: "Indian Evidence Act", year: 1872, category: "evidence" },
            { id: 5, name: "Consumer Protection Act", year: 2019, category: "consumer" },
            { id: 6, name: "Transfer of Property Act", year: 1882, category: "property" },
            { id: 7, name: "Contract Act", year: 1872, category: "civil" },
            { id: 8, name: "Constitution of India", year: 1950, category: "constitutional" }
        ];

        // Lawyers Database
        const lawyers = [
            { id: 1, name: "Adv. Rajesh Kumar", specialization: "criminal", experience: 15, location: "Delhi", rating: 4.8, fee: "₹2000/consultation" },
            { id: 2, name: "Adv. Priya Sharma", specialization: "family", experience: 10, location: "Mumbai", rating: 4.7, fee: "₹2500/consultation" },
            { id: 3, name: "Adv. Amit Patel", specialization: "corporate", experience: 12, location: "Bangalore", rating: 4.9, fee: "₹3000/consultation" },
            { id: 4, name: "Adv. Sneha Desai", specialization: "property", experience: 8, location: "Pune", rating: 4.6, fee: "₹1800/consultation" },
            { id: 5, name: "Adv. Rohit Verma", specialization: "civil", experience: 20, location: "Delhi", rating: 4.9, fee: "₹3500/consultation" },
            { id: 6, name: "Adv. Anjali Singh", specialization: "consumer", experience: 7, location: "Chennai", rating: 4.5, fee: "₹1500/consultation" }
        ];

        // Document Types
        const documentTypes = [
            {
                id: 1,
                name: "Rental Agreement",
                description: "Standard rental/lease agreement between landlord and tenant",
                icon: "fa-home",
                category: "agreements"
            },
            {
                id: 2,
                name: "Non-Disclosure Agreement",
                description: "Confidentiality agreement to protect sensitive information",
                icon: "fa-file-signature",
                category: "agreements"
            },
            {
                id: 3,
                name: "Employment Contract",
                description: "Employment terms and conditions agreement",
                icon: "fa-briefcase",
                category: "agreements"
            },
            {
                id: 4,
                name: "Will & Testament",
                description: "Legal document for estate planning and asset distribution",
                icon: "fa-scroll",
                category: "personal"
            },
            {
                id: 5,
                name: "Power of Attorney",
                description: "Authorization for someone to act on your behalf",
                icon: "fa-user-tie",
                category: "personal"
            },
            {
                id: 6,
                name: "Legal Notice",
                description: "Formal legal communication before filing a case",
                icon: "fa-gavel",
                category: "notices"
            }
        ];

        // DOM Content Loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 LegalSwami Premium Frontend Initialized');
            console.log('📱 Device Type:', isMobile ? 'Mobile' : isTablet ? 'Tablet' : 'Desktop');
            
            // Apply mobile-specific optimizations
            if (isMobile) {
                applyMobileOptimizations();
            }
            
            // Hide loading screen
            setTimeout(function() {
                const loadingScreen = document.getElementById('loadingScreen');
                if (loadingScreen) {
                    loadingScreen.style.opacity = '0';
                    setTimeout(function() {
                        loadingScreen.style.display = 'none';
                        console.log('✅ Loading screen hidden');
                    }, 300);
                }
            }, 1500);
            
            // Initialize backend connection
            initializeAppWithBackend();
            
            // Setup event listeners
            setupEventListeners();
            
            // Initialize Google Authentication
            setTimeout(initializeSimpleGoogleAuth, 2000);
            
            // Check for existing user
            checkExistingUser();
            
            // Setup scroll effects
            setupScrollEffects();
            
            // Setup mobile menu
            setupMobileMenu();
            
            // Initialize chat interface
            initializeChat();
            
            // Setup device-specific optimizations
            setupDeviceSpecificOptimizations();
            
            // Load lawyers
            loadLawyers();
            
            // Setup language buttons
            setupLanguageButtons();
            
            // Initialize ChatGPT style chat
            initializeChatGPTChat();
            
            // Load chat history from localStorage
            loadChatHistoryFromStorage();
            
            console.log('✅ All initialization complete');
        });
        
        // Load Chat History from LocalStorage
        function loadChatHistoryFromStorage() {
            try {
                const savedHistory = localStorage.getItem('legalSwamiChatHistory');
                if (savedHistory) {
                    chatHistoryData = JSON.parse(savedHistory);
                    updateChatHistoryUI();
                }
            } catch (error) {
                console.error('Error loading chat history:', error);
                chatHistoryData = [];
            }
        }
        
        // Save Chat History to LocalStorage
        function saveChatHistoryToStorage() {
            try {
                localStorage.setItem('legalSwamiChatHistory', JSON.stringify(chatHistoryData));
            } catch (error) {
                console.error('Error saving chat history:', error);
            }
        }
        
        // Update Chat History UI
        function updateChatHistoryUI() {
            const historyList = document.getElementById('chatgptHistoryList');
            const emptyState = document.getElementById('emptyHistoryState');
            
            if (!historyList) return;
            
            historyList.innerHTML = '';
            
            if (chatHistoryData.length === 0) {
                if (emptyState) {
                    historyList.appendChild(emptyState);
                    emptyState.style.display = 'block';
                }
                return;
            }
            
            if (emptyState) {
                emptyState.style.display = 'none';
            }
            
            // Sort by date (newest first)
            const sortedHistory = [...chatHistoryData].sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
            
            sortedHistory.forEach((chat, index) => {
                const historyItem = document.createElement('div');
                historyItem.className = 'chat-history-item';
                if (currentChatSession && currentChatSession.id === chat.id) {
                    historyItem.classList.add('active');
                }
                
                // Get first message for title
                const firstMessage = chat.messages && chat.messages.length > 0 
                    ? chat.messages[0].content 
                    : 'New Chat';
                
                const title = firstMessage.length > 30 
                    ? firstMessage.substring(0, 30) + '...' 
                    : firstMessage;
                
                // Format date
                const date = new Date(chat.timestamp);
                const now = new Date();
                const diffTime = Math.abs(now - date);
                const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
                
                let timeText = '';
                if (diffDays === 0) {
                    timeText = 'Today';
                } else if (diffDays === 1) {
                    timeText = 'Yesterday';
                } else if (diffDays < 7) {
                    timeText = `${diffDays} days ago`;
                } else {
                    timeText = date.toLocaleDateString();
                }
                
                historyItem.innerHTML = `
                    <i class="fas fa-comments"></i>
                    <div style="flex: 1; min-width: 0;">
                        <div style="font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">${title}</div>
                        <div style="font-size: 11px; color: #94a3b8; margin-top: 2px;">${timeText}</div>
                    </div>
                `;
                
                historyItem.addEventListener('click', function() {
                    loadChatSession(chat.id);
                });
                
                historyList.appendChild(historyItem);
            });
        }
        
        // Create New Chat Session
        function createNewChatSession() {
            const newSession = {
                id: 'chat_' + Date.now(),
                title: 'New Chat',
                timestamp: new Date().toISOString(),
                messages: []
            };
            
            currentChatSession = newSession;
            chatHistoryData.push(newSession);
            saveChatHistoryToStorage();
            updateChatHistoryUI();
            
            // Clear chat messages
            const messagesContainer = document.getElementById('chatgptMessages');
            if (messagesContainer) {
                messagesContainer.innerHTML = '';
            }
            
            // Show welcome screen
            const welcomeScreen = document.getElementById('chatgptWelcome');
            const quickQuestions = document.getElementById('chatgptQuickQuestions');
            
            if (welcomeScreen) welcomeScreen.style.display = 'block';
            if (quickQuestions) quickQuestions.style.display = 'block';
            
            return newSession;
        }
        
        // Load Chat Session
        function loadChatSession(sessionId) {
            const session = chatHistoryData.find(chat => chat.id === sessionId);
            if (!session) return;
            
            currentChatSession = session;
            updateChatHistoryUI();
            
            // Clear current messages
            const messagesContainer = document.getElementById('chatgptMessages');
            if (messagesContainer) {
                messagesContainer.innerHTML = '';
            }
            
            // Hide welcome screen
            const welcomeScreen = document.getElementById('chatgptWelcome');
            const quickQuestions = document.getElementById('chatgptQuickQuestions');
            
            if (welcomeScreen) welcomeScreen.style.display = 'none';
            if (quickQuestions) quickQuestions.style.display = 'none';
            
            // Load messages
            if (session.messages && session.messages.length > 0) {
                session.messages.forEach(msg => {
                    addChatGPTMessage(msg.content, msg.isUser);
                });
                
                // Scroll to bottom
                setTimeout(() => {
                    const container = document.getElementById('chatgptMessagesContainer');
                    if (container) {
                        container.scrollTop = container.scrollHeight;
                    }
                }, 100);
            } else {
                // Add default welcome message
                addChatGPTMessage("Hello! I'm your AI legal assistant. How can I help you today?", false);
            }
            
            showToast('Chat loaded', 'success');
        }
        
        // Add Message to Current Session
        function addMessageToCurrentSession(content, isUser) {
            if (!currentChatSession) {
                currentChatSession = createNewChatSession();
            }
            
            if (!currentChatSession.messages) {
                currentChatSession.messages = [];
            }
            
            currentChatSession.messages.push({
                content: content,
                isUser: isUser,
                timestamp: new Date().toISOString()
            });
            
            // Update session timestamp
            currentChatSession.timestamp = new Date().toISOString();
            
            // Update title from first message if needed
            if (currentChatSession.messages.length === 1 && isUser) {
                const title = content.length > 30 ? content.substring(0, 30) + '...' : content;
                currentChatSession.title = title;
            }
            
            saveChatHistoryToStorage();
            updateChatHistoryUI();
        }
        
        // Initialize ChatGPT Style Chat
        function initializeChatGPTChat() {
            console.log('💬 Initializing ChatGPT style chat...');
            
            // Auto-resize textarea
            const textarea = document.getElementById('chatgptMessageInput');
            if (textarea) {
                textarea.addEventListener('input', function() {
                    this.style.height = 'auto';
                    this.style.height = (this.scrollHeight) + 'px';
                });
                
                // Handle Enter key
                textarea.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        sendChatGPTMessage();
                    }
                });
            }
            
            // Load chat history UI
            updateChatHistoryUI();
            
            console.log('✅ ChatGPT style chat initialized');
        }
        
        // Toggle ChatGPT Sidebar
        function toggleChatGPTSidebar() {
            const sidebar = document.getElementById('chatgptSidebar');
            const toggleBtn = document.getElementById('sidebarToggleBtn');
            
            if (sidebar) {
                if (isMobile) {
                    sidebar.classList.toggle('active');
                    if (sidebar.classList.contains('active')) {
                        toggleBtn.innerHTML = '<i class="fas fa-times"></i>';
                        toggleBtn.style.left = '250px';
                    } else {
                        toggleBtn.innerHTML = '<i class="fas fa-bars"></i>';
                        toggleBtn.style.left = '10px';
                    }
                } else {
                    sidebar.classList.toggle('collapsed');
                    if (sidebar.classList.contains('collapsed')) {
                        toggleBtn.innerHTML = '<i class="fas fa-bars"></i>';
                        toggleBtn.style.left = '10px';
                    } else {
                        toggleBtn.innerHTML = '<i class="fas fa-times"></i>';
                        toggleBtn.style.left = '260px';
                    }
                }
                isChatGPTSidebarOpen = !sidebar.classList.contains('collapsed') && !sidebar.classList.contains('active');
            }
        }
        
        // Add ChatGPT Message
        function addChatGPTMessage(content, isUser = false, isDocumentResponse = false) {
            const messagesContainer = document.getElementById('chatgptMessages');
            if (!messagesContainer) return;
            
            // Hide welcome screen on first user message
            if (isUser) {
                const welcomeScreen = document.getElementById('chatgptWelcome');
                const quickQuestions = document.getElementById('chatgptQuickQuestions');
                
                if (welcomeScreen && welcomeScreen.style.display !== 'none') {
                    welcomeScreen.style.display = 'none';
                }
                if (quickQuestions && quickQuestions.style.display !== 'none') {
                    quickQuestions.style.display = 'none';
                }
            }
            
            const messageDiv = document.createElement('div');
            messageDiv.className = 'chatgpt-message';
            
            const time = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            
            if (isDocumentResponse) {
                // Handle document generation response
                messageDiv.innerHTML = `
                    <div class="message-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="message-content">
                        <h4>LegalSwami Assistant</h4>
                        ${content}
                        <div class="message-actions">
                            <button class="message-action-btn" title="Copy">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                            <button class="message-action-btn" title="Like">
                                <i class="fas fa-thumbs-up"></i> Like
                            </button>
                            <button class="message-action-btn" title="Dislike">
                                <i class="fas fa-thumbs-down"></i> Dislike
                            </button>
                        </div>
                    </div>
                `;
            } else {
                // Regular message
                messageDiv.innerHTML = `
                    <div class="message-avatar ${isUser ? 'user-avatar' : ''}">
                        <i class="fas ${isUser ? 'fa-user' : 'fa-robot'}"></i>
                    </div>
                    <div class="message-content">
                        <h4>${isUser ? 'You' : 'LegalSwami Assistant'}</h4>
                        <div class="message-text">${formatChatGPTMessage(content)}</div>
                        <div class="message-actions">
                            <button class="message-action-btn" title="Copy">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                            <button class="message-action-btn" title="Like">
                                <i class="fas fa-thumbs-up"></i> Like
                            </button>
                            <button class="message-action-btn" title="Dislike">
                                <i class="fas fa-thumbs-down"></i> Dislike
                            </button>
                        </div>
                    </div>
                `;
            }
            
            messagesContainer.appendChild(messageDiv);
            
            // Add copy functionality
            const copyBtn = messageDiv.querySelector('.message-action-btn');
            if (copyBtn) {
                copyBtn.addEventListener('click', function() {
                    const text = messageDiv.querySelector('.message-text') ? messageDiv.querySelector('.message-text').textContent : '';
                    if (text) {
                        navigator.clipboard.writeText(text).then(function() {
                            showToast('Message copied to clipboard!', 'success');
                        });
                    }
                });
            }
            
            // Scroll to bottom
            setTimeout(() => {
                const container = document.getElementById('chatgptMessagesContainer');
                if (container) {
                    container.scrollTop = container.scrollHeight;
                }
            }, 100);
            
            // Add to session
            if (!isDocumentResponse) {
                addMessageToCurrentSession(content, isUser);
            }
            
            return messageDiv;
        }
        
        // Format ChatGPT Message
        function formatChatGPTMessage(text) {
            // Convert markdown-like formatting to HTML
            text = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            text = text.replace(/\*(.*?)\*/g, '<em>$1</em>');
            text = text.replace(/`(.*?)`/g, '<code>$1</code>');
            text = text.replace(/```([\s\S]*?)```/g, '<pre>$1</pre>');
            text = text.replace(/\n/g, '<br>');
            
            // Convert numbered lists
            text = text.replace(/^\d+\.\s+(.*)$/gm, '<li>$1</li>');
            text = text.replace(/(<li>.*<\/li>)/gs, '<ol>$1</ol>');
            
            // Convert bullet lists
            text = text.replace(/^[*-]\s+(.*)$/gm, '<li>$1</li>');
            text = text.replace(/(<li>.*<\/li>)/gs, '<ul>$1</ul>');
            
            return text;
        }
        
        // Send ChatGPT Message
        async function sendChatGPTMessage() {
            if (isProcessing) {
                console.warn('⚠️ Message already being processed');
                return;
            }
            
            const input = document.getElementById('chatgptMessageInput');
            if (!input) return;
            
            const message = input.value.trim();
            
            if (!message) {
                showToast('Please enter a message', 'warning');
                return;
            }
            
            const generateDocument = document.getElementById('chatgptGenerateDocument') ? 
                document.getElementById('chatgptGenerateDocument').checked : false;
            
            isProcessing = true;
            
            try {
                console.log('💬 Sending ChatGPT message:', message.substring(0, 100));
                
                // Add user message
                addChatGPTMessage(message, true);
                input.value = '';
                input.style.height = 'auto';
                
                // Show typing indicator
                const typingIndicator = document.getElementById('chatgptTypingIndicator');
                if (typingIndicator) {
                    typingIndicator.style.display = 'flex';
                    
                    // Scroll to show typing indicator
                    setTimeout(() => {
                        const container = document.getElementById('chatgptMessagesContainer');
                        if (container) {
                            container.scrollTop = container.scrollHeight;
                        }
                    }, 100);
                }
                
                // Simulate AI thinking
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // Generate AI response based on message
                const response = generateAIResponse(message, generateDocument);
                
                // Hide typing indicator
                if (typingIndicator) {
                    typingIndicator.style.display = 'none';
                }
                
                // Add AI response
                if (generateDocument || message.toLowerCase().includes('document') || message.toLowerCase().includes('generate')) {
                    addChatGPTMessage(response, false, true);
                } else {
                    addChatGPTMessage(response, false);
                }
                
            } catch (error) {
                console.error('❌ Failed to send message:', error);
                addChatGPTMessage('Sorry, I encountered an error while processing your request. Please try again in a moment.', false);
                showToast('Failed to send message: ' + error.message, 'error');
            } finally {
                isProcessing = false;
                
                // Focus input
                if (input) {
                    input.focus();
                }
            }
        }
        
        // Generate AI Response with Document Generation
        function generateAIResponse(message, generateDocument = false) {
            const lowerMessage = message.toLowerCase();
            
            // Check if document generation is requested
            if (generateDocument || lowerMessage.includes('document') || lowerMessage.includes('generate') || 
                lowerMessage.includes('draft') || lowerMessage.includes('create') || lowerMessage.includes('make')) {
                
                return generateDocumentResponse(message);
            }
            
            // Legal responses based on query
            if (lowerMessage.includes('contract') || lowerMessage.includes('agreement')) {
                return `**Contract Requirements in India:**

For a contract to be legally valid in India, it must satisfy the following essential elements under the Indian Contract Act, 1872:

1. **Offer and Acceptance** - There must be a lawful offer by one party and a lawful acceptance by the other party.
2. **Intention to Create Legal Relations** - Parties must intend to create legal obligations.
3. **Lawful Consideration** - There must be something of value exchanged between parties.
4. **Capacity of Parties** - Parties must be competent to contract (age of majority, sound mind, not disqualified by law).
5. **Free Consent** - Consent must be free from coercion, undue influence, fraud, misrepresentation, or mistake.
6. **Lawful Object** - The object of the contract must be lawful.
7. **Certainty and Possibility of Performance** - Terms must be clear and performance must be possible.

**Important Notes:**
- Written contracts are advisable for important transactions
- Registration may be required for certain contracts (property transactions above ₹100)
- Stamp duty must be paid as per state laws

Would you like me to help you draft a specific type of contract?`;
                
            } else if (lowerMessage.includes('rental') || lowerMessage.includes('lease')) {
                return `**Rental Agreement Requirements:**

A valid rental/lease agreement in India should include:

**Essential Clauses:**
1. **Parties Information** - Names, addresses, and contact details of landlord and tenant
2. **Property Details** - Complete address, area, amenities
3. **Term of Tenancy** - Start and end dates, renewal terms
4. **Rent Amount** - Monthly rent, due date, payment method
5. **Security Deposit** - Amount (usually 2-3 months rent), refund conditions
6. **Maintenance Responsibilities** - Who pays for repairs, utilities
7. **Restrictions** - Subletting, commercial use, pets
8. **Termination Clause** - Notice period, breach conditions
9. **Dispute Resolution** - Jurisdiction, arbitration

**Legal Requirements:**
- Must be stamped as per state stamp duty laws
- Registration required if term exceeds 11 months
- Both parties should keep signed copies
- Witnesses recommended

I can help you generate a complete rental agreement. Would you like to proceed?`;
                
            } else if (lowerMessage.includes('consumer') || lowerMessage.includes('right')) {
                return `**Consumer Rights in India (Consumer Protection Act, 2019):**

Under Indian law, consumers have the following fundamental rights:

1. **Right to Safety** - Protection against hazardous goods and services
2. **Right to Information** - Complete information about quality, quantity, price, etc.
3. **Right to Choose** - Access to variety of goods and services at competitive prices
4. **Right to be Heard** - Consumer interests to be considered in policy making
5. **Right to Redressal** - Seek compensation for unfair trade practices
6. **Right to Consumer Education** - Knowledge about rights and responsibilities
7. **Right to Healthy Environment** - Protection against environmental degradation

**How to File a Complaint:**
1. **Online** - Through the National Consumer Helpline (NCH) or e-daakhil portal
2. **Consumer Forum** - District (up to ₹1 crore), State (₹1-10 crore), National (above ₹10 crore)
3. **Documents Required** - Bills, receipts, correspondence, evidence of deficiency
4. **Time Limit** - Within 2 years from cause of action

**Compensation:** You can claim compensation for loss/injury plus costs.

Need help drafting a consumer complaint?`;
                
            } else if (lowerMessage.includes('notice') || lowerMessage.includes('legal notice')) {
                return `**How to Send a Legal Notice in India:**

A legal notice is a formal communication sent before filing a lawsuit. Here's the process:

**Steps to Send Legal Notice:**
1. **Draft the Notice** - Should include:
   - Names and addresses of sender and recipient
   - Facts of the case
   - Legal grounds and provisions
   - Relief/demand (what you want)
   - Time limit for compliance (usually 15-30 days)
   - Consequences of non-compliance

2. **Essential Elements:**
   - Clear subject line
   - Chronological facts
   - Specific demands
   - Legal basis
   - Time limit
   - Signature

3. **Sending the Notice:**
   - Registered AD post with acknowledgment due
   - Courier with tracking
   - Keep proof of delivery
   - Email as additional copy

4. **After Sending:**
   - Wait for reply (15-30 days)
   - If no satisfactory reply, you can file a case
   - The notice can be used as evidence in court

**Important:** Legal notices should be drafted carefully as they form the basis of your case.

I can help you draft a legal notice. What type of issue are you facing?`;
                
            } else {
                // Generic legal response
                return `Thank you for your legal question. As your AI legal assistant, I can help you with:

**Legal Areas I Cover:**
1. **Civil Law** - Property disputes, contracts, torts, family matters
2. **Criminal Law** - Offenses, procedures, bail, rights
3. **Corporate Law** - Company formation, compliance, contracts
4. **Property Law** - Buying/selling, registration, tenancy
5. **Family Law** - Marriage, divorce, inheritance, adoption
6. **Consumer Law** - Rights, complaints, compensation
7. **Constitutional Law** - Fundamental rights, writs
8. **Labor Law** - Employment rights, disputes

**What I Can Do:**
- Answer legal questions
- Explain laws and procedures
- Help draft legal documents
- Guide through legal processes
- Provide legal research
- Connect with lawyers (if needed)

**Please Note:** I provide legal information and guidance. For specific legal advice, please consult a qualified attorney.

Could you please provide more details about your specific legal concern so I can give you more precise assistance?`;
            }
        }
        
        // Generate Document Response
        function generateDocumentResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            // Check which document type is being requested
            let requestedDocument = null;
            
            if (lowerMessage.includes('rental') || lowerMessage.includes('lease')) {
                requestedDocument = documentTypes.find(doc => doc.name.toLowerCase().includes('rental'));
            } else if (lowerMessage.includes('nda') || lowerMessage.includes('non-disclosure')) {
                requestedDocument = documentTypes.find(doc => doc.name.toLowerCase().includes('non-disclosure'));
            } else if (lowerMessage.includes('employment') || lowerMessage.includes('job')) {
                requestedDocument = documentTypes.find(doc => doc.name.toLowerCase().includes('employment'));
            } else if (lowerMessage.includes('will') || lowerMessage.includes('testament')) {
                requestedDocument = documentTypes.find(doc => doc.name.toLowerCase().includes('will'));
            } else if (lowerMessage.includes('power of attorney') || lowerMessage.includes('poa')) {
                requestedDocument = documentTypes.find(doc => doc.name.toLowerCase().includes('power'));
            } else if (lowerMessage.includes('legal notice') || lowerMessage.includes('notice')) {
                requestedDocument = documentTypes.find(doc => doc.name.toLowerCase().includes('legal notice'));
            }
            
            if (requestedDocument) {
                // Specific document requested
                return `
                    <div class="document-generation-response">
                        <div class="document-response-header">
                            <div class="document-response-icon">
                                <i class="fas ${requestedDocument.icon}"></i>
                            </div>
                            <div>
                                <h3 class="document-response-title">${requestedDocument.name}</h3>
                                <p class="document-response-subtitle">${requestedDocument.description}</p>
                            </div>
                        </div>
                        
                        <div class="message-text">
                            <p>I can help you generate a <strong>${requestedDocument.name}</strong> with the following features:</p>
                            
                            <ul>
                                <li><strong>Customizable Fields:</strong> All parties' information, dates, terms, and conditions</li>
                                <li><strong>Legal Compliance:</strong> Drafted as per Indian laws and regulations</li>
                                <li><strong>Multiple Formats:</strong> Available in PDF, DOC, and TXT formats</li>
                                <li><strong>Step-by-Step Guidance:</strong> I'll guide you through each section</li>
                                <li><strong>Review & Edit:</strong> You can review and edit before finalizing</li>
                            </ul>
                            
                            <p><strong>Information Needed:</strong></p>
                            <ol>
                                <li>Names and addresses of all parties involved</li>
                                <li>Important dates and durations</li>
                                <li>Specific terms and conditions</li>
                                <li>Any special clauses or requirements</li>
                            </ol>
                        </div>
                        
                        <div class="document-actions">
                            <button class="btn-generate-doc" onclick="startDocumentGeneration('${requestedDocument.id}')">
                                <i class="fas fa-magic"></i>
                                Generate ${requestedDocument.name}
                            </button>
                            <button class="btn-view-templates" onclick="viewDocumentTemplates()">
                                <i class="fas fa-eye"></i>
                                View Sample Template
                            </button>
                        </div>
                    </div>
                `;
            } else {
                // General document generation response
                return `
                    <div class="document-generation-response">
                        <div class="document-response-header">
                            <div class="document-response-icon">
                                <i class="fas fa-file-contract"></i>
                            </div>
                            <div>
                                <h3 class="document-response-title">Document Generation Service</h3>
                                <p class="document-response-subtitle">I can help you generate various legal documents instantly</p>
                            </div>
                        </div>
                        
                        <div class="message-text">
                            <p>Based on your query, I can help you generate legal documents. Here are the most commonly requested documents:</p>
                        </div>
                        
                        <div class="document-types-grid">
                            ${documentTypes.map(doc => `
                                <div class="document-type-card" onclick="selectDocumentType(${doc.id})">
                                    <div class="document-type-icon">
                                        <i class="fas ${doc.icon}"></i>
                                    </div>
                                    <h4 class="document-type-name">${doc.name}</h4>
                                    <p class="document-type-desc">${doc.description}</p>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div class="message-text">
                            <p><strong>How it works:</strong></p>
                            <ol>
                                <li>Select the document type you need</li>
                                <li>I'll ask you specific questions to gather necessary information</li>
                                <li>The document will be generated with all required legal clauses</li>
                                <li>You can review, edit, and download in your preferred format</li>
                            </ol>
                            
                            <p><strong>All documents include:</strong></p>
                            <ul>
                                <li>✓ Proper formatting and structure</li>
                                <li>✓ Required legal clauses</li>
                                <li>✓ Customizable fields</li>
                                <li>✓ Multiple format options (PDF, DOC, TXT)</li>
                                <li>✓ Legal compliance checked</li>
                            </ul>
                        </div>
                        
                        <div class="document-actions">
                            <button class="btn-generate-doc" onclick="showDocumentCategories()">
                                <i class="fas fa-folder-open"></i>
                                Browse All Documents
                            </button>
                            <button class="btn-view-templates" onclick="viewDocumentTemplates()">
                                <i class="fas fa-eye"></i>
                                View Sample Templates
                            </button>
                        </div>
                    </div>
                `;
            }
        }
        
        // Start Document Generation
        function startDocumentGeneration(documentId) {
            const doc = documentTypes.find(d => d.id === documentId);
            if (!doc) return;
            
            showToast(`Starting ${doc.name} generation...`, 'info');
            
            // Simulate document generation process
            setTimeout(() => {
                const modal = document.createElement('div');
                modal.className = 'modal';
                modal.id = 'documentGenerationModal';
                modal.innerHTML = `
                    <div class="modal-overlay" onclick="closeModal('documentGenerationModal')"></div>
                    <div class="modal-content">
                        <button class="modal-close" onclick="closeModal('documentGenerationModal')">
                            <i class="fas fa-times"></i>
                        </button>
                        <div class="modal-header">
                            <div class="modal-icon legal-seal">
                                <i class="fas ${doc.icon}"></i>
                            </div>
                            <h3>Generate ${doc.name}</h3>
                            <p>Fill in the details below</p>
                        </div>
                        <div class="modal-body">
                            <div class="form-group">
                                <label>Parties Information</label>
                                <input type="text" id="party1" placeholder="First Party Name" class="form-input">
                                <input type="text" id="party2" placeholder="Second Party Name" class="form-input">
                            </div>
                            <div class="form-group">
                                <label>Date</label>
                                <input type="date" id="agreementDate" class="form-input" value="${new Date().toISOString().split('T')[0]}">
                            </div>
                            <div class="form-group">
                                <label>Additional Details</label>
                                <textarea id="additionalDetails" placeholder="Any specific terms or conditions..." class="form-textarea" rows="3"></textarea>
                            </div>
                            <div class="form-group">
                                <label>Document Format</label>
                                <select id="docFormat" class="form-select">
                                    <option value="PDF">PDF Document</option>
                                    <option value="DOC">Word Document</option>
                                    <option value="TXT">Text File</option>
                                </select>
                            </div>
                            <button class="btn-generate-final" onclick="generateFinalDocument('${doc.id}')">
                                <i class="fas fa-magic"></i>
                                Generate Document
                            </button>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(modal);
                modal.style.display = 'flex';
                document.body.classList.add('modal-open');
            }, 500);
        }
        
        // Select Document Type
        function selectDocumentType(documentId) {
            startDocumentGeneration(documentId);
        }
        
        // Show Document Categories
        function showDocumentCategories() {
            showToast('Opening document categories...', 'info');
            // In a complete implementation, this would show a modal with all document categories
        }
        
        // View Document Templates
        function viewDocumentTemplates() {
            showToast('Opening sample templates...', 'info');
            // In a complete implementation, this would show a modal with sample templates
        }
        
        // Generate Final Document
        function generateFinalDocument(documentId) {
            const doc = documentTypes.find(d => d.id === documentId);
            if (!doc) return;
            
            const party1 = document.getElementById('party1')?.value || 'Party A';
            const party2 = document.getElementById('party2')?.value || 'Party B';
            const date = document.getElementById('agreementDate')?.value || new Date().toISOString().split('T')[0];
            const format = document.getElementById('docFormat')?.value || 'PDF';
            
            showToast(`Generating ${format} document...`, 'success');
            
            setTimeout(() => {
                closeModal('documentGenerationModal');
                showToast(`${doc.name} generated successfully!`, 'success');
                
                // Add message about document generation
                addChatGPTMessage(`
                    <div class="document-generation-response">
                        <div class="document-response-header">
                            <div class="document-response-icon">
                                <i class="fas ${doc.icon}"></i>
                            </div>
                            <div>
                                <h3 class="document-response-title">${doc.name} Generated!</h3>
                                <p class="document-response-subtitle">Your document is ready for download</p>
                            </div>
                        </div>
                        
                        <div class="message-text">
                            <p>I have successfully generated your <strong>${doc.name}</strong> with the following details:</p>
                            
                            <ul>
                                <li><strong>Parties:</strong> ${party1} and ${party2}</li>
                                <li><strong>Date:</strong> ${date}</li>
                                <li><strong>Format:</strong> ${format}</li>
                                <li><strong>Document ID:</strong> DOC-${Date.now().toString().substring(7)}</li>
                            </ul>
                            
                            <p><strong>Next Steps:</strong></p>
                            <ol>
                                <li>Review the document carefully</li>
                                <li>Make sure all details are correct</li>
                                <li>Share with the other party for review</li>
                                <li>Sign the document with witnesses if required</li>
                                <li>Register if necessary (for property documents)</li>
                            </ol>
                        </div>
                        
                        <div class="document-actions">
                            <button class="btn-generate-doc" onclick="downloadGeneratedDocument('${doc.id}', '${format}')">
                                <i class="fas fa-download"></i>
                                Download ${format} Document
                            </button>
                            <button class="btn-view-templates" onclick="showToast('Edit feature coming soon!', 'info')">
                                <i class="fas fa-edit"></i>
                                Edit Document
                            </button>
                        </div>
                    </div>
                `, false, true);
                
                // Download the document
                downloadGeneratedDocument(doc.id, format, party1, party2, date);
                
            }, 1500);
        }
        
        // Download Generated Document
        function downloadGeneratedDocument(documentId, format = 'PDF', party1 = 'Party A', party2 = 'Party B', date = null) {
            const doc = documentTypes.find(d => d.id === documentId);
            if (!doc) return;
            
            const downloadDate = date || new Date().toISOString().split('T')[0];
            const fileName = `${doc.name.replace(/\s+/g, '_')}_${downloadDate}.${format.toLowerCase()}`;
            
            // Create document content
            let documentContent = '';
            
            if (format === 'TXT') {
                documentContent = `
LEGAL DOCUMENT
==============

Document: ${doc.name}
Generated: ${new Date().toLocaleDateString()}
Document ID: DOC-${Date.now().toString().substring(7)}

PARTIES:
1. ${party1}
2. ${party2}

DATE: ${downloadDate}

${doc.description}

This document has been generated by LegalSwami AI Legal Assistant.
Please review all details carefully and consult with a legal professional if needed.

IMPORTANT: This is a sample generated document. For official use, please ensure
all details are accurate and the document is properly executed.

---
LegalSwami AI Legal Assistant
Generated on: ${new Date().toLocaleString()}
`;
            } else {
                // For PDF/DOC, we would use a more sophisticated generation
                // For demo, we'll create a simple text file
                documentContent = `
                    ${doc.name} - Generated by LegalSwami
                    ======================================
                    
                    This is a sample ${doc.name} document.
                    
                    Parties:
                    - ${party1}
                    - ${party2}
                    
                    Date: ${downloadDate}
                    
                    Note: In the complete version, this would be a fully formatted
                    ${format} document with proper legal formatting and clauses.
                    
                    For the complete document generation feature, please contact
                    support@legalswami.com
                `;
            }
            
            const blob = new Blob([documentContent], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = fileName;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showToast(`${doc.name} downloaded successfully!`, 'success');
        }
        
        // Clear ChatGPT Chat
        function clearChatGPTChat() {
            if (confirm('Are you sure you want to clear the chat? This will start a new conversation.')) {
                // Create new chat session
                createNewChatSession();
                
                showToast('New chat started', 'success');
                console.log('🗑️ ChatGPT chat cleared');
            }
        }
        
        // Export ChatGPT Chat
        function exportChatGPTChat() {
            if (!currentChatSession || !currentChatSession.messages || currentChatSession.messages.length === 0) {
                showToast('No chat messages to export', 'warning');
                return;
            }
            
            let exportText = '================================\n';
            exportText += 'LEGALSWAMI CHAT EXPORT\n';
            exportText += 'Generated on: ' + new Date().toLocaleString() + '\n';
            exportText += 'Chat ID: ' + currentChatSession.id + '\n';
            exportText += '================================\n\n';
            
            currentChatSession.messages.forEach(function(message) {
                const sender = message.isUser ? '👤 You' : '🤖 LegalSwami';
                const time = new Date(message.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
                
                exportText += sender + ' (' + time + '):\n';
                exportText += message.content + '\n\n';
                exportText += '─'.repeat(50) + '\n\n';
            });
            
            exportText += '\n================================\n';
            exportText += 'END OF CHAT\n';
            exportText += '================================\n\n';
            exportText += 'Disclaimer: This chat is for informational purposes only.\n';
            exportText += 'Please consult a qualified attorney for legal advice.\n';
            
            const blob = new Blob([exportText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'LegalSwami_Chat_' + currentChatSession.id + '.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showToast('Chat exported successfully!', 'success');
            console.log('📥 ChatGPT chat exported');
        }
        
        // Open ChatGPT Style Chat
        function openChatGPTChat() {
            console.log('💬 Opening ChatGPT style chat...');
            
            const chatInterface = document.getElementById('chatgptChatInterface');
            if (chatInterface) {
                chatInterface.classList.add('active');
                isChatOpen = true;
                
                // Create new session if none exists
                if (!currentChatSession) {
                    createNewChatSession();
                }
                
                // Prevent background scrolling
                document.body.style.overflow = 'hidden';
                
                // Focus input after a delay
                setTimeout(function() {
                    const messageInput = document.getElementById('chatgptMessageInput');
                    if (messageInput) {
                        messageInput.focus();
                    }
                }, 300);
                
                // Adjust sidebar for mobile
                if (isMobile) {
                    const sidebar = document.getElementById('chatgptSidebar');
                    const toggleBtn = document.getElementById('sidebarToggleBtn');
                    
                    if (sidebar) {
                        sidebar.classList.remove('active');
                    }
                    if (toggleBtn) {
                        toggleBtn.style.left = '10px';
                        toggleBtn.innerHTML = '<i class="fas fa-bars"></i>';
                    }
                }
                
                console.log('✅ ChatGPT chat opened');
            }
        }
        
        // Close ChatGPT Style Chat
        function closeChatGPTChat() {
            console.log('💬 Closing ChatGPT style chat...');
            
            const chatInterface = document.getElementById('chatgptChatInterface');
            if (chatInterface) {
                chatInterface.classList.remove('active');
                isChatOpen = false;
                
                // Restore scrolling
                document.body.style.overflow = '';
                
                console.log('✅ ChatGPT chat closed');
            }
        }
        
        // Setup Language Buttons
        function setupLanguageButtons() {
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const lang = this.getAttribute('data-lang');
                    selectedLanguage = lang;
                    document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Update chat placeholder based on language
                    const messageInput = document.getElementById('chatgptMessageInput');
                    if (messageInput) {
                        if (lang === 'hi') {
                            messageInput.placeholder = "अपना कानूनी प्रश्न यहां टाइप करें...";
                        } else if (lang === 'mr') {
                            messageInput.placeholder = "तुमचा कायदेशीर प्रश्न येथे टाइप करा...";
                        } else if (lang === 'gu') {
                            messageInput.placeholder = "તમારો કાનૂની પ્રશ્ન અહીં ટાઈપ કરો...";
                        } else {
                            messageInput.placeholder = "Type your legal question here...";
                        }
                    }
                    
                    showToast(`Language changed to ${getLanguageName(lang)}`, 'info');
                });
            });
        }
        
        function getLanguageName(code) {
            const languages = {
                'en': 'English',
                'hi': 'Hindi',
                'mr': 'Marathi',
                'gu': 'Gujarati'
            };
            return languages[code] || 'English';
        }
        
        // Apply mobile optimizations
        function applyMobileOptimizations() {
            console.log('📱 Applying mobile optimizations...');
            
            // Larger touch targets for ChatGPT interface
            const chatGPTElements = document.querySelectorAll('#chatgptChatInterface button, .chat-history-item, .quick-question-btn, .tool-btn');
            chatGPTElements.forEach(el => {
                el.style.minHeight = '44px';
                el.style.minWidth = '44px';
            });
            
            // Prevent zoom on input focus
            const inputs = document.querySelectorAll('input, select, textarea');
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    if (isMobile) {
                        setTimeout(() => {
                            this.style.fontSize = '16px';
                        }, 100);
                    }
                });
            });
            
            // Better mobile scrolling
            document.body.style.overflowX = 'hidden';
            document.body.style.touchAction = 'manipulation';
            
            console.log('✅ Mobile optimizations applied');
        }
        
        // Setup device specific optimizations
        function setupDeviceSpecificOptimizations() {
            // Existing tablet/mobile optimizations...
        }
        
        // SETUP SCROLL EFFECTS
        function setupScrollEffects() {
            // Existing scroll effects...
        }
        
        // SETUP MOBILE MENU
        function setupMobileMenu() {
            // Existing mobile menu setup...
        }
        
        // Load Lawyers
        function loadLawyers(specialization = 'all') {
            // Existing lawyers loading...
        }
        
        // Contact Lawyer
        function contactLawyer(lawyerId) {
            // Existing contact lawyer...
        }
        
        // Search Lawyers
        function searchLawyers() {
            // Existing search lawyers...
        }
        
        // Legal Act Search
        function searchActs() {
            // Existing search acts...
        }
        
        // Case Law Search
        function searchCaseLaws() {
            // Existing case law search...
        }
        
        // Open Legal Calculator
        function openLegalCalculator(type = 'court-fee') {
            // Existing calculator...
        }
        
        // Show Calculator Modal
        function showCalculatorModal(title, content) {
            // Existing calculator modal...
        }
        
        // Close Modal
        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'none';
                document.body.classList.remove('modal-open');
                setTimeout(() => {
                    modal.remove();
                }, 300);
            }
        }
        
        // Calculate Court Fee
        function calculateCourtFee() {
            // Existing court fee calculation...
        }
        
        // Calculate Stamp Duty
        function calculateStampDuty() {
            // Existing stamp duty...
        }
        
        // Calculate Compensation
        function calculateCompensation() {
            // Existing compensation...
        }
        
        // Generate Document (from main page)
        function generateDocument(type) {
            // Existing document generation...
        }
        
        // Finalize Document Generation
        function finalizeDocument(type) {
            // Existing finalize document...
        }
        
        // Open Legal Guide
        function openGuide(guideType) {
            // Existing guide opening...
        }
        
        // Download Guide
        function downloadGuide(guideType) {
            // Existing guide download...
        }
        
        // SIMPLE GOOGLE AUTH
        function initializeSimpleGoogleAuth() {
            // Existing Google auth...
        }
        
        // RENDER GOOGLE SIGN-IN BUTTON
        function renderGoogleSignInButton() {
            // Existing Google button render...
        }
        
        // HANDLE GOOGLE CREDENTIAL RESPONSE
        function handleGoogleCredentialResponse(response) {
            // Existing credential handling...
        }
        
        // CHECK FOR EXISTING USER
        function checkExistingUser() {
            // Existing user check...
        }
        
        // UPDATE USER UI
        function updateUserUI() {
            // Existing user UI update...
        }
        
        // SETUP ALL EVENT LISTENERS
        function setupEventListeners() {
            console.log('🔧 Setting up event listeners');
            
            // ChatGPT Style Chat Events
            const chatGPTBackBtn = document.getElementById('chatgptBackBtn');
            if (chatGPTBackBtn) {
                chatGPTBackBtn.addEventListener('click', closeChatGPTChat);
            }
            
            const chatGPTClearBtn = document.getElementById('chatgptClearBtn');
            if (chatGPTClearBtn) {
                chatGPTClearBtn.addEventListener('click', clearChatGPTChat);
            }
            
            const chatGPTExportBtn = document.getElementById('chatgptExportBtn');
            if (chatGPTExportBtn) {
                chatGPTExportBtn.addEventListener('click', exportChatGPTChat);
            }
            
            const chatGPTHistoryBtn = document.getElementById('chatgptHistoryBtn');
            if (chatGPTHistoryBtn) {
                chatGPTHistoryBtn.addEventListener('click', toggleChatGPTSidebar);
            }
            
            const sidebarToggleBtn = document.getElementById('sidebarToggleBtn');
            if (sidebarToggleBtn) {
                sidebarToggleBtn.addEventListener('click', toggleChatGPTSidebar);
            }
            
            const chatGPTNewChatBtn = document.getElementById('chatgptNewChatBtn');
            if (chatGPTNewChatBtn) {
                chatGPTNewChatBtn.addEventListener('click', function() {
                    clearChatGPTChat();
                    // Focus input
                    const messageInput = document.getElementById('chatgptMessageInput');
                    if (messageInput) {
                        messageInput.focus();
                    }
                });
            }
            
            const chatGPTSendBtn = document.getElementById('chatgptSendBtn');
            if (chatGPTSendBtn) {
                chatGPTSendBtn.addEventListener('click', sendChatGPTMessage);
            }
            
            // Quick question buttons
            document.querySelectorAll('.quick-question-btn').forEach(function(btn) {
                btn.addEventListener('click', function() {
                    const question = this.getAttribute('data-question');
                    const messageInput = document.getElementById('chatgptMessageInput');
                    if (messageInput) {
                        messageInput.value = question;
                        messageInput.focus();
                        // Auto-send after 500ms
                        setTimeout(sendChatGPTMessage, 500);
                    }
                });
            });
            
            // Document generation checkbox
            const chatGPTGenerateDocument = document.getElementById('chatgptGenerateDocument');
            if (chatGPTGenerateDocument) {
                chatGPTGenerateDocument.addEventListener('change', function() {
                    const documentType = document.getElementById('chatgptDocumentType');
                    if (documentType) {
                        documentType.disabled = !this.checked;
                    }
                });
            }
            
            // Redirect all chat buttons to ChatGPT interface
            const chatButtons = [
                'startChatBtn', 'heroAssistantBtn', 'ctaStartChat', 
                'freePlanBtn', 'mobileStartChat'
            ];
            
            chatButtons.forEach(btnId => {
                const btn = document.getElementById(btnId);
                if (btn) {
                    btn.addEventListener('click', function(e) {
                        e.preventDefault();
                        openChatGPTChat();
                    });
                }
            });
            
            // Existing event listeners...
            const headerLoginBtn = document.getElementById('headerLoginBtn');
            if (headerLoginBtn) {
                console.log('✅ Found header login button');
                headerLoginBtn.addEventListener('click', showLoginModal);
            } else {
                console.error('❌ Header login button not found!');
            }
            
            // Logout button
            const logoutBtn = document.getElementById('logoutBtn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', handleLogout);
            }
            
            // Watch demo button
            const watchDemo = document.getElementById('watchDemo');
            if (watchDemo) {
                watchDemo.addEventListener('click', showDemo);
            }
            
            // Pricing buttons
            const proPlanBtn = document.getElementById('proPlanBtn');
            if (proPlanBtn) {
                proPlanBtn.addEventListener('click', showLoginModal);
            }
            
            const businessPlanBtn = document.getElementById('businessPlanBtn');
            if (businessPlanBtn) {
                businessPlanBtn.addEventListener('click', function() {
                    showToast('Contact sales feature coming soon!', 'info');
                });
            }
            
            // Login modal buttons
            const closeLoginModal = document.getElementById('closeLoginModal');
            if (closeLoginModal) {
                closeLoginModal.addEventListener('click', hideLoginModal);
            }
            
            const demoLoginBtn = document.getElementById('demoLoginBtn');
            if (demoLoginBtn) {
                demoLoginBtn.addEventListener('click', handleDemoLogin);
            }
            
            const customGoogleBtn = document.getElementById('customGoogleBtn');
            if (customGoogleBtn) {
                customGoogleBtn.addEventListener('click', handleCustomGoogleLogin);
            }
            
            // Modal overlay click to close
            const loginModal = document.getElementById('loginModal');
            if (loginModal) {
                loginModal.addEventListener('click', function(e) {
                    if (e.target === this || e.target.classList.contains('modal-overlay')) {
                        hideLoginModal();
                    }
                });
            }
            
            // Legal Tools Modal
            const legalToolsBtn = document.getElementById('legalTools');
            if (legalToolsBtn) {
                legalToolsBtn.addEventListener('click', function() {
                    const modal = document.getElementById('legalToolsModal');
                    if (modal) {
                        modal.style.display = 'flex';
                        document.body.classList.add('modal-open');
                    }
                });
            }
            
            const closeLegalTools = document.getElementById('closeLegalTools');
            if (closeLegalTools) {
                closeLegalTools.addEventListener('click', function() {
                    const modal = document.getElementById('legalToolsModal');
                    if (modal) {
                        modal.style.display = 'none';
                        document.body.classList.remove('modal-open');
                    }
                });
            }
            
            const legalToolsModal = document.getElementById('legalToolsModal');
            if (legalToolsModal) {
                legalToolsModal.addEventListener('click', function(e) {
                    if (e.target === this || e.target.classList.contains('modal-overlay')) {
                        this.style.display = 'none';
                        document.body.classList.remove('modal-open');
                    }
                });
            }
            
            // Legal links
            const termsLink = document.getElementById('termsLink');
            if (termsLink) {
                termsLink.addEventListener('click', showTerms);
            }
            
            const privacyLink = document.getElementById('privacyLink');
            if (privacyLink) {
                privacyLink.addEventListener('click', showPrivacy);
            }
            
            const disclaimerLink = document.getElementById('disclaimerLink');
            if (disclaimerLink) {
                disclaimerLink.addEventListener('click', showDisclaimer);
            }
            
            const cookieLink = document.getElementById('cookieLink');
            if (cookieLink) {
                cookieLink.addEventListener('click', showCookiePolicy);
            }
            
            // Schedule demo button
            const scheduleDemo = document.getElementById('ctaScheduleDemo');
            if (scheduleDemo) {
                scheduleDemo.addEventListener('click', function() {
                    showToast('Demo scheduling feature coming soon!', 'info');
                });
            }
            
            console.log('✅ All event listeners set up');
        }
        
        // INITIALIZE CHAT
        function initializeChat() {
            // Original chat initialization...
        }
        
        // AUTO RESIZE TEXTAREA
        function autoResizeTextarea() {
            // Original textarea resize...
        }
        
        // HANDLE INPUT KEYDOWN
        function handleInputKeydown(event) {
            // Original keydown handling...
        }
        
        // SHOW LOGIN MODAL
        function showLoginModal() {
            // Original login modal...
        }
        
        // HIDE LOGIN MODAL
        function hideLoginModal() {
            // Original hide login modal...
        }
        
        // HANDLE CUSTOM GOOGLE LOGIN
        function handleCustomGoogleLogin() {
            // Original custom Google login...
        }
        
        // HANDLE DEMO LOGIN
        function handleDemoLogin() {
            // Original demo login...
        }
        
        // HANDLE LOGOUT
        function handleLogout() {
            // Original logout handling...
        }
        
        // INITIALIZE APP WITH BACKEND
        async function initializeAppWithBackend() {
            // Original backend initialization...
        }
        
        // START CHAT
        function startChat() {
            // Redirect to ChatGPT interface
            openChatGPTChat();
        }
        
        // GO BACK TO HOME
        function goBackToHome() {
            // Original go back to home...
        }
        
        // CLEAR CHAT HANDLER
        function clearChatHandler() {
            // Original clear chat...
        }
        
        // EXPORT CHAT HANDLER
        function exportChatHandler() {
            // Original export chat...
        }
        
        // TOGGLE HISTORY SIDEBAR
        function toggleHistory() {
            // Original toggle history...
        }
        
        // LOAD CHAT HISTORY
        async function loadChatHistory() {
            // Original load history...
        }
        
        // UPDATE HISTORY LIST UI
        function updateHistoryList(history) {
            // Original update history list...
        }
        
        // LOAD CHAT FROM HISTORY
        async function loadChatFromHistory(chatId) {
            // Original load from history...
        }
        
        // DELETE CHAT HISTORY
        function deleteChatHistory(chatId) {
            // Original delete history...
        }
        
        // SEND MESSAGE HANDLER
        async function sendMessageHandler() {
            // Original send message...
        }
        
        // ADD MESSAGE TO CHAT UI
        function addMessageToChat(content, isUser, isDocument, documentType) {
            // Original add message...
        }
        
        // FORMAT MESSAGE TEXT
        function formatMessageText(text) {
            // Original format text...
        }
        
        // SHOW TYPING INDICATOR
        function showTypingIndicator(show) {
            // Original typing indicator...
        }
        
        // ATTACH FILE HANDLER
        function attachFileHandler() {
            // Original attach file...
        }
        
        // START VOICE INPUT
        function startVoiceInput() {
            // Original voice input...
        }
        
        // SHOW DEMO
        function showDemo() {
            // Original demo...
        }
        
        // SHOW TERMS
        function showTerms(e) {
            // Original terms...
        }
        
        // SHOW PRIVACY POLICY
        function showPrivacy(e) {
            // Original privacy...
        }
        
        // SHOW DISCLAIMER
        function showDisclaimer(e) {
            // Original disclaimer...
        }
        
        // SHOW COOKIE POLICY
        function showCookiePolicy(e) {
            // Original cookie policy...
        }
        
        // FORMAT TIME
        function formatTime(dateString) {
            // Original format time...
        }
        
        // SHOW TOAST NOTIFICATION
        function showToast(message, type) {
            type = type || 'info';
            const container = document.getElementById('toastContainer');
            if (!container) return;
            
            const toast = document.createElement('div');
            toast.className = 'toast toast-' + type;
            
            const icons = {
                success: 'fas fa-check-circle',
                error: 'fas fa-exclamation-circle',
                warning: 'fas fa-exclamation-triangle',
                info: 'fas fa-info-circle'
            };
            
            toast.innerHTML = '<i class="' + (icons[type] || icons.info) + '"></i><span>' + message + '</span>';
            
            container.appendChild(toast);
            
            // Position toast based on device
            if (isMobile) {
                toast.style.bottom = '70px'; // Above mobile keyboard/buttons
                toast.style.maxWidth = '90%';
            }
            
            setTimeout(function() {
                toast.classList.add('fade-out');
                setTimeout(function() {
                    if (toast.parentNode === container) {
                        container.removeChild(toast);
                    }
                }, 300);
            }, 3000);
            
            console.log('📢 Toast (' + type + '):', message);
        }
        
        // MAKE FUNCTIONS AVAILABLE GLOBALLY
        window.loadChatFromHistory = loadChatFromHistory;
        window.deleteChatHistory = deleteChatHistory;
        window.searchActs = searchActs;
        window.searchCaseLaws = searchCaseLaws;
        window.openLegalCalculator = openLegalCalculator;
        window.searchLawyers = searchLawyers;
        window.contactLawyer = contactLawyer;
        window.generateDocument = generateDocument;
        window.openGuide = openGuide;
        window.downloadGuide = downloadGuide;
        window.finalizeDocument = finalizeDocument;
        window.openLegalActSearch = searchActs;
        window.calculateCourtFee = calculateCourtFee;
        window.calculateStampDuty = calculateStampDuty;
        window.calculateCompensation = calculateCompensation;
        window.closeModal = closeModal;
        window.startDocumentGeneration = startDocumentGeneration;
        window.selectDocumentType = selectDocumentType;
        window.showDocumentCategories = showDocumentCategories;
        window.viewDocumentTemplates = viewDocumentTemplates;
        window.generateFinalDocument = generateFinalDocument;
        window.downloadGeneratedDocument = downloadGeneratedDocument;
        
        console.log('✅ LegalSwami Premium App Initialization Complete!');
    </script>
</body>
</html>
